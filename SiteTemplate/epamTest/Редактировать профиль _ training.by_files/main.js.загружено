"use strict";angular.module("rd.core",["angular.translate","StatusPopup"]),angular.module("rd.main",["ui.bootstrap","angular.translate","angular.chosen","fastMatcher","ngResource","ui.router","restangular","ngRoute","UrlResolver","StatusPopup","ngSanitize","LocalStorageModule","rd.core","ngFileUpload","ui.select","ngCookies","mwl.calendar","angularMoment","moment-picker","ngMessages"]).config(["$compileProvider","localStorageServiceProvider",function(e,t){e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|chrome-extension|skype):/),t.setPrefix("")}]).config(["calendarConfig",function(e){e.displayEventEndTimes=!1,e.showTimesOnWeekView=!0,e.dateFormatter="moment",e.allDateFormats.moment.date.hour="HH:mm",e.allDateFormats.moment.title.day="dddd (MMMM D, YYYY)",e.allDateFormats.moment.title.week="{week}, {year}",e.allDateFormats.angular.date.hour="HH:mm",e.allDateFormats.angular.title.day="EEEE (MMMM d, yyyy)",e.allDateFormats.angular.title.week="{week}, {year}",e.templates.calendarDayView="/Templates/custom-mwl-calendar/DayTemplate.html",e.templates.calendarWeekView="/Templates/custom-mwl-calendar/WeekTemplate.html",e.templates.calendarMonthView="/Templates/custom-mwl-calendar/MonthTemplate.html",e.templates.calendarMonthCell="/Templates/custom-mwl-calendar/MonthCellTemplate.html",e.templates.calendarSlideBox="/Templates/custom-mwl-calendar/SlideBoxTemplate.html"}]).config(["$locationProvider",function(e){e.hashPrefix("!")}]).config(["$urlMatcherFactoryProvider",function(e){e.caseInsensitive(!0),e.strictMode(!1)}]).config(["$httpProvider",function(e){angular.extend(e.defaults.headers.common,{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:0,"X-Requested-With":"XMLHttpRequest"}),e.interceptors.push("HttpErrorService"),e.interceptors.push("CsrfTokenService")}]).config(["$provide",function(e){e.decorator("uibDaypickerDirective",["$delegate",function(e){return e[0].templateUrl="Templates/custom-ui-bootstrap/datepicker/day.html",e}]),e.decorator("uibMonthpickerDirective",["$delegate",function(e){return e[0].templateUrl="Templates/custom-ui-bootstrap/datepicker/month.html",e}]),e.decorator("uibYearpickerDirective",["$delegate",function(e){return e[0].templateUrl="Templates/custom-ui-bootstrap/datepicker/year.html",e}])}]).config(["momentPickerProvider",function(e){var t,a=document.cookie.match(new RegExp("UserCurrentLocale=([^;]+)"));a&&(t=a[1]),e.options({locale:t||"en",format:"L LTS",minView:"decade",maxView:"minute",startView:"year",autoclose:!0,today:!1,keyboard:!1,minutesStep:5})}]).factory("AdministrationRestangular",["Restangular","$url",function(e,t){return e.withConfig(function(e){e.setBaseUrl(t("Administration"))})}]).run(["$rootScope","$state","$window","$uibModal","$uibModalStack","$http","$translate","moment","$cookies","$location","UrlParamsService","MetaTagsService","DomainService","CommonService","GtmTokenService","LOCALE_LANGUAGES","PreferencesService","LoginService","LOGIN_ITEMS",function(t,r,a,e,o,n,i,l,s,c,m,d,u,h,p,g,f,w,v){function T(e){var t=0<arguments.length&&void 0!==e?e:g.en;return Object.keys(g).find(function(e){return g[e]===t})}function S(e){var t=new Date;t.setFullYear(t.getFullYear()+1),$.cookie("UserCurrentLocale",e,{expires:t,path:"/"})}var k;if(s.getAll().hasOwnProperty("UserCurrentLocale"))k=s.get("UserCurrentLocale"),l.locale(k);else{var y=u.getDomain();n.get("/api/application-info/get-domain-culture?domain="+y).then(function(e){var t=e.data?e.data:g.en;S(t),l.locale(t)})}var M=localStorage.getItem(v.accessToken);function P(t){h.showGlobalPreloader(),n.get("/UserProfile/SetLocale?locale="+t).then(function(){S(t);var e=new URLSearchParams(window.location.search);e.set("lang",T(t)),window.location.href.includes("#!")?(a.location.href=window.location+(window.location.href.includes("?")?"&":"?")+e.toString(),a.location.reload()):window.location.href=window.location.origin+window.location.pathname+"?"+e.toString()})}if(n.defaults.headers.common.application="monolith",n.defaults.headers.common["user-culture"]=T(k),w.isLoggedUser()&&M&&(n.defaults.headers.common.Authorization=v.bearerPrefix+M),window.isHolidayTheme&&"True"===window.isHolidayTheme){var D=1200<=window.innerWidth,C=new Snowflakes({color:"#9de3f8",count:D?45:30});C.hide(),C.stop()}var L=t.$on("$stateChangeStart",function(e,t,a){if(t.redirectTo)return e.preventDefault(),void r.go(t.redirectTo,a,{location:"replace"});var o=d.getMetaLocation(),n={};t.data&&t.data.title&&(n.title=i(t.data.title).format(o)),t.data&&t.data.seoTitle?(n.description=i("MetaDescription"+t.data.seoTitle).format(o),n.keywords=i("MetaKeywords"+t.data.seoTitle)):(d.removeTags("meta",'name="description"'),d.removeTags("meta",'name="keywords"')),d.addMetaTags(n),d.removeTags("meta",'name="robots"'),!u.isDomain("ua")||"en-US"!=k&&"ru-RU"!=k||d.createTag("meta",{name:"robots",content:"noindex, nofollow"}),window.isHolidayTheme&&"True"===window.isHolidayTheme&&("home"===t.name?(C.show(),C.start()):(C.hide(),C.stop()))});t.$on("$stateChangeSuccess",function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,p.sendPageReady(),p.hasTokens()&&p.sendRegisterEvent(),$("#main-placeholder").hide()}),t.switchLocaleUrl=function(e){t.showPopup&&t.showPopup()?t.confirmationPopup(i("Dlg_ChangeLocaleMessage"),function(){window.onbeforeunload=null,b(),c.search("lang",null),P(e)}):(b(),c.search("lang",null),P(e))};var U=s.get("UserCurrentLocale"),b=t.$on("$locationChangeStart",function(e,t){m.setLang(U),d.addCanonical(t)});(a.location.pathname.startsWith("/Skills")||a.location.pathname.startsWith("/PersonalDataAgreement")||a.location.pathname.startsWith("/Training/Details")||a.location.pathname.startsWith("/News/Items")||a.location.pathname.startsWith("/Events")||a.location.pathname.startsWith("/CareerTest"))&&(L(),b())}]);
"use strict";angular.module("rd.main").constant("BASIC_HEADER_ROUTES",[{name:"Programs",route:"/training"},{name:"Events_HeaderText",route:"/event"},{name:"TrainingList_Skills",route:"/skill"},{name:"Blog",route:"/blog"},{name:"AboutUs",route:"/about"}]);
"use strict";angular.module("rd.main").constant("CONTAINER_RESULT_STATES",{UNKNOWN:-1,NOT_ACTIVE:0,ASSIGNED:1,IN_PROGRESS:2,PASSED:3,FAILED:4,VALID:5});
"use strict";angular.module("rd.main").constant("CONTAINER_RESULT_STATUSES",{UNKNOWN:-1,PASSED:0,FAILED:1,ASSIGNED:2,NOT_STARTED:3,REGISTERED_BEFORE_LINKED:4,ONLY_SURVEYS_PASSED:5,WAITING_REVIEW:6});
"use strict";function DATE_ACTIONS(t){return[{id:0,translation:t("DataAction_BeforeStartDate")},{id:1,translation:t("DataAction_InStartDate")},{id:2,translation:t("DataAction_AfterStartDate")},{id:3,translation:t("DataAction_BeforeEndDate")},{id:4,translation:t("DataAction_InEndDate")},{id:5,translation:t("DataAction_AfterEndDate")}]}angular.module("rd.main").factory("DATE_ACTIONS",DATE_ACTIONS),DATE_ACTIONS.$inject=["$translate"];
"use strict";angular.module("rd.main").constant("DEFAULT_REGISTRATION_SURVEY",{definitions:["Where did you learn about our training?","Откуда вы узнали о нашем тренинге?","Звiдки ви дiзналися про нашi програми?"],options:[[{Option:"From friends/colleagues/EPAM employees",HasExplanation:!1},{Option:"Self-search on the Internet",HasExplanation:!1},{Option:"From social networks",HasExplanation:!1},{Option:"From the EPAM mailing list",HasExplanation:!1},{Option:"Events",HasExplanation:!1},{Option:"From educational institution (printed materials, teacher)",HasExplanation:!1},{Option:"HeadHunter",HasExplanation:!1}],[{Option:"От друзей/коллег/сотрудников EPAM",HasExplanation:!1},{Option:"Самостоятельный поиск в интернете",HasExplanation:!1},{Option:"Из социальных сетей",HasExplanation:!1},{Option:"Из рассылки EPAM",HasExplanation:!1},{Option:"На мероприятиях",HasExplanation:!1},{Option:"Из учебного заведения (печатные материалы, преподаватель)",HasExplanation:!1},{Option:"HeadHunter",HasExplanation:!1}],[{Option:"Вiд друзiв/ колег/ співробітників EPAM",HasExplanation:!1},{Option:"Самостійно шукав/ла в інтернеті",HasExplanation:!1},{Option:"Iз соціальних мереж",HasExplanation:!1},{Option:"Iз розсилки EPAM",HasExplanation:!1},{Option:"Пiд час заходів",HasExplanation:!1},{Option:"У навчальному закладі (друкована продукція, матеріали, викладач)",HasExplanation:!1},{Option:"HeadHunter",HasExplanation:!1}]]});
"use strict";angular.module("rd.main").constant("DISABLED_ASK_QUESTION_ROUTES",["/NewsManagement","/CenterManagement","/SkillsManagement"]);
"use strict";function DOCS_ACCOUNT_STATUSES(e){return{1:{id:"Requested",name:e("DocsAccount_Requested")},2:{id:"RequestToDocsIsFailed",name:e("DocsAccount_Failed")},3:{id:"RequestValidatedOnDocs",name:e("DocsAccount_Validated")},4:{id:"TransformedToPublicTrainee",name:e("DocsAccount_TransformedToPublicTrainee")},5:{id:"RequestedManualClose",name:e("DocsAccount_RequestedManualClose")},6:{id:"RequestedAutoClose",name:e("DocsAccount_RequestedAutoClose")},7:{id:"TransformedToPublicUser",name:e("DocsAccount_TransformedToPublicUser")},8:{id:"TransformedToEmployee",name:e("DocsAccount_TransformedToEmployee")}}}angular.module("rd.main").factory("DOCS_ACCOUNT_STATUSES",DOCS_ACCOUNT_STATUSES),DOCS_ACCOUNT_STATUSES.$inject=["$translate"];
"use strict";angular.module("rd.main").constant("DOCUMENTS_ICONS",{"fa-file-word":["doc","docx","rtf"],"fa-file-powerpoint":["ppt","pptx"],"fa-file-excel":["xls","xlsx"],"fa-file-alt":["txt"],"fa-file-pdf":["pdf"],"fa-file-image":["jpg","jpeg","png","tiff","webp","psd"],"fa-file-archive":["zip","rar","7z"],"fa-file-video":["mp4","avi","webm","mpeg","mpv","mpe","ogg","m4p","mov","wmv"]});
"use strict";angular.module("rd.main").constant("ENGLISH_LEVEL_DEFINITIONS",["EnglishLevel_DescriptionElementary","EnglishLevel_DescriptionElementaryPlus","EnglishLevel_DescriptionPreIntermediate","EnglishLevel_DescriptionPreIntermediatePlus","EnglishLevel_DescriptionIntermediate","EnglishLevel_DescriptionIntermediatePlus","EnglishLevel_DescriptionUpperIntermediate","EnglishLevel_DescriptionUpperIntermediatePlus","EnglishLevel_DescriptionAdvanced","EnglishLevel_DescriptionAdvancedPlus","EnglishLevel_DescriptionProficient","EnglishLevel_DescriptionNative"]);
"use strict";function LANGUAGE_CONTENT_TABS(t){return{getCenterTabs:function(e){return[{activeLanguage:e[0],Language:"en",titleId:"title-english",Title:"",descriptionId:"shortDescriptionEn",Description:"",metaTagTitleId:"metaTagTitleEn",MetaTagTitle:"",metaTagDescriptionId:"metaTagDescriptionEn",MetaTagDescription:"",metaTagKeywordsId:"metaKeywordsEn",MetaTagKeywords:"",Universities:[],Facts:[],Feedbacks:[]},{activeLanguage:e[1],Language:"ru",titleId:"title-russian",Title:"",descriptionId:"shortDescriptionRu",Description:"",metaTagTitleId:"metaTagTitleRu",MetaTagTitle:"",metaTagDescriptionId:"metaTagDescriptionRu",MetaTagDescription:"",metaTagKeywordsId:"metaKeywordsRu",MetaTagKeywords:"",Universities:[],Facts:[],Feedbacks:[]},{activeLanguage:e[2],Language:"ua",titleId:"title-ukranian",Title:"",descriptionId:"shortDescriptionUa",Description:"",metaTagTitleId:"metaTagTitleUa",MetaTagTitle:"",metaTagDescriptionId:"metaTagDescriptionUa",MetaTagDescription:"",metaTagKeywordsId:"metaKeywordsUa",MetaTagKeywords:"",Universities:[],Facts:[],Feedbacks:[]}]},getSkillTabs:function(e){return[{activeLanguage:e[0],title:t("LocaleName_English"),Language:"en",titleId:"title-english",Title:"",descriptionId:"description-english",Description:"",coreInfoId:"core-info-english",CoreInfo:"",additionalInfoId:"additional-info-english",AdditionalInfo:"",knowledgeInfoId:"knowledge-info-english",KnowledgeInfo:"",materialsInfoId:"materials-info-english",MaterialsInfo:"",bannerTextId:"banner-text-english",BannerText:"",imageId:"image-english",Image:null,videoLinkId:"video-link-english",VideoLink:"",metaTagTitleId:"meta-tag-title-english",MetaTagTitle:"",metaTagDescriptionId:"meta-tag-description-english",MetaTagDescription:"",metaTagKeywordsId:"meta-keywords-english",MetaTagKeywords:"",Facts:[]},{activeLanguage:e[1],title:t("LocaleName_Russian"),Language:"ru",titleId:"title-russian",Title:"",descriptionId:"description-russian",Description:"",coreInfoId:"core-info-russian",CoreInfo:"",additionalInfoId:"additional-info-russian",AdditionalInfo:"",knowledgeInfoId:"knowledge-info-russian",KnowledgeInfo:"",materialsInfoId:"materials-info-russian",MaterialsInfo:"",bannerTextId:"banner-text-russian",BannerText:"",imageId:"image-russian",Image:null,videoLinkId:"video-link-russian",VideoLink:"",metaTagTitleId:"meta-tag-title-russian",MetaTagTitle:"",metaTagDescriptionId:"meta-tag-description-russian",MetaTagDescription:"",metaTagKeywordsId:"meta-keywords-russian",MetaTagKeywords:"",Facts:[]},{activeLanguage:e[2],title:t("LocaleName_Ukrainian"),Language:"ua",titleId:"title-ukranian",Title:"",descriptionId:"description-ukranian",Description:"",coreInfoId:"core-info-ukranian",CoreInfo:"",additionalInfoId:"additional-info-ukranian",AdditionalInfo:"",knowledgeInfoId:"knowledge-info-ukranian",KnowledgeInfo:"",materialsInfoId:"materials-info-ukranian",MaterialsInfo:"",bannerTextId:"banner-text-ukranian",BannerText:"",imageId:"image-ukranian",Image:null,videoLinkId:"video-link-ukranian",VideoLink:"",metaTagTitleId:"meta-tag-title-ukranian",MetaTagTitle:"",metaTagDescriptionId:"meta-tag-description-ukranian",MetaTagDescription:"",metaTagKeywordsId:"meta-keywords-ukranian",MetaTagKeywords:"",Facts:[]}]},getNewsTabs:function(e){return[{activeLanguage:e[0],title:t("LocaleName_English"),titleInputId:"title-english",titleInput:"",introductionContentId:"introduction-english",introductionContent:"",newsEditorAreaId:"editorEnglish",newsEditorContent:"",quizLinkInputId:"quiz-link-english",quizLinkInput:"",metaTitleInputId:"meta-title-english",metaTitleInput:"",metaDescriptionInputId:"meta-description-english",metaDescriptionInput:"",metaKeywordsInputId:"meta-keywords-english",metaKeywordsInput:""},{activeLanguage:e[1],title:t("LocaleName_Russian"),titleInputId:"title-russian",titleInput:"",introductionContentId:"introduction-russian",introductionContent:"",newsEditorAreaId:"editorRussian",newsEditorContent:"",quizLinkInputId:"quiz-link-russian",quizLinkInput:"",metaTitleInputId:"meta-title-russian",metaTitleInput:"",metaDescriptionInputId:"meta-description-russian",metaDescriptionInput:"",metaKeywordsInputId:"meta-keywords-russian",metaKeywordsInput:""},{activeLanguage:e[2],title:t("LocaleName_Ukrainian"),titleInputId:"title-ukranian",titleInput:"",introductionContentId:"introduction-ukranian",introductionContent:"",newsEditorAreaId:"editorUkranian",newsEditorContent:"",quizLinkInputId:"quiz-link-ukranian",quizLinkInput:"",metaTitleInputId:"meta-title-ukranian",metaTitleInput:"",metaDescriptionInputId:"meta-description-ukranian",metaDescriptionInput:"",metaKeywordsInputId:"meta-keywords-ukranian",metaKeywordsInput:""}]}}}angular.module("rd.main").factory("LANGUAGE_CONTENT_TABS",LANGUAGE_CONTENT_TABS),LANGUAGE_CONTENT_TABS.$inject=["$translate"];
"use strict";function LANGUAGES(a){return[{id:"Russian",title:a("LocaleName_Russian"),key:"ru"},{id:"English",title:a("LocaleName_English"),key:"en"},{id:"Ukrainian",title:a("LocaleName_Ukrainian"),key:"ua"},{id:"Armenian",title:a("LocaleName_Armenian"),key:"am"}]}angular.module("rd.main").factory("LANGUAGES",LANGUAGES),LANGUAGES.$inject=["$translate"];
"use strict";function LANGUAGE_TABS(a){return[{id:"en",title:a("LocaleName_English")},{id:"ru",title:a("LocaleName_Russian")},{id:"ua",title:a("LocaleName_Ukrainian")}]}angular.module("rd.main").factory("LANGUAGE_TABS",LANGUAGE_TABS),LANGUAGE_TABS.$inject=["$translate"];
"use strict";angular.module("rd.main").constant("LINK_PATTERN","(^(http|https)://(\\S(?![\\^><;,]))*$)?").constant("TEAMS_LINK_PATTERN","(^(http|https):\\/\\/(teams.microsoft.com)\\/(\\S(?![\\^><;,]))*$)?");
"use strict";angular.module("rd.main").constant("LOCALE_LANGUAGES",{ru:"ru-RU",en:"en-US",ua:"uk-UA"});
"use strict";angular.module("rd.main").constant("LOGIN_ITEMS",{accessToken:"AccessToken",refreshToken:"RefreshToken",accessTokenLastRefreshTime:"AccessTokenLastRefreshTime",isLoggedCookie:"isLogged",CSRFToken:"CSRFToken",CSRFTokenHeader:"x-csrf-token",bearerPrefix:"Bearer ",loginRedirectUrl:"loginRedirectUrl",homeUrl:location.protocol+"//"+location.host+"/",loginCallback:location.protocol+"//"+location.host+"/Auth/LoginCallback",globalUserId:"GlobalUserId",isPmcAccountType:"IsPmcAccountType"});
"use strict";angular.module("rd.main").constant("MANAGEMENT_HEADER_ROUTES",[{name:"TrainingManagement",route:"/Management#!/trainings",translationKey:"Programs"},{name:"ProgramLaunchManagement",route:"/Management#!/program-launch-requests",translationKey:"Program_Launch_Requests"},{name:"EventManagement",route:"/Management#!/events",translationKey:"Events_HeaderText"},{name:"SkillsManagement",route:"/Management#!/skills",translationKey:"TrainingList_Skills"},{name:"NewsManagement",route:"/Root#!/NewsManagement",translationKey:"News"},{name:"UserManagement",route:"/Management#!/users",translationKey:"Users"},{name:"Administration",route:"/Management#!/portal-administration/cache-management",translationKey:"Administration"},{name:"Reports",route:"/Management#!/reports",translationKey:"Reports"},{name:"Search",route:"/Management#!/search",translationKey:"Search"}]);
"use strict";function MILITARY_DEFINITIONS(t){return[{id:0,value:t("Not_Specified_Common")},{id:1,value:t("Questionary_MilitaryAttitudeFit")},{id:2,value:t("Questionary_MilitaryAttitudeNotFit")},{id:3,value:t("Questionary_MilitaryAttitudeServed")},{id:4,value:t("Questionary_MilitaryAttitudeMilitaryDept")},{id:5,value:t("Questionary_MilitaryAttitudeNotBoundToServe")}]}angular.module("rd.main").factory("MILITARY_DEFINITIONS",MILITARY_DEFINITIONS),MILITARY_DEFINITIONS.$inject=["$translate"];
"use strict";angular.module("rd.main").constant("NEWS_TYPES",{NEWS:1,REAL_STORIES:2,MATERIALS:3,HARD_SKILLS:6,SOFT_SKILLS:7,EVENTS:8});
"use strict";angular.module("rd.main").constant("PLAN_STATUSES",{DRAFT:0,PLANNED:1,REGISTRATION_OPEN:2,FORM_GROUP:3,STARTED:4,FINISHED:5,CANCELED:6,REGISTRATION_CLOSED:7});
"use strict";function PREFERRED_METHOD(t){return[{id:0,methodName:t("RegistrationPage_ContactPhone")},{id:1,methodName:t("RegistrationPage_SocialNetwork")},{id:2,methodName:"E-mail"}]}angular.module("rd.main").factory("PREFERRED_METHOD",PREFERRED_METHOD),PREFERRED_METHOD.$inject=["$translate"];
"use strict";angular.module("rd.main").constant("PRICE_TYPES",{FREE:1,PAID:2,FREEMIUM:3});
"use strict";angular.module("rd.main").constant("PSY_TEST_RESULT_COLORS",{anxiety:"#ae61e3ab",lability:"#76CDD8",extraversion:"#C9DB48",spontaneity:"#ffc000",aggressiveness:"#F15C43",rigidity:"#fbd73eb0",introversion:"#008ACE",sensitivity:"#f14cbcad"});
"use strict";angular.module("rd.main").constant("QUILL_OPTIONS_DEFAULT",[["bold","italic","underline","strike"],["link"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{header:[1,2,3,4,5,6,!1]}],["clean"]]);
"use strict";angular.module("rd.main").constant("QUILL_OPTIONS_EXTENDED",[["bold","italic","underline","strike"],["link","image"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{header:[1,2,3,4,5,6,!1]}],["clean"]]);
"use strict";function REGISTRATION_STEPS(e){return[{id:0,template:"/Templates/TrainingRegistration/StepBasicInfo.html",title:e("UserProfile_Basic_Info"),isActive:!1,formName:"basicInfo",fields:["FirstName","LastName","Email","ContactPhone","BirthDate","SocialNetwork","CityOfResidence","PreferredCommunicationMethod","Portfolio","CurriculumVitae"]},{id:1,template:"/Templates/TrainingRegistration/StepEducationInfo.html",title:e("Questionary_DegreeEducation"),isActive:!1,formName:"education",fields:["EducationInformation","EnglishLevel","AdditionalEducationInformation","ProfessionalActivities"]},{id:2,template:"/Templates/TrainingRegistration/StepWorkInfo.html",title:e("Questionary_WorkHistory"),isActive:!1,formName:"workExperience",fields:["WorkInformation","ProgrammingLanguages","OperatingSystems","Platforms","Databases","Design"]}]}angular.module("rd.main").factory("REGISTRATION_STEPS",REGISTRATION_STEPS),REGISTRATION_STEPS.$inject=["$translate"];
"use strict";angular.module("rd.main").constant("REPORTS_HEADER_ROUTES",[{name:"Reports",route:"/Management#!/reports",translationKey:"Reports"}]);
"use strict";function SKILL_LEVELS(e){return[{Id:0,Value:e("Questionary_SkillLevelUnknown")},{Id:1,Value:e("Questionary_SkillLevelNovice")},{Id:2,Value:e("Questionary_SkillLevelIntermediate")},{Id:3,Value:e("Questionary_SkillLevelAdvanced")},{Id:4,Value:e("Questionary_SkillLevelExpert")}]}angular.module("rd.main").factory("SKILL_LEVELS",SKILL_LEVELS),SKILL_LEVELS.$inject=["$translate"];
"use strict";angular.module("rd.main").constant("SOCIAL_NETS",[{socialNetId:1,socialNetName:"GitHub",socialNet:"GitHub"},{socialNetId:2,socialNetName:"Skype name",socialNet:"Skype"},{socialNetId:3,socialNetName:"LinkedIn",socialNet:"LinkedIn"},{socialNetId:4,socialNetName:"Telegram",socialNet:"Telegram"},{socialNetId:5,socialNetName:"OK",socialNet:"Odnoklassniki"},{socialNetId:6,socialNetName:"VK id",socialNet:"Vk"},{socialNetId:7,socialNetName:"Facebook",socialNet:"Facebook"}]);
"use strict";angular.module("rd.main").constant("SPECIAL_HEADER_ROUTES",[]);
"use strict";function TARGET_AUDIENCE(e){return[{id:0,name:"Public",resource:e("TargetAudience_Public")},{id:1,name:"EpamEmployees",resource:e("TargetAudience_EpamEmployees")},{id:2,name:"Closed",resource:e("TargetAudience_Closed")},{id:3,name:"DepartmentAffiliate_Students",resource:e("TargetAudience_DepartmentAffiliate_Students")}]}angular.module("rd.main").factory("TARGET_AUDIENCE",TARGET_AUDIENCE),TARGET_AUDIENCE.$inject=["$translate"];
"use strict";angular.module("rd.main").constant("TabValidator",function(e){function t(e){return _.some(_.values(_.omit(e,"$$hashKey")))}function n(e){return _.every(_.values(_.omit(e,"$$hashKey")))}function r(e){return 1===e.length&&void 0===e[0]||_.every(e)}var i=e&&e.Universities&&e.Universities.map(function(e){return!t(e)||n(e)}),a=e&&e.Feedbacks&&e.Feedbacks.map(function(e){return!t(e)||!!e.AuthorName&&!!e.Text}),s=e&&e.Facts&&e.Facts.map(function(e){return!t(e)||n(e)});return!!e.Title&&!!e.Description&&r(i)&&r(a)&&!!e.Facts[0]&&!!e.Facts[0].Title&&!!e.Facts[0].Description&&_.every(s)});
"use strict";angular.module("rd.main").constant("CENTER_MANAGEMENT_TEXT_LENGTH",{maxCenterNameLength:50,maxRedactorLength:1e5,maxMetaTitleLength:255,maxMetaDescriptionLength:1e3,maxMetaKeywordsLength:1e3,maxUniversityNameLength:150,maxUniversityShortNameLength:50,maxFeedbackAuthorLength:50,maxFeedbackJobLength:50,maxFeedbackTextLength:1e3});
"use strict";angular.module("rd.main").constant("TRAINING_FORMATS",{FACETOFACE:1,ONLINE:2,BLENDED:3});
"use strict";angular.module("rd.main").constant("TRAINING_TYPES",{TRAINING:1,MENTORING:2,WORKSHOP:3,INTERNSHIP:4,SELF_STUDY:5,LABORATORY:6,DEPARTMENT_AFFILIATE:7,EDUCATIONAL_PRACTICE:8});
"use strict";angular.module("rd.main").constant("VIDEO_PATTERN","(^(https://)(videoportal.epam.com/video/|(www.)?youtube.com/(watch\\?v=|shorts/)|youtu.be/).+)?");
"use strict";angular.module("rd.main").constant("WORKFLOW_STATUSES",{NOT_SELECTED:0,APPLICANT:1,REJECTED:2,ACCEPTED:3,STUDENT:4,DISMISSED:5,FINISHED:6,UNDEFINED:7,ON_HOLD:8,CANCELLED:9});
"use strict";!function(){function e(e,o){var t=e;t.breadCrumbs=[{text:"Home",link:"/"}],t.owlOptions={loop:!1,rewind:!0,smartSpeed:600,responsive:{0:{items:1},768:{items:3},940:{items:4},1140:{items:5}}},t.$on("$viewContentLoaded",function(){o.sendViewAboutPage()})}angular.module("rd.main").controller("AboutController",e),e.$inject=["$scope","GtmTokenService"]}();
"use strict";!function(){function e(e,r,T,i,n,t){var a,s,P=e,D="MM/dd/yyyy",w=null;function M(){if(P.trainings){var e=P.trainings.length,t=(P.currentPage-1)*P.itemPerPage+1,i=P.currentPage*P.itemPerPage;e<=i&&(i=e);var n=[t,i,e];P.pagingMessage=r("Paging_Items")+" "+r("Paging_Summary",n)}}function l(){var e,t,i,n,r,a,s,l,o,c,d,f,g,u,p,m,y,S;P.trainings=w,P.filter.name&&(P.trainings=(e=P.trainings,t=P.filter.name,T("filter")(e,{Training:{Name:t}}))),P.filter.selectedCountries&&(P.trainings=(i=P.trainings,n=P.filter.selectedCountries,T("filter")(i,function(e){return-1!=_.findIndex(n,{id:e.Training.CountryId})}))),P.filter.selectedCities&&(P.trainings=(r=P.trainings,a=P.filter.selectedCities,T("filter")(r,function(e){return-1!=_.findIndex(a,{id:e.Training.CityId})}))),P.filter.selectedSkillName&&(P.trainings=(s=P.trainings,l=P.filter.selectedSkillName,T("filter")(s,function(e){return-1!=_.findIndex(l,{id:e.Training.TypeId})}))),P.filter.selectedTrainingStatus&&(P.trainings=(o=P.trainings,c=P.filter.selectedTrainingStatus,T("filter")(o,function(e){return-1!=_.findIndex(c,{id:e.Training.Status})}))),P.filter.selectedStartDate&&(P.trainings=(d=P.trainings,f=P.filter.selectedEndDate,g=new Date(T("date")(f,D)).getTime(),T("filter")(d,function(e){return new Date(T("date")(e.Group.Start,D)).getTime()<g}))),P.filter.selectedEndDate&&(P.trainings=(u=P.trainings,p=P.filter.selectedStartDate,m=new Date(T("date")(p,D)).getTime(),T("filter")(u,function(e){var t=new Date(T("date")(e.Group.Finish,D)).getTime();return m<t}))),P.filter.selectedWorkflowTypes&&(P.trainings=(y=P.trainings,S=P.filter.selectedWorkflowTypes,T("filter")(y,function(e){return-1!=_.findIndex(S,{id:e.Training.PlanTypeId})}))),M()}P.filter={selectedStartDate:((s=new Date).setMonth(s.getMonth()-3),s),selectedEndDate:((a=new Date).setMonth(a.getMonth()+9),a)},P.trainings=null,P.sortingOptions={column:"",reverse:!1},P.itemPerPage=8,P.currentPage=1,P.pagingMessage="",P.countries=[],P.cities=[],P.trainingStatuses=[],P.trainingTypes=[],P.workflowTypes=[],P.groupStatuses=[],P.spinner=!0,P.groupFrom=0,P.altInputFormats=["M!/d!/yyyy","yyyy-MMM-dd"],P.datePickerOptions={formatDay:"dd",formatMonth:"MMMM",formatYear:"yy",format:"dd-MMMM-yyyy",maxDate:new Date(2040,5,22),startingDay:1,showWeeks:!1},P.datePickerStart={opened:!1},P.datePickerEnd={opened:!1},P.excelWorkingObj={working:!1},P.exportToExcel=function(){function e(e){return e.id}var t={};t.Name=P.filter.name,P.filter.selectedCountries&&(t.SelectedCountries=P.filter.selectedCountries.map(e));P.filter.selectedCities&&(t.SelectedCities=P.filter.selectedCities.map(e));P.filter.selectedSkillName&&(t.SelectedTrainingTypes=P.filter.selectedSkillName.map(e));P.filter.selectedTrainingStatus&&(t.SelectedGroupStatuses=P.filter.selectedTrainingStatus.map(e));P.filter.selectedWorkflowTypes&&(t.SelectedWorkflowTypes=P.filter.selectedWorkflowTypes.map(e));t.StartDate=P.filter.selectedStartDate,t.EndDate=P.filter.selectedEndDate,n.toExcel(t,P.excelWorkingObj)},P.clearFilter=function(){P.filter={},P.itemPerPage=8},P.updateFilterModel=function(e,t){t.length||delete P.filter[e]},P.openDatePicker=function(e){P[e].opened=!0},P.cityFilter=function(){return function(e){if(P.filter.selectedCountries)return-1!=_.findIndex(P.filter.selectedCountries,{id:e.country})}},P.resetPage=function(){P.groupFrom=0,P.currentPage=1},t.getDropDownsData(function(e,t){200===t.status?(P.countries=e.countries,P.cities=e.cities,P.trainingStatuses=e.trainingStatuses,P.trainingTypes=e.trainingTypes,P.workflowTypes=e.workflowTypes,P.groupStatuses=e.groupStatuses):i.showMessage(r("Error_Generic"),"error")}),P.spinner=!0,n.getPlan().then(function(e){var t=e.data;w=t,l(),P.spinner=!1,M()}),P.$watch("filter",l,!0),P.$watch("currentPage",function(){P.groupFrom=(P.currentPage-1)*P.itemPerPage,M()}),P.$watch("itemPerPage",function(){M()})}angular.module("rd.main").controller("ActionPlanController",e),e.$inject=["$scope","$translate","$filter","popup","ActionPlanService","GetDropDownData"]}();
"use strict";!function(){function n(n){n.location.href="/CheckRavenDB/CheckOnlineTask"}angular.module("rd.main").controller("AdminRavenDb",n),n.$inject=["$window"]}(window);
"use strict";!function(){function n(n){n.location.href="/AdministrationRole"}angular.module("rd.main").controller("AdminRoles",n),n.$inject=["$window"]}(window);
"use strict";!function(){function n(n,i,a,t){var o=n;o.isContainerLinked=!1,o.linkContainer=function(){var n={startTrainingDate:o.startTrainingDate},e={templateUrl:"/Templates/AssignmentContainer/AssignmentContainerLinkPopup.html",controller:"LinkAssignmentContainerController",success:function(n){n.container&&n.deadline&&(o.container=n.container,o.deadline=n.deadline,o.deadlineDays=n.deadlineDays,o.isAssignmentContainerSaved=!1)}};a.showDialog(n,e)},o.unlinkContainer=function(){var n={title:i("Assignment_Container_Unlink_Popup_Title"),body:i("Assignment_Container_Unlink_Popup_Text"),cancel:i("Cancel"),ok:i("Unlink")},e={animation:!0,success:function(){var n=i("Assignment_Container_Unlink_Notification_Success");o.container.IsUnlinked=!0,o.isContainerLinked=!1,o.isAssignmentContainerSaved=!1,a.showMessage(n,"success")}};a.showDialog(n,e)},o.convertStringToDeadlineDate=function(){o.DeadlineDateString&&(o.planContainer.Deadline=t.utc(o.DeadlineDateString,"YYYY-MMM-DD HH:00"))},o.checkDeadlineLessToday=function(){var n=new Date;return new Date(o.planContainer.Deadline)<n},o.checkDeadlineMoreContainer=function(){var n=new Date(o.container.Deadline),e=new Date(o.planContainer.Deadline);return o.container.Deadline&&n<e},n.$watch("container",function(n,e){n&&n!==e&&(o.isContainerLinked=!0,function(n){o.container||(o.container={});o.container.Id=n.Id||" - ",o.container.Title=n.Title||" - ",o.container.Subtitle=n.Subtitle||" - ",o.planContainer||(o.planContainer={});o.planContainer.Id=o.container.Id,o.planContainer.Deadline=o.deadline||o.planContainer.Deadline||" - ",o.planContainer.DeadlineInDays=o.deadlineDays||o.planContainer.DeadlineInDays,o.minLinkDeadlineDateString=o.planContainer.DeadlineInDays?t(o.startTrainingDate).add(o.planContainer.DeadlineInDays,"days").format("YYYY-MMM-DD"):null,o.maxLinkDeadlineDateString=o.container.Deadline?t(o.container.Deadline).format("YYYY-MMM-DD"):null}(n))}),o.container&&(o.isContainerLinked=!0)}angular.module("rd.main").controller("AssignmentContainerController",n),n.$inject=["$scope","$translate","popup","moment"]}();
"use strict";!function(){function n(n,r,s,e,o,d,a){var l=n;function t(){l.minLinkDeadlineDateString=l.useDeadlineDays?moment(l.startTrainingDateString,"YYYY-MMM-DD").add(l.deadlineDays,"days").format("YYYY-MMM-DD"):null}l.containerId=null,l.containerForm={},l.container=null,l.maxContainerId=Math.pow(2,31)-1,l.deadlineDays=null,l.startTrainingDateString=a.startTrainingDate&&a.startTrainingDate.format("YYYY-MMM-DD"),l.linkContainer=function(){l.containerForm.$valid&&e.getActiveAssignmentContainer(l.containerId).then(function(n){var e=n.data,a=new Date(e.Deadline),t=new Date(l.deadline);if(e.Deadline&&a<t){var i=r("date")(a,"dd.MM.yyyy");d.showMessage(o("Assignment_Container_Deadline_Not_Exceed")+" "+i,"error")}else!function(n){l.container=n;var e=o("Assignment_Container_Link_Notification_Success");d.showMessage(e,"success");var a={container:l.container,deadline:new Date(l.deadline),deadlineDays:l.deadlineDays};s.close(a)}(e)}).catch(function(n){var e="string"==typeof n.data?n.data:o("UnexpectedResult")+". "+o("ModelState_error");d.showMessage(e,"error")})},l.updateDeadlineDays=function(){l.deadlineDays=l.useDeadlineDays?l.deadlineDays:null,t()},(l.updateMinDeadline=t)()}angular.module("rd.main").controller("LinkAssignmentContainerController",n),n.$inject=["$scope","$filter","$uibModalInstance","AssignmentContainerService","$translate","popup","resources"]}();
"use strict";!function(){function e(i,e,n,r,t,o,a,s,c,l){var u=e;function p(){u.currentPage={num:1}}u.statuses=[{id:void 0,name:r("All")},{id:0,name:r("Status_Draft")},{id:1,name:r("Status_Published_Male")}],u.sortingProps=[{prop:"Country",name:r("Country")},{prop:"City",name:r("City")},{prop:"Status",name:r("Staffing_Desk_Status")}],u.currentSortProp=u.sortingProps[0],u.tableResources={currentCountPicker:8,itemWithTooltip:null,countPickerList:[{value:8,name:8},{value:16,name:16},{value:32,name:32}],showTooltip:function(e){if(this.itemWithTooltip===e)this.itemWithTooltip=null;else{this.itemWithTooltip=e,$(document).on("click",this,function e(n){var t=$(n.target),i=$(".news-tooltip"),r=$(".rd-table__ellipsis");t.closest(i).length||t.closest(r).length||(n.data.itemWithTooltip=null,u.$digest(),$(document).off("click",e))})}},showActionsPopup:function(r){a.open({animation:!0,windowClass:"actions-modal",templateUrl:"/Templates/CenterManagement/ActionsPopup.html",controller:["$scope","mainScope","$uibModalInstance",function(e,n,t){var i=e;i.item=r,i.mainScope=n,i.removeTrainingCenter=function(e){i.mainScope.tableResources.removeTrainingCenter(e),i.cancel()},i.cancel=function(){t.dismiss("cancel")}}],resolve:{mainScope:function(){return e}}})},removeTrainingCenter:function(t){i.confirmationPopup(r("TrainingCenter_Delete"),function(){s.removeCenter(t.Id).then(function(){var e=u.currentTrainingCenters.indexOf(t),n=u.trainingCenters.findIndex(function(e){return e.Id===t.Id});u.currentTrainingCenters.splice(e,1),u.trainingCenters.splice(n,1),i.statusPopup(r("TrainingCenter_Deleted"))})})},resetPage:p},u.applyFilters=function(){u.currentTrainingCenters=o("filter")(u.trainingCenters,{Status:u.status}),u.country&&(u.currentTrainingCenters=o("filter")(u.currentTrainingCenters,{CountryId:u.country.Id},!0));u.city&&(u.currentTrainingCenters=o("filter")(u.currentTrainingCenters,{CityId:u.city.Id},!0));p()},u.resetFilters=function(){u.currentTrainingCenters=u.trainingCenters,u.country=void 0,u.city=void 0,u.status=void 0},u.getFiltersAmount=function(){return[u.country,u.city,u.status].reduce(function(e,n){return void 0!==n?++e:e},0)},u.showFilterPopup=function(){a.open({animation:!0,windowClass:"task-modal center-management",templateUrl:"/Templates/CenterManagement/FilterPopup.html",controller:["$scope","mainScope","$uibModalInstance",function(e,n,t){var i=e;i.mainScope=n,i.resetPopupFilters=function(){i.previousCountry=null,i.previousCity=null,i.newsMainScope.resetFilters()},i.closePopup=function(){i.mainScope.country=i.country,i.mainScope.city=i.city,i.mainScope.applyFilters(),i.cancel()},i.cancel=function(){t.dismiss("cancel")},i.previousCountry=i.mainScope.country,i.previousCity=i.mainScope.city}],resolve:{mainScope:function(){return e}}})},u.showSortByPopup=function(){a.open({animation:!0,windowClass:"task-modal center-management",templateUrl:"/Templates/CenterManagement/SortByPopup.html",controller:["$scope","$uibModalInstance","mainScope",function(e,n,t){var i=e;i.mainScope=t,i.previousSortByState=i.mainScope.currentSortProp,i.closePopup=function(){i.mainScope.currentSortProp=i.previousSortByState,i.cancel()},i.cancel=function(){n.dismiss("cancel")}}],resolve:{mainScope:function(){return e}}})},u.setCurrentSortProp=function(e){u.currentSortProp=e},u.tableTemplates={desktop:"/Templates/RdTable/CenterManagementPage/CenterListTableTemplate.html",landscape:"/Templates/RdTable/CenterManagementPage/CenterListTableTemplate.html",portrait:"/Templates/RdTable/CenterManagementPage/CenterListTableTemplate.html",phone:"/Templates/RdTable/CenterManagementPage/CenterListBriefTableTemplate.html"},c.checkTrainingCenterManagementPermission().then(function(e){c.transformPermission(e.data,u),u.TrainingCenterManagePermission||n.go("home")}).catch(function(){n.go("home")}),t.all([l.getLocationsWithTrainingCenter(),s.getCenters(),l.getLocations()]).then(function(e){u.countries=e[0].data,u.trainingCenters=e[1].data,u.allCountries=e[2].data,u.trainingCenters=u.trainingCenters.map(function(e){var n=_.findWhere(u.countries,{Id:e.CountryId})||_.findWhere(u.allCountries,{Id:e.CountryId}),t=_.findWhere(n.Cities,{Id:e.CityId})||_.findWhere(u.allCountries,{Id:e.CountryId});return Object.assign(e,{Country:n.Name,City:t.Name,status:_.findWhere(u.statuses,{id:e.Status}).name})}),u.currentTrainingCenters=angular.copy(u.trainingCenters),u.tableResources.countPickerList.push({value:u.trainingCenters.length,name:r("All")})})}angular.module("rd.main").controller("CenterManagementController",e),e.$inject=["$rootScope","$scope","$state","$translate","$q","$filter","$uibModal","CenterManagementService","PermissionService","LocationsService"]}();
"use strict";!function(){function e(e,n,t,a,i,r,s,l,u,o,c,g,d,m,T){var C=e;C.breadCrumbs=[{text:"CenterManagement_Management",link:"/#!/CenterManagement"}],C.country=null,C.statusId=0,C.centerId=null,C.city=null,C.cities=null,C.skills=null,C.img=null,C.isTabFilled=m,C.languageTabs=g,C.currentTab=C.languageTabs[0],C.languageContentTabs=d.getCenterTabs(C.languageTabs),C.subtitleClasses=function(){return{"create-center-item__subtitle-error":!C.isTabFilled(C.languageContentTabs[0])&&(C.trainingForm.$submitted||C.currentTab!==C.languageTabs[0])}},C.setFieldErrorLengthText=function(e){return i("InvalidMaxFieldLength").format(e)},C.addImage=function(){r.oneImageCropPopup(1.5).result.then(function(e){C.img=e})},C.createCenter=function(){C.isTabFilled(C.languageContentTabs[0])?C.img&&C.trainingForm.$valid&&function(){if(C.isTabFilled(C.languageContentTabs[1])&&C.isTabFilled(C.languageContentTabs[2]))p();else{var e=C.isTabFilled(C.languageContentTabs[1])||C.isTabFilled(C.languageContentTabs[2])?C.isTabFilled(C.languageContentTabs[1])?"CenterManagement_ConfirmationEnglishRussianReady":"CenterManagement_ConfirmationEnglishUkranianReady":"CenterManagement_ConfirmationEnglishReady";r.confirmationPopup(i(e),p)}}():(T.scrollTo($(".ng-invalid").length?$(".ng-invalid").first():$(".create-training-item__tabs")),C.currentTab=C.languageTabs[0])},C.goToPreview=function(){n.unsubscribe(),a.go("centerManagementPreview",{centerData:f(),initialCenter:b,isCreate:!0})};var b=f();function f(){return{Id:C.centerId,Status:C.statusId,CountryId:C.country?C.country.Id:null,CityId:C.city?C.city.Id:null,SkillsId:_.pluck(C.selectedSkills,"Id"),Image:C.img,Languages:C.languageContentTabs.map(function(e){return{Language:e.Language,Title:e.Title,Description:e.Description,MetaTagTitle:e.MetaTagTitle,MetaTagDescription:e.MetaTagDescription,MetaTagKeywords:e.MetaTagKeywords,Facts:e.Facts.filter(function(e){return e.Title&&e.Description}),Universities:e.Universities,Feedbacks:e.Feedbacks}})}}function p(){l.createCenter(f()).then(function(e){n.unsubscribe(),a.go("centerManagementEdit",{id:e.data}),r.statusPopup(i("CenterManagement_CenterCreated"))}).catch(function(e){r.statusPopup(e.data.Message,"error")})}Object.assign(C,c),s.checkTrainingCenterManagementPermission().then(function(e){s.transformPermission(e.data,C),C.TrainingCenterManagePermission||a.go("home")}).catch(function(){a.go("home")}),t.all([l.getCenters(!1),o.getLocations(),u.getSkills()]).then(function(e){C.centersCityIds=_.pluck(e[0].data,"CityId"),C.countries=e[1].data.map(function(e){return e.Cities.forEach(function(e){e.Disabled=C.centersCityIds.includes(e.Id)}),e}),C.skills=e[2].data,a.params.centerData&&(b=a.params.initialCenter,C.country=a.params.centerData.CountryId?_.findWhere(C.countries,{Id:a.params.centerData.CountryId}):null,C.city=a.params.centerData.CityId?_.findWhere(C.country.Cities,{Id:a.params.centerData.CityId}):null,C.selectedSkills=a.params.centerData.SkillsId?C.skills.filter(function(e){return a.params.centerData.SkillsId.includes(e.Id)}):null,C.img=a.params.centerData.Image,C.languageContentTabs=C.languageContentTabs.map(function(e,n){return Object.assign({},e,a.params.centerData.Languages[n])}))}),n.checker(C,function(){return!angular.equals(b,f())})}angular.module("rd.main").controller("CenterManagementCreateController",e),e.$inject=["$scope","UserLeaveService","$q","$state","$translate","$rootScope","PermissionService","CenterManagementService","TrainingListService","LocationsService","CENTER_MANAGEMENT_TEXT_LENGTH","LANGUAGE_TABS","LANGUAGE_CONTENT_TABS","TabValidator","CommonService"]}();
"use strict";!function(){function e(e,n,t,a,i,r,s,l,o,u,g,c,d,T,m){var C=e;C.breadCrumbs=[{text:"CenterManagement_Management",link:"/#!/CenterManagement"}],C.centerId=a.params.id,C.country=null,C.city=null,C.cities=null,C.skills=null,C.img=null,C.isTabFilled=m,C.languageTabs=d,C.currentTab=C.languageTabs[0],C.subtitleClasses=function(){return{"create-center-item__subtitle-error":!C.isTabFilled(C.languageContentTabs[0])&&(C.trainingForm.$submitted||C.currentTab!==C.languageTabs[0])}},C.setFieldErrorLengthText=function(e){return g("InvalidMaxFieldLength").format(e)},C.addImage=function(){i.oneImageCropPopup(1.5).result.then(function(e){C.img=e})},C.editCenter=function(){if(C.isTabFilled(C.languageContentTabs[0]))C.img&&C.trainingForm.$valid&&function(){if(C.isTabFilled(C.languageContentTabs[1])&&C.isTabFilled(C.languageContentTabs[2]))I();else{var e=C.isTabFilled(C.languageContentTabs[1])||C.isTabFilled(C.languageContentTabs[2])?C.isTabFilled(C.languageContentTabs[1])?"CenterManagement_ConfirmationEnglishRussianReady":"CenterManagement_ConfirmationEnglishUkranianReady":"CenterManagement_ConfirmationEnglishReady";i.confirmationPopup(g(e),I)}}();else{var e=angular.element(".create-training-item__tabs");u.scrollTo(e),C.currentTab=C.languageTabs[0]}},C.goToPreview=function(){n.unsubscribe(),a.go("centerManagementPreview",{centerData:p(),initialCenter:b})};var b=null;function f(t){C.languageContentTabs=T.getCenterTabs(C.languageTabs),C.country=_.findWhere(C.countries,{Id:t.CountryId}),C.statusId=t.Status,C.selectedSkills=C.skills.filter(function(e){return t.SkillsId.includes(e.Id)}),C.img=t.Image,C.languageContentTabs=C.languageContentTabs.map(function(e,n){return Object.assign({},e,t.Languages[n])})}function p(){return{Id:C.centerId,Status:C.statusId,CountryId:C.country?C.country.Id:null,CityId:C.city?C.city.Id:null,SkillsId:_.pluck(C.selectedSkills,"Id"),Image:C.img,Languages:C.languageContentTabs.map(function(e){return{Language:e.Language,Title:e.Title,Description:e.Description,MetaTagTitle:e.MetaTagTitle,MetaTagDescription:e.MetaTagDescription,MetaTagKeywords:e.MetaTagKeywords,Facts:e.Facts.filter(function(e){return e.Title&&e.Description}),Universities:e.Universities,Feedbacks:e.Feedbacks}})}}function I(){s.editCenter(p()).then(function(e){n.unsubscribe(),a.go("centerManagement"),i.statusPopup(g("CenterManagement_CenterChanged"),"success")}).catch(function(e){i.statusPopup(e.data.Message,"error")})}function M(){return!angular.equals(b,p())}Object.assign(C,c),r.checkTrainingCenterManagementPermission().then(function(e){r.transformPermission(e.data,C),C.TrainingCenterManagePermission||a.go("home")}).catch(function(){a.go("home")}),t.all([l.getLocationsWithTrainingCenter(),o.getSkills(),s.getCenter(C.centerId)]).then(function(e){C.countries=e[0].data,C.skills=e[1].data,C.city={Id:e[2].data.CityId,Name:e[2].data.CityRegionName},b=a.params.centerData?(f(a.params.centerData),angular.copy(a.params.initialCenter)):(f(e[2].data),angular.copy(p())),n.checker(C,M)})}angular.module("rd.main").controller("CenterManagementEditController",e),e.$inject=["$scope","UserLeaveService","$q","$state","$rootScope","PermissionService","CenterManagementService","LocationsService","TrainingListService","CommonService","$translate","CENTER_MANAGEMENT_TEXT_LENGTH","LANGUAGE_TABS","LANGUAGE_CONTENT_TABS","TabValidator"]}();
"use strict";!function(){function e(e,n,r,t,a,i){var c=e;c.languageTabs=t,c.currentTab=c.languageTabs[0],c.isTabFilled=i,r.params.centerData?a.checkTrainingCenterManagementPermission().then(function(e){a.transformPermission(e.data,c),c.TrainingCenterManagePermission||(n.unsubscribe(),r.go("home")),c.isCreate=r.params.isCreate,c.initialCenter=r.params.initialCenter,c.currentCenter=r.params.centerData,c.image=c.currentCenter.Image,c.skillsId=c.currentCenter.SkillsId}):r.go("centerManagement"),c.goBack=function(){n.unsubscribe(),c.isCreate?r.go("centerManagementCreate",{centerData:c.currentCenter,initialCenter:c.initialCenter}):r.go("centerManagementEdit",{id:c.currentCenter.Id,centerData:c.currentCenter,initialCenter:c.initialCenter})},n.checker(c,function(){return!angular.equals(c.initialCenter,c.currentCenter)})}angular.module("rd.main").controller("CenterManagementPreviewController",e),e.$inject=["$scope","UserLeaveService","$state","LANGUAGE_TABS","PermissionService","TabValidator"]}();
"use strict";!function(){function r(r,a,t,e,n){var i=r;function o(){var r={type:a.type,id:a.id,page:i.pagin.pageNumber+1||1,perPage:i.pagin.pageCount||8,orderParam:i.orderParam};i.isLoading=!0,n.getAuditByEntity(r).then(function(r){i.logs=r.logs,i.pagin.totalCount=r.totalCount,i.isLoading=!1})}i.isLoading=!1,i.query=e(a),i.pagin={},i.sortingOptions={column:"",reverse:!1},i.orderParam=0,i.back=function(){t.history.back()},i.changeSort=function(r){"date"===r&&(0!=i.orderParam?i.orderParam=0:i.orderParam=1);"name"===r&&(2!=i.orderParam?i.orderParam=2:i.orderParam=3);i.pagin.pageNumber=0,o()},(i.getEntitys=o)()}angular.module("rd.main").controller("AuditTrailEntityController",r),r.$inject=["$scope","$stateParams","$window","$httpParamSerializer","AuditTrailService"]}();
"use strict";!function(){function t(t,n,e,a,r,l,u){var i=t;function d(){if(function(){if(i.currentTab.startDate>i.currentTab.endDate)return void l.showMessage(r("Plan_EndDate_Should_Be_Greater_Than_StartDate"),"error");return 1}()){var e={type:(t=i.currentTab).type,entityIds:""!==t.entityId?t.entityId:void 0,name:t.name,startDate:t.startDate,endDate:t.endDate,PageNumber:i.pagin.pageNumber+1||1,EntityPerPage:i.pagin.pageCount||8};i.pagin.pageNumber=0,u.getAuditTrails(e).then(function(t){i.logs=t.logs,i.pagin.totalCount=t.totalCount,n.go(".",{type:e.type},{notify:!1})})}var t}i.createQuery=a,i.currentTab=null,i.pagin={},i.tabs=[{index:0,heading:"News",type:"News",entityId:null,name:null,startDate:null,endDate:null},{index:1,heading:"Training",type:"Plan",entityId:null,name:null,startDate:null,endDate:null},{index:2,heading:"Profile",type:"Profile",entityId:null,name:null,startDate:null,endDate:null},{index:4,heading:"Groups",type:"Group",entityId:null,name:null,startDate:null,endDate:null}],i.doReset=function(){i.currentTab.entityId=null,i.currentTab.name=null,i.currentTab.startDate=null,i.currentTab.endDate=null,d()},i.receiveData=d,i.setTab=function(){if(i.currentTab)return i.currentTab.index;return e.type?i.tabs.filter(function(t){return t.type===e.type})[0].index:i.tabs.filter(function(t){return"News"===t.type})[0].index},i.tabSelected=function(t){i.currentTab=t,d()}}angular.module("rd.main").controller("AuditTrailFilterController",t),t.$inject=["$scope","$state","$stateParams","$httpParamSerializer","$translate","popup","AuditTrailService"]}();
"use strict";!function(){function t(e,t,a,i,s,r,n,u,o,c,d,l,m,f,p){var D=t,g=a.planId;function S(){D.userData.NativeName=[D.nativeName.lastName,D.nativeName.firstName,D.nativeName.middleName].join(" ").trim(),D.privacyPolicyUrl&&f.registerPolicyConfirmation(g),D.isUserAlreadyRegistered?n.changeStudentGroupForStudent(g,D.userData.StudentGroupId,[D.userData.UserId]).then(function(){e.successPopup(r("RegistrationSuccess")),u.go("home")}):D.isPracticeRegistration?i.registerUserToPractice(g,D.userData).then(function(){e.successPopup(r("RegistrationSuccess")),u.go("home")}).catch(function(t){e.successPopup(t.data.Message)}):i.registerUserToAffiliate(g,D.userData).then(function(){e.successPopup(r("RegistrationSuccess")),u.go("home")}).catch(function(t){e.successPopup(t.data.Message)})}D.cities=[],D.nativeName={lastName:"",firstName:"",middleName:""},D.isPracticeRegistration=!1,D.isPracticeFormDisabled=!1,D.isCancelStatus=!1,D.isDraftOrPlannedStatus=!1,D.submitRegistration=function(t){if(t.$valid)if(D.isPracticeRegistration)S();else{var a=_.findWhere(D.studentGroups,{Id:D.userData.StudentGroupId});e.confirmationPopup(r("AffiliateRegistrationMessage").format(D.planName,a.Name),S)}},D.registerStudent=S,D.translitLastName=function(){!D.userData.LastName&&D.nativeName.lastName&&i.translit(D.nativeName.lastName).then(function(t){D.userData.LastName=t.data})},D.translitFirstName=function(){!D.userData.FirstName&&D.nativeName.firstName&&i.translit(D.nativeName.firstName).then(function(t){D.userData.FirstName=t.data})},D.isFormDisabled=function(){return D.isUserAlreadyRegistered||!D.userData||!D.isAllowedStatuses()},D.isAllowedStatuses=function(){return D.userData&&[c.PLANNED,c.REGISTRATION_OPEN,c.FORM_GROUP,c.STARTED].includes(D.userData.TrainingStatusId)},D.isAllowedStudentStatuses=function(){return D.userData&&![d.REJECTED,d.DISMISSED,d.FINISHED].includes(D.userData.WorkFlowStatusId)},D.isAllowedGroupChange=function(){return D.isUserAlreadyRegistered?D.userData&&[c.PLANNED,c.REGISTRATION_OPEN].includes(D.userData.TrainingStatusId):D.userData&&[c.PLANNED,c.REGISTRATION_OPEN,c.FORM_GROUP,c.STARTED].includes(D.userData.TrainingStatusId)},D.showConsentModal=function(){m.open({animation:!0,windowClass:"data-agreement-modal",templateUrl:"/Templates/DepartmentAffiliate/DataAgreementModal.html",size:"lg",controller:["$scope","$rootScope","$uibModalInstance","$http",function(i,t,a,e){i.isFileLoaded=!1,e({method:"GET",url:D.privacyPolicyUrl,headers:{Accept:"application/pdf"},responseType:"arraybuffer",transformResponse:function(t){var a=new Blob([t],{type:"application/pdf"}),e=URL.createObjectURL(a);i.isFileLoaded=!0,$("#pdf-file-viewer").attr("src",e),i.$applyAsync()}}),i.cancel=function(){a.dismiss("cancel")}}]})},D.onPracticeDepartmentChange=function(){console.log("vm.userData.Education.DepartmentId",D.userData.Education.DepartmentId);var t=D.departments.find(function(t){return t.DepartmentId===D.userData.Education.DepartmentId});t&&(D.userData.Education.Faculty=t.FacultyName)},D.isDataReady=!1,i.getAffiliateUserData(g).then(function(t){D.userData=t.data,D.initialGroupId=D.userData.StudentGroupId,D.userData.Education||(D.userData.Education={}),D.isUserLogged=!0,D.isUserAlreadyRegistered=D.userData.IsUserAlreadyRegistered||!!D.userData.StudentGroupId,D.participantStatus=r("DeptAffiliate_ParticipantStatus").format(D.userData.StudentStatus),D.courseStatus=r("DeptAffiliate_CourseStatus").format(D.userData.TrainingStatus),function(){var t=D.userData.NativeName;if(t){var a=t.split(" ");D.nativeName.lastName=a[0],D.nativeName.firstName=a[1],D.nativeName.middleName=a.slice(2).join(" ")}}()}).then(function(){n.getPlanInfo(g).then(function(t){if(D.planName=t.data.Name,D.privacyPolicyUrl=t.data.PrivacyPolicy?"/api/attachment?attachmentId="+t.data.PrivacyPolicy:null,D.userData.IsDataProcessingAgreed=!D.privacyPolicyUrl,D.privacyPolicyUrl){var a='<a href="https://training.by/PersonalDataAgreement" target="_blank">'+r("AffiliateRegistration_RegulationsProcessing")+"</a>";D.dataAgreementText=r("AffiliateRegistration_DataAgreement").format(a)}D.isPracticeRegistration=t.data.PlanTypeId===l.EDUCATIONAL_PRACTICE,D.isRegistrationOpenStatus=t.data.StatusId===c.REGISTRATION_OPEN,D.isCancelStatus=t.data.StatusId===c.CANCELED,D.isDraftOrPlannedStatus=[c.DRAFT,c.PLANNED].includes(t.data.StatusId),D.isPracticeFormDisabled=D.isPracticeRegistration&&(D.isUserAlreadyRegistered||!D.isRegistrationOpenStatus),D.isAllowedStatuses()||D.isUserAlreadyRegistered||D.isPracticeRegistration||e.successPopup(r("DeptAffiliate_TrainingStartedWarning"))}).then(function(){D.isPracticeRegistration||(D.studentGroups=D.userData.StudentGroups,D.userData.StudentGroupId=D.userData.StudentGroupId,D.isDataReady=!0),D.isPracticeRegistration&&i.getDepartments(g).then(function(t){D.departments=t.data,D.departments.length&&(D.userData.Education.EducationEstablishment=D.departments[0].UniversityName,D.userData.Education.Faculty=D.departments[0].FacultyName),D.isDataReady=!0})})}).catch(function(){p.login()})}angular.module("rd.main").controller("AffiliateRegistrationController",t),t.$inject=["$rootScope","$scope","$stateParams","AffiliateRegistrationService","UserProfileService","$translate","TrainingGroupsService","$state","CommonService","PLAN_STATUSES","WORKFLOW_STATUSES","TRAINING_TYPES","$uibModal","RegistrationWizardService","LoginService"]}();
"use strict";!function(){function t(a,t,n,e,i,o){var r=t,c=n.planId,s=n.userId;r.submitRegistration=function(t){t.$valid&&e.updateBasicInfo(r.userData,s).then(function(t){o.location.href="/Plan#!/TrainingsManagement/"+c+"/Participants"}).catch(function(t){a.successPopup(t.data.Message)})},i.getBasicInfo(s).then(function(t){r.userData=t.data})}angular.module("rd.main").controller("AffiliateRegistrationEditController",t),t.$inject=["$rootScope","$scope","$stateParams","EditProfileService","UserProfileService","$window"]}();
"use strict";!function(){function e(a,e,o,s,t,i,n){var l=e;l.displayModal=function(e){var t={title:s(e?"FAQ_EditQuestion":"FAQ_AddNewQuestion"),cancel:s("Cancel"),ok:s("Save"),faqId:e},n={size:"lg",templateUrl:"Templates/FAQ/EditQuestionTemplate.html",controller:"FaqEditController",success:function(){l.getFaqItems()}};i.showDialog(t,n)},l.getFaqItems=function(){a.getFaqApi().then(function(e){l.faqItems=e.data,l.countries=e.data.Countries,l.selectedItem=e.data.SelectedCountry})},l.delFAQ=function(e){var t={title:s("Remove"),body:s("FAQ_Delete_Question"),cancel:s("Cancel"),ok:s("Remove")},n={size:"lg",templateUrl:"Templates/FAQ/DeleteQuestionTemplate.html",success:function(){a.deleteItem(e).then(function(){l.getFaqItems(),o.statusPopup(s("FAQ_Delete_Confirm"),"success")})}};i.showDialog(t,n)},l.breadCrumbs=[{text:"Home",link:"/"}],l.microdataFaqJSON={"@context":"https://schema.org/","@type":"FAQPage",mainEntity:[]},l.faqItems=null,l.faqId=null,l.shMod=!1,l.countries=null,l.ChangableFaqItems=null,l.selectedItem=null,l.permissions=null,a.getFaqApi().then(function(e){l.faqItems=e.data,l.countries=e.data.Countries,l.selectedItem=e.data.SelectedCountry,l.microdataFaqJSON.mainEntity=l.faqItems.map(function(e){return{"@type":"Question",name:e.Question,acceptedAnswer:{"@type":"Answer",text:e.Answer}}})}),t.checkFaqPermissions().then(function(e){t.transformPermission(e.data,l)}),l.$on("$viewContentLoaded",function(){n.sendViewFAQPage()})}angular.module("rd.main").controller("FaqController",e),e.$inject=["FaqService","$scope","$rootScope","$translate","PermissionService","popup","GtmTokenService"]}();
"use strict";!function(){function e(e,a,t,n,c){var r=e,d={Id:"en-US",name:"English (United States)"};function u(e){return _.find(e,function(e){return e.SelectedLocale.Id===d.Id})}function l(e){var a=e.data.data;r.defaultFaq=u(a.LocalFAQs);var t,n,c,l=_.chain(a.LocalFAQs),o=_.chain(a.AvailableLocales);r.defaultFaq&&(l=l.filter(function(e){return e.SelectedLocale.Id!==d.Id}),o=o.filter(function(e){return e.Id!==d.Id})),l=l.uniq(function(e){return e.SelectedLocale.Id}).map(function(e){return[e.SelectedLocale.Id,e]}),o=o.sortBy(function(e){return e.Id}),r.selectedFAQs=_.object(l.value()),r.availableLocales=o.value(),r.selectedLocales=(t=r.availableLocales,n=r.selectedFAQs,c=[],_.each(t,function(e){var a,t;a=n,t=e,Boolean(_.find(a,function(e){return e.SelectedLocale.Id===t.Id}))&&c.push(e)}),c)}function o(e){var a=e.data.data;r.defaultFaq=u(a.LocalFAQs),r.availableLocales=a.AvailableLocales.filter(function(e){return e.Id!==d.Id})}function i(){a.close(r)}function s(e){c.showMessage(e.data.content,"error")}r.resources={},r.selectedFAQs={},r.availableCountries=[],r.availableLocales=[],r.selectedLocales=[],r.modalForm={},r.faqId=null,r.defaultFaq=null,r.isGlobalChecked=!1,r.ok=function(){var e=r.modalForm;e.$valid?function(){var e=_.map(r.selectedFAQs,function(e){return e}),a=function(n,e){var c=[];return _.each(e,function(e){var a,t;a=n,t=e,Boolean(_.find(a,function(e){return e.Id===t.SelectedLocale.Id}))&&c.push(e)}),c}(r.selectedLocales,e);r.defaultFaq&&a.push(r.defaultFaq);r.faqId?n.updateItem(r.faqId,a).then(i).catch(s):n.createItem(a).then(i).catch(s)}():_.each(e.$error,function(e){_.each(e,function(e){var a;(a=e).$setTouched(),a.$setDirty()})})},r.cancel=function(){a.dismiss("cancel")},r.getFieldErrors=function(e){var a=r.modalForm,t=a[e].$error;return(a.$submitted||a[e].$dirty)&&t},r.resources=t,r.faqId=t.faqId,r.faqId?n.getItem(r.faqId).then(l):n.createItemPrepare({}).then(o)}angular.module("rd.main").controller("FaqEditController",e),e.$inject=["$scope","$uibModalInstance","resources","FaqService","popup"]}();
"use strict";!function(){function t(t,n,i,e,o,a,s,c,l,r,u){var p=t;function T(t){return[c.DEPARTMENT_AFFILIATE,c.EDUCATIONAL_PRACTICE].includes(t.PlanTypeId)}function f(){return 1===p.currentTab.id}function S(t){p.tabs[0].applications=t.filter(d.bind(null,"activeStatuses")),p.tabs[1].applications=t.filter(d.bind(null,"inactiveStatuses")),p.tabs[2].applications=t.filter(d.bind(null,"completedStatuses"))}function d(t,n){return-1!==p[t].indexOf(n.WorkflowStatusId)}function C(){o.getApplicationsInfo().then(function(t){S(t.data)}).catch(function(t){e.go("home")})}p.breadCrumbs=[{text:"Home",link:"/"}],p.showCancelRegistrationPopup=function(t){i.cancelRegistrationPopup(t,C)},p.getApplicationsInfo=C,p.distributeCards=S,p.getTrainingDuration=function(t){return t.DurationInWeeks<4?t.DurationInWeeks:t.DurationInMonths},p.getStatusColor=function(t){return(d("completedStatuses",t)?"#0089cf":d("inactiveStatuses",t)&&"#d35d47")||d("activeStatusesNew",t)&&"#ccc"||d("activeStatusesAccepted",t)&&"#ffc000"||d("activeStatusesInProgress",t)&&"#89c679"},p.openDropdown=function(t){p.itemWithTooltip===t?p.itemWithTooltip=null:p.itemWithTooltip=t},p.getStatusState=d,p.takeEnglishTest=function(){i.confirmationPopup(n("RedirectToEnglishTest"),function(){a.open("UserProfile/StartEnglishTest")})},p.takeRegistrationTest=function(t){i.confirmationPopup(n("RedirectToRegistrationTest"),function(){a.open("/api/AssignmentContainer/"+t.ContainerId+"/"+t.OwnerId+"/link")})},p.isDepartment=T,p.isActiveApplicationsTab=f,p.isShowDropDownSection=function(t){return p.itemWithTooltip===t||f()&&!T(t)},p.isRegistrationCancelled=function(t){return t.CancelRegistrationReason&&t.WorkflowStatusId===r.NOT_SELECTED},p.getRegistrationCancelReason=function(t){return"Other"==t.CancelRegistrationReason?t.RegistrationCancelComment:n("CancelRegistrationReason_"+t.CancelRegistrationReason)},p.getLocation=function(t){return s.getMultiLocationText(t.PlanLocations)},p.setTooltipLocations=function(t){t.GroupedLocations=s.getTooltipMultiLocations(t.PlanLocations)},p.isShowLocationTooltip=function(t){var n=t.PlanLocations,i=_.groupBy(t.PlanLocations,"Country");return 1<_.size(i)||1==_.size(i)&&1<_.size(n)},p.isShowTooltipCountry=function(t){return 1<_.size(t.GroupedLocations)},p.isShowFreemiumButton=function(t){return t.Training.PlanTypeId!==c.DEPARTMENT_AFFILIATE&&t.PlanPricingTypeId===l.FREEMIUM&&[r.ACCEPTED,r.STUDENT].includes(t.WorkflowStatusId)},p.itemWithTooltip=null,p.assignmentContainerLinks=[],p.culture=u.search().lang,p.tabs=[{id:1,title:n("Students_Active"),applications:null,fallbackTitle:n("ActiveTraining"),fallbackInfo:n("ApplicationsFallbackInfoActive")},{id:2,title:n("Students_NotActive"),applications:null,fallbackTitle:n("InactiveTraining"),fallbackInfo:n("ApplicationsFallbackInfoInactive")},{id:3,title:n("Students_Completed"),applications:null,fallbackTitle:n("CompletedTraining"),fallbackInfo:n("ApplicationsFallbackInfoCompleted")}],p.activeStatuses=[r.APPLICANT,r.ACCEPTED,r.STUDENT,r.ON_HOLD],p.inactiveStatuses=[r.NOT_SELECTED,r.REJECTED,r.DISMISSED,r.CANCELLED],p.completedStatuses=[r.FINISHED],p.activeStatusesNew=[r.APPLICANT],p.activeStatusesAccepted=[r.ACCEPTED,r.ON_HOLD],p.activeStatusesInProgress=[r.STUDENT],p.currentTab=p.tabs[0],C()}angular.module("rd.main").controller("ApplicationsController",t),t.$inject=["$scope","$translate","$rootScope","$state","ApplicationsService","BlankWindowService","CommonService","TRAINING_TYPES","PRICE_TYPES","WORKFLOW_STATUSES","$location"]}();
"use strict";!function(){function e(e,t,o,n,r,i,m,a,u){var l,s=e;s.moveToApplyForm=function(){var e=angular.element("#applyForm .freemium-apply-form__title");m.scrollTo(e)},s.applyForm=function(){s.consultationForm.$valid&&u.sendRequest(s.freemium).then(function(){t.successPopup(n("FreemiumApplyFormText"),function(){window.history.back()})})},s.trustAsHtml=m.trustAsHtml,s.breadCrumbs=[{text:"Home",link:"/"},{text:"TrainingList",link:"/training"}],l=i.params.id,a.isLoggedUser()&&l?function(e){s.consultation=u.getInformation(e).then(function(e){s.freemium=e.data,s.VAT=n("VAT").format(s.freemium.TaxValue)})}(l):i.go("home")}angular.module("rd.main").controller("FreemiumController",e),e.$inject=["$scope","$rootScope","$interpolate","$translate","$stateParams","$state","CommonService","LoginService","FreemiumService"]}();
"use strict";!function(){function e(e,t,r,n,o,a,i,s,u,c){var l=e;function d(){l.fieldEmptyError=!1,l.userNotFoundError=!1}function m(){i.innerWidth<768?l.maxSize=1:l.maxSize=3}l.findUsers=function(){l.usersList=[],l.totalCount=null,d(),l.input?s.getSearch(l.input).then(function(e){l.usersList=e.data.Items,l.totalCount=e.data.TotalCount,l.userNotFoundError=!l.usersList.length}):l.fieldEmptyError=!0},l.currentPage=1,l.pageChanged=function(){s.changePage(l.input,l.currentPage).then(function(e){l.usersList=e.data.Items})},l.itemsPerPage=32,l.fieldEmptyError=!1,l.userNotFoundError=!1,l.clearErrorMessage=d,c.checkGlobalSearchPermission().then(function(e){c.transformPermission(e.data,l),l.GlobalSearchPermission||u.path("/")}).catch(function(){u.path("/")}),m(),angular.element(i).bind("resize",function(){m(),l.$applyAsync()})}angular.module("rd.main").controller("GlobalSearchController",e),e.$inject=["$scope","$rootScope","$translate","$uibModal","$stateParams","$sce","$window","GlobalSearchService","$location","PermissionService"]}();
"use strict";!function(){function e(e,n,s,o,c,i){var t=e;document.documentElement.clientWidth;if(t.$on("$viewContentLoaded",function(){i.sendViewHomePage()}),window.isHolidayTheme&&"True"===window.isHolidayTheme){var r=document.querySelector(".ny-cody");if(r){var a=function(){return r.classList.contains(l)},u=document.querySelector(".ny-cody-image"),l="show";r.style.display="block",u.addEventListener("click",function(){var e=document.querySelector(".ny-cody__text--one"),n=document.querySelector(".ny-cody__text--two");r.classList.toggle(l),e.classList.remove(l),n.classList.remove(l),a()&&(setTimeout(function(){a()&&e.classList.add(l)},500),setTimeout(function(){e.classList.remove(l),a()&&n.classList.add(l)},2200))})}}t.owlCarousel={responsive:{0:{items:1},767:{items:2},992:{items:2},1240:{items:3},1540:{items:4}},loop:!1,rewind:!0},t.isCarouselReady=!1,t.newsLoadLength=8,t.allNews=[],c.getCategories().then(function(e){t.categories=e.data});var d=s.search().unsubscribeEmail,m=s.search().unsubscribeId;(d||m)&&n.unsubscribeUser(),s.search().openFeedback&&n.askQuestionPopup().closed.then(function(){s.search("openFeedback",null)});s.search().openEmailError&&n.successPopup(o("IdentifyEmail")).closed.then(function(){s.search("openEmailError",null)});s.search().openSuccessfullyUnsubscribed&&n.successPopup(o("DreamTraining_Unsubscribe_Popup")).closed.then(function(){s.search("openSuccessfullyUnsubscribed",null)});s.search().openSubscribeTraining&&n.subscribeTrainingPopup().closed.then(function(){s.search("openSubscribeTraining",null)})}angular.module("rd.main").controller("HomeController",e),e.$inject=["$scope","$rootScope","$location","$translate","NewsService","GtmTokenService"]}();
"use strict";!function(){function e(e,o,r){e.resources=o}angular.module("rd.main").controller("DeleteNotificationController",e),e.$inject=["$scope","resources","InboxService"]}();
"use strict";!function(){function t(o,t,i,e,n,c,a,s,r,l,u,f,d,m){var h=t;function g(t){return-1!==h.checkedNotifications.indexOf(t)}function N(t){h.isViewed=t,h.currentFilter=null==t?"all":t?"read":"unread",h.checkedNotifications.length=0,k()}function p(){h.termInput=h.term,c.search(h.termInput,h.currentPage,h.itemsPerPage,h.isViewed,h.currentSortingColumn,h.isSortNotificationReversed).then(function(t){h.allNotifications=t.data.Items,h.totalCount=t.data.TotalCount})}function k(){h.termInput?p():c.getNotifications(h.currentPage,h.itemsPerPage,h.isViewed,h.currentSortingColumn,h.isSortNotificationReversed).then(function(t){h.allNotifications=t.data.Items,h.totalCount=t.data.TotalCount})}function v(t){if(0<t.length){var i=_.pluck(t,"Id");c.markAsViewed(i).then(function(){N(h.isViewed)}),h.checkedNotifications=[]}}function w(){return h.checkedNotifications.length===h.allNotifications.length&&0!==h.allNotifications.length}h.breadCrumbs=[{text:"Home",link:"/"}],h.currentFilter=a.params.filter||"all",h.model={notifications:[]},h.sortingOptions={column:"",reverse:!1},h.toggleCheckAll=function(){w()?h.checkedNotifications=[]:h.allNotifications.forEach(function(t){g(t)||h.checkedNotifications.push(t)})},h.uncheckAll=function(){h.checkedNotifications=[]},h.removeChecked=function(){h.deleteMessageDialog(h.checkedNotifications)},h.remove=function(t){h.deleteMessageDialog([t])},h.search=p,h.setNumberNotification=function(t,i){h.itemsPerPage=t===f("Students_All")?h.totalCount:t,N(i)},h.changeNotificationTypes=N,h.showNotification=function(t){var i=r.trustAsHtml(t.Body);e.open({animation:!0,backdrop:"static",windowClass:"inbox-message-popup",templateUrl:"/Templates/Inbox/MessagePopup.html",controller:["$scope","dialogInfo","$uibModalInstance",function(t,i,e){t.model=i,t.ok=function(){e.close()},t.cancel=function(){e.dismiss("cancel")}}],resolve:{dialogInfo:function(){return{body:i}}}}),h.isViewed||v([t])},h.deleteMessageDialog=function(t){var i=t;if(0<t.length){var e="<p>"+f("Remove_Notification")+"</p>";e+="<ul>",t.forEach(function(t){e+="<li>"+t.Subject+"</li>"}),e+="</ul>",o.confirmationPopup(e,function(){var t=_.pluck(i,"Id");c.remove(t).then(function(){N(h.isViewed)})})}},h.pageChanged=function(){h.checkedNotifications.length=0,k()},h.sortNotification=function(t,i){h.currentSortingColumn=t,h.isViewed=i,h.isSortNotificationReversed=!h.isSortNotificationReversed,h.checkedNotifications.length=0,k()},h.markAsNotViewed=function(){if(0<h.checkedNotifications.length){var t=_.pluck(h.checkedNotifications,"Id");c.markAsNotViewed(t).then(function(){N(h.isViewed)}),h.checkedNotifications=[]}},h.markAsViewed=v,h.toggleNotification=function(t){var i=h.checkedNotifications.indexOf(t);-1!==i?h.checkedNotifications.splice(i,1):h.checkedNotifications.push(t)},h.isNotificationChecked=g,h.isAllNotificationsChecked=w,h.isColumnSortedAscendently=function(t){return h.currentSortingColumn===t&&h.isSortNotificationReversed},h.maxSize=3,h.itemsPerPage=8,h.currentPage=1,h.term="",h.termInput="",h.currentSortingColumn="Created",h.isViewed=null,h.isSortNotificationReversed=!0,h.checkedNotifications=[],h.checked=!1,h.allNotifications=[],h.amountNotificationsPage=[8,16,32,f("Students_All")],h.currentCountNotificationsPage=h.amountNotificationsPage[0],h.dropDownActive=!1,h.openChoose=function(){h.dropDownActive=!h.dropDownActive},h.$onDestroy=function(){$("#notificationBtn").css("display","")},document.onclick=function(t){m.closestByClass(t.target,"notification-dropdown")||h.dropDownActive&&(h.dropDownActive=!1,h.$applyAsync())},d.innerWidth<768?h.maxSize=1:h.maxSize=3,N(h.isViewed)}angular.module("rd.main").controller("InboxListController",t),t.$inject=["$rootScope","$scope","dialog","$uibModal","$filter","InboxService","$state","$q","$sce","$url","popup","$translate","$window","CommonService"]}();
"use strict";!function(){function e(e,r,a,n,i,o,t){var s=e;function l(e,t,a){s.spinner=!0,r.getGroups(e,t,a).then(function(e){var t,a,r;s.groups=e.data.data.LearningGroups,s.totalItems=e.data.data.TotalGroupsCountByFilter,s.UserId=e.data.data.UserId,s.spinner=!1,s.watchFlag=!0,t=s.totalItems,s.groups&&(a=(s.currentPage-1)*s.itemPerPage+1,r=s.currentPage*s.itemPerPage<=t?s.currentPage*s.itemPerPage:t,s.paginTitleStr=n("Paging_Items")+" "+n("Paging_Summary",[a,r,t]))}).catch(function(e){var t=n("Error_Generic");o.showMessage(t,"error")})}function u(e){return 0===(e=+e)||isNaN(e)?e:0<e?1:-1}s.filterData=[],s.showContent=!1,s.groups=[],s.totalItems=[],s.UserId=0,s.spinner=!1,s.watchFlag=!1,s.filter={},s.filter.SortColumn=0,s.filter.IsAscending=!0,s.watchFlag=!1,s.groupList={},s.UserId=0,s.excelWorkingObj={working:!1},s.itemPerPage=8,s.currentPage=1,s.isCollapsed=!0,s.groupFrom=0,s.altInputFormats=["M!/d!/yyyy","yyyy-MMM-dd"],s.datePickerOptions={formatDay:"dd",formatMonth:"MMMM",formatYear:"yy",maxDate:new Date(2040,5,22),startingDay:1,showWeeks:!1},s.datePicker={opened:!1},s.calendarView="month",s.viewDate=new Date,moment.updateLocale("en",{week:{dow:1}}),moment.locale(t.getCurrentLang()),s.setSort=function(e,t){e!==s.filter.SortColumn&&(t=!0);s.filter.SortColumn=e,s.filter.IsAscending=t,l(s.filter,s.currentPage,s.itemPerPage)},s.checkSort=function(e,t){if(s.filter.SortColumn===e)return!0===t?"active-up":"active-down"},s.applyFilter=function(){var e=angular.copy(s.filter);e.Date=e.Date&&a("date")(e.Date,"yyyy/MM/dd");var t=new Date;t.setFullYear(t.getFullYear()+1),"True"===i.get("NeedSaveFilters")&&i.putObject("GroupFilterValues",s.filter,{expires:t});l(e,s.currentPage,s.itemPerPage)},s.clearFilter=function(){s.filter={},s.itemPerPage=8,s.currentPage=1,s.applyFilter()},s.openDatePicker=function(){s.datePicker.opened=!0},s.openScheduleDialog=function(e){if(e){var t={parentScope:s,subject:e},a={animation:!0,windowCssClass:"description-lesson-dialog",templateUrl:"/Templates/StudentLearning/DescrPopupTemplate.html",controller:"openScheduleDialogController"};o.showDialog(t,a)}},s.getLocation=function(e){return t.getMultiLocationText(e.PlanLocations)},r.getFilter().then(function(e){var t;s.filterData=e.data.data,s.showContent=!0,i.getAll().hasOwnProperty("GroupFilterValues")&&"True"===i.get("NeedSaveFilters")&&(t=JSON.parse(i.get("GroupFilterValues"))),t&&0<Object.keys(t).length&&(t.Date&&(t.Date=new Date(t.Date)),s.filter=t)}).catch(function(e){var t=n("Error_Generic");o.showMessage(t,"error")}),l(s.filter,s.currentPage,s.itemPerPage),s.$watch("currentPage",function(){s.watchFlag&&l(s.filter,s.currentPage,s.itemPerPage)}),s.$watch("UserId",function(){0!==s.UserId&&(s.calendarEvents=[],r.getTrainerEvents(s.UserId).then(function(o){o.data.events.forEach(function(e,t,a){var r=new Date(e.StartTime);r.setMinutes(r.getMinutes()+r.getTimezoneOffset()),r.setHours(r.getHours()+o.data.timeZoneHour),r.setMinutes(r.getMinutes()+u(o.data.timeZoneHour)*o.data.timeZoneMinutes);var n=new Date(e.FinishTime);n.setMinutes(n.getMinutes()+n.getTimezoneOffset()),n.setHours(n.getHours()+o.data.timeZoneHour),n.setMinutes(n.getMinutes()+u(o.data.timeZoneHour)*o.data.timeZoneMinutes);var i={TrainingName:e.TrainingName,GroupId:e.GroupId,GroupName:e.GroupName,Rooms:e.Rooms,EventId:e.Id,TrainerName:e.TrainerName,Date:moment(e.Date).format("DD MMM YYYY"),startsAt:r,StartTime:r,endsAt:n,FinishTime:n,title:e.TopicName,TopicName:e.TopicName,EditingEvent:e.IsGroupActive,draggable:!1,editable:!1,deletable:!1,resizable:!1};s.calendarEvents.push(i)}),s.topicsInfo=o.data}).catch(function(e){s.status="Unable to load data"+e.data.message}).finally(function(){s.displayType="calendar"}))}),s.$watch("itemPerPage",function(){s.watchFlag&&l(s.filter,s.currentPage,s.itemPerPage)})}angular.module("rd.main").controller("LearningController",e),e.$inject=["$scope","LearningService","$filter","$translate","$cookies","popup","CommonService"]}();
"use strict";!function(){function e(e,o,n){e.dialogInfo=o.subject}angular.module("rd.main").controller("openScheduleDialogController",e),e.$inject=["$scope","resources","$translate"]}();
"use strict";!function(){function e(e,t,r,n,a,o,s,i,c,g,u){var m=e;m.currentLang=c.search().lang||g.getCurrentLocale()||"en";var w=document.documentElement.clientWidth;m.limitViewNews=1540<=w?7:w<1540&&1240<=w?5:w<1240&&767<=w?6:4,m.breadCrumbs=[{text:"Home",link:"/"}],m.currentPage=1,m.isLastPage=!0,m.viewMoreNews=function(){m.currentPage+=1,o.getAllNews(m.currentPage,m.limitViewNews,m.currentCategory.Id).then(function(e){m.news=m.news.concat(e.data.Items),m.isLastPage=e.data.IsLastPage})},o.getCategories().then(function(e){if(m.categories=e.data,m.currentCategory=_.findWhere(m.categories,{UrlName:n.categoryUrl||m.categories[0].UrlName}),m.currentCategory){var t={title:m.currentCategory.Name+" - "+s.getMetaLocation(),description:i("MetaDescriptionNewsCategory").format(s.getMetaLocation(),m.currentCategory.Name),keywords:i("MetaKeywordsNewsCategory").format(m.currentCategory.Name)};s.addMetaTags(t),a=m.currentCategory.Id,o.getAllNews(m.currentPage,m.limitViewNews,a).then(function(e){m.news=e.data.Items,m.isLastPage=e.data.IsLastPage,m.mainNews=m.news[0]})}var a;r(function(){window.separatorsLookUp&&separatorsLookUp()})}).catch(function(e){a.go("news.main")}),m.$on("$viewContentLoaded",function(){u.sendViewBlogsPage()})}angular.module("rd.main").controller("NewsController",e),e.$inject=["$scope","$q","$timeout","$stateParams","$state","NewsService","MetaTagsService","$translate","$location","CommonService","GtmTokenService"]}();
"use strict";!function(){function t(t,a,e,s,r,n,i){var o=t,g=document.documentElement.clientWidth;o.limitViewNews=1540<=g?7:g<1540&&1024<=g?5:g<1024&&767<=g?6:4,o.breadCrumbs=[{text:"Home",link:"/"},{text:"Blog",link:"/blog"}],o.currentPage=1,o.isLastPage=!1,o.viewMoreNews=function(){o.currentPage+=1,n.getAllNews(o.currentPage,o.limitViewNews,null,o.currentHashtag.UrlName).then(function(t){o.news=o.news.concat(t.data.Items),o.isLastPage=t.data.IsLastPage})},e.all([n.getCategories(),n.getTagByUrlName(a.hashtagUrl)]).then(function(t){var a;o.categories=t[0].data,o.currentHashtag=t[1].data,o.currentHashtag?(a=o.currentHashtag.UrlName,n.getAllNews(o.currentPage,o.limitViewNews,null,a).then(function(t){o.news=t.data.Items,o.isLastPage=t.data.IsLastPage,o.TotalCount=t.data.TotalCount}),o.metaData={title:r("MetaTitleNewsHashtag").format(o.currentHashtag.Name),description:r("MetaDescriptionNewsHashtag").format(i.getMetaLocation(),o.currentHashtag.Name),keywords:r("MetaKeywordsNewsHashtag").format(o.currentHashtag.Name)},i.addMetaTags(o.metaData)):s.go("news.category",{categoryUrl:o.categories[0].UrlName})}).catch(function(t){s.go("news.main")})}angular.module("rd.main").controller("NewsHashtagController",t),t.$inject=["$scope","$stateParams","$q","$state","$translate","NewsService","MetaTagsService"]}();
"use strict";!function(){function e(e,a,t,s,n,o,i,r,c,u,l){var p=e;function m(){p.currentNews=n("filter")(p.news,{Status:p.status,CategoryId:p.category,AuthorName:p.authorName}),p.hashtag&&(p.currentNews=p.currentNews.filter(function(e){return _.findWhere(e.Hashtags,{Name:p.hashtag})})),p.startDate&&(p.currentNews=p.currentNews.filter(function(e){var t=new Date(e.PublicationDate),n=new Date(p.startDate);return t.getTime()>=n.getTime()})),p.endDate&&(p.currentNews=p.currentNews.filter(function(e){var t=new Date(e.PublicationDate),n=new Date(p.endDate);return t.getTime()<=n.getTime()})),p.isFiltered=!0,p.currentPage={num:1}}function w(){p.authorName=void 0,p.status=void 0,p.category=void 0,p.startDate=void 0,p.endDate=void 0,p.hashtag=void 0,p.currentNews=p.news,p.currentPage={num:1},p.isFiltered=!1}p.currentNews=null,p.newsFilters={},p.currentLang=u.search().lang||l.getCurrentLocale()||"en",p.statuses=[{id:void 0,name:o("All")},{id:0,name:o("Status_Draft")},{id:1,name:o("Status_Published")}],p.sortingProps=[{prop:"NewsTitle",name:o("News_Header_Subject")},{prop:"Status",name:o("News_Header_Status")},{prop:"CategoryId",name:o("News_Category")},{prop:"publicationDate",name:o("News_Publication_Date")}],p.currentSortProp=p.sortingProps[3],p.tableResources={currentCountPicker:8,isShowHistory:!1,itemWithTooltip:null,countPickerList:[{value:8,name:8},{value:16,name:16},{value:32,name:32}],showTooltip:function(e){if(this.itemWithTooltip===e)this.itemWithTooltip=null;else{this.itemWithTooltip=e,$(document).on("click",this,function e(t){var n=$(t.target),a=$(".news-tooltip"),s=$(".rd-table__ellipsis");n.closest(a).length||n.closest(s).length||(t.data.itemWithTooltip=null,p.$digest(),$(document).off("click",e))})}},resetPage:function(){p.currentPage={num:1}},showActionsPopup:function(s){i.open({animation:!0,windowClass:"actions-modal",templateUrl:"/Templates/NewsManagement/ActionsPopup.html",controller:["$scope","newsMainScope","$uibModalInstance",function(e,t,n){var a=e;a.item=s,a.newsMainScope=t,a.removeNewsItem=function(e){a.newsMainScope.tableResources.removeNewsItem(e),a.cancel()},a.cancel=function(){n.dismiss("cancel")}}],resolve:{newsMainScope:function(){return e}}})},removeNewsItem:function(n){a.confirmationPopup(o("News_Delete_Confirmation"),function(){s.deleteNews(n.Id).then(function(){var e=p.currentNews.indexOf(n);if(p.currentNews.splice(e,1),p.currentNews!==p.news){var t=p.news.indexOf(n);p.news.splice(t,1)}a.statusPopup(o("NewsManagement_NewsDeleted"))})})}},p.newsInfoTemplates={desktop:"/Templates/RdTable/NewsManagementPage/NewsListTableTemplate.html",landscape:"/Templates/RdTable/NewsManagementPage/NewsListTableTemplate.html",portrait:"/Templates/RdTable/NewsManagementPage/NewsListTableTemplate.html",phone:"/Templates/RdTable/NewsManagementPage/NewsListBriefTableTemplate.html"},p.searchNewsByTitle=function(e){w(),p.currentNews=n("filter")(p.news,{NewsTitle:e}),p.currentPage={num:1}},p.applyFilters=m,p.resetFilters=w,p.showFilterPopup=function(){i.open({animation:!0,windowClass:"task-modal",templateUrl:"/Templates/NewsManagement/FilterPopup.html",controller:["$scope","newsMainScope","$uibModalInstance",function(e,t,n){var a=e;a.newsMainScope=t,a.resetPopupFilters=function(){a.previousAuthorName=void 0,a.previouscategory=void 0,a.previousStatus=void 0,a.previousStartDate=void 0,a.previousEndDate=void 0,a.previousHashtag=void 0,a.newsMainScope.resetFilters()},a.previousAuthorName=a.newsMainScope.authorName,a.previouscategory=a.newsMainScope.category,a.previousStatus=a.newsMainScope.status,a.previousStartDate=a.newsMainScope.startDate,a.previousEndDate=a.newsMainScope.endDate,a.previousHashtag=a.newsMainScope.hashtag,a.cancel=function(){n.dismiss("cancel")},a.closePopup=function(){a.newsMainScope.authorName=a.previousAuthorName,a.newsMainScope.category=a.previouscategory,a.newsMainScope.status=a.previousStatus,a.newsMainScope.startDate=a.previousStartDate,a.newsMainScope.endDate=a.previousEndDate,a.newsMainScope.hashtag=a.previousHashtag,a.newsMainScope.applyFilters(),a.cancel()}}],resolve:{newsMainScope:function(){return e}}})},p.showSortByPopup=function(){i.open({animation:!0,windowClass:"task-modal",templateUrl:"/Templates/NewsManagement/SortByPopup.html",controller:["$scope","$uibModalInstance","newsMainScope",function(e,t,n){var a=e;a.newsMainScope=n,a.previousSortByState=a.newsMainScope.currentSortProp,a.closePopup=function(){a.newsMainScope.currentSortProp=a.previousSortByState,a.cancel()},a.cancel=function(){t.dismiss("cancel")}}],resolve:{newsMainScope:function(){return e}}})},p.setStatus=function(e){p.status=e,m()},p.setCurrentSortProp=function(e){p.currentSortProp=e},p.getFiltersAmount=function(){return[p.status,p.category,p.authorName,p.hashtag,p.startDate,p.endDate].reduce(function(e,t){return void 0!==t?++e:e},0)},r.all([s.getAuthors(),s.getNews(),s.getAllCategories(),s.getAllServerTags()]).then(function(e){p.authors=e[0].data,p.news=e[1].data,p.categories=e[2].data,p.hashtags=e[3].data,p.news=p.news.map(function(e){return Object.assign(e,{publicationDate:new Date(e.PublicationDate),status:_.findWhere(p.statuses,{id:e.Status}).name,category:_.findWhere(p.categories,{Id:e.CategoryId}).Name})}),p.currentNews=p.news,p.tableResources.countPickerList.push({value:p.news.length,name:o("All")})}).catch(function(e){t.go("home")}),c.checkNewsManagementPermissions().then(function(e){c.transformPermission(e.data,p),p.tableResources.isShowHistory=p.ViewChangeLogPermission}).catch(function(){t.go("home")})}angular.module("rd.main").controller("NewsManagementController",e),e.$inject=["$scope","$rootScope","$state","NewsService","$filter","$translate","$uibModal","$q","PermissionService","$location","CommonService"]}();
"use strict";!function(){function t(t,n,a,e,o,s,u,i,g,r,l){var c=t;c.breadCrumbs=[{text:"NewsManagement",link:"/Root#!/NewsManagement"}],c.serverHashtags=[],c.selectedHashtags=[],c.statusId=0,c.languageTabs=r,c.languageContentTabs=l.getNewsTabs(c.languageTabs),c.uploadImageWarning=function(){n.successPopup(o("NewsManagement_UploadImageWarning"))},c.createNews=function(){if(c.newsForm.$valid){c.publicationDate=i.stringifyDate(c.publicationDate);var t={SubjectEn:c.languageContentTabs[0].titleInput,SubjectRu:c.languageContentTabs[1].titleInput,SubjectUa:c.languageContentTabs[2].titleInput,SummaryEn:c.languageContentTabs[0].introductionContent,SummaryRu:c.languageContentTabs[1].introductionContent,SummaryUa:c.languageContentTabs[2].introductionContent,ContentEn:c.languageContentTabs[0].newsEditorContent,ContentRu:c.languageContentTabs[1].newsEditorContent,ContentUa:c.languageContentTabs[2].newsEditorContent,LinkToQuizEn:c.languageContentTabs[0].quizLinkInput,LinkToQuizRu:c.languageContentTabs[1].quizLinkInput,LinkToQuizUa:c.languageContentTabs[2].quizLinkInput,MetaTagTitleEn:c.languageContentTabs[0].metaTitleInput,MetaTagTitleRu:c.languageContentTabs[1].metaTitleInput,MetaTagTitleUa:c.languageContentTabs[2].metaTitleInput,MetaTagDescriptionEn:c.languageContentTabs[0].metaDescriptionInput,MetaTagDescriptionRu:c.languageContentTabs[1].metaDescriptionInput,MetaTagDescriptionUa:c.languageContentTabs[2].metaDescriptionInput,MetaTagKeywordsEn:c.languageContentTabs[0].metaKeywordsInput,MetaTagKeywordsRu:c.languageContentTabs[1].metaKeywordsInput,MetaTagKeywordsUa:c.languageContentTabs[2].metaKeywordsInput,CategoryId:c.category,Status:c.statusId,ImageNames:[],Hashtags:c.selectedHashtags,LinkToVideo:c.linkToVideo,Published:c.publicationDate};e.createNews(t).then(function(t){s.unsubscribe();var e=0===c.statusId?o("NewsManagement_NewsCreated"):o("NewsManagement_NewsPublished");n.statusPopup(e),window.location.href="/Root#!/NewsManagement/Edit/"+t.data.id+"?lang="+(a.search().lang||"en")}).catch(function(t){n.statusPopup(t.data.Message,"error")})}},g.checkNewsManagementPermissions().then(function(t){g.transformPermission(t.data,c),c.NewsManagePermission||(s.unsubscribe(),u.go("home"))}).catch(function(){u.go("home")}),e.getAllServerTags().then(function(t){c.serverHashtags=t.data}),s.checker(c,function(){return c.languageContentTabs.some(function(t){return!!(t.titleInput||t.introductionContent||t.newsEditorContent||t.metaTitleInput||t.metaDescriptionInput||t.metaKeywordsInput)})||!!c.category||!!c.publicationDate})}angular.module("rd.main").controller("NewsManagementCreateController",t),t.$inject=["$scope","$rootScope","$location","NewsService","$translate","UserLeaveService","$state","CommonService","PermissionService","LANGUAGE_TABS","LANGUAGE_CONTENT_TABS"]}();
"use strict";!function(){function t(t,a,n,i,s,e,o,u,r,d){var g=t;g.breadCrumbs=[{text:"NewsManagement",link:"/Root#!/NewsManagement"}],g.sliderImages=[],g.serverHashtags=[],g.selectedHashtags=[],g.languageContentTabs=[],g.newsId=e.id,g.languageTabs=d,g.addSliderImage=function(){a.imageManagerPopup(g.newsId).result.then(function(t){g.sliderImages=g.sliderImages.concat(_.reject(t,function(t){return _.find(g.sliderImages,{name:t.name})}))})},g.removeSliderImage=function(t){g.sliderImages.splice(t,1)},g.addContentImage=function(e){var n=e.getSelection().index;a.imageManagerPopup(g.newsId).result.then(function(t){t.forEach(function(t){e.insertEmbed(n,"image",t.url),e.setSelection(n+1,0)})})},g.editNews=function(){g.newsForm.$valid&&n.editNews(m()).then(function(t){s.unsubscribe(),a.statusPopup(i("NewsManagement_NewsChanged")),o.go("root.newsManagement")}).catch(function(t){a.statusPopup(t.data.Message,"error")})};var l="/static/news/"+g.newsId,c={};function m(){return{Id:g.newsId,SubjectEn:g.languageContentTabs[0].titleInput,SubjectRu:g.languageContentTabs[1].titleInput,SubjectUa:g.languageContentTabs[2].titleInput,SummaryEn:g.languageContentTabs[0].introductionContent,SummaryRu:g.languageContentTabs[1].introductionContent,SummaryUa:g.languageContentTabs[2].introductionContent,ContentEn:g.languageContentTabs[0].newsEditorContent,ContentRu:g.languageContentTabs[1].newsEditorContent,ContentUa:g.languageContentTabs[2].newsEditorContent,LinkToQuizEn:g.languageContentTabs[0].quizLinkInput,LinkToQuizRu:g.languageContentTabs[1].quizLinkInput,LinkToQuizUa:g.languageContentTabs[2].quizLinkInput,MetaTagTitleEn:g.languageContentTabs[0].metaTitleInput,MetaTagTitleRu:g.languageContentTabs[1].metaTitleInput,MetaTagTitleUa:g.languageContentTabs[2].metaTitleInput,MetaTagDescriptionEn:g.languageContentTabs[0].metaDescriptionInput,MetaTagDescriptionRu:g.languageContentTabs[1].metaDescriptionInput,MetaTagDescriptionUa:g.languageContentTabs[2].metaDescriptionInput,MetaTagKeywordsEn:g.languageContentTabs[0].metaKeywordsInput,MetaTagKeywordsRu:g.languageContentTabs[1].metaKeywordsInput,MetaTagKeywordsUa:g.languageContentTabs[2].metaKeywordsInput,CategoryId:g.category,Status:g.statusId,ImageNames:_.pluck(g.sliderImages,"name"),Hashtags:g.selectedHashtags,LinkToVideo:g.linkToVideo,Published:u.stringifyDate(g.publicationDate)}}function I(){return(g.languageContentTabs.some(function(t){return!!(t.titleInput||t.introductionContent||t.newsEditorContent||t.metaTitleInput||t.metaDescriptionInput||t.metaKeywordsInput)})||!!g.category||!!g.publicationDate)&&(t=c,!angular.equals(m(),t));var t}r.checkNewsManagementPermissions().then(function(t){r.transformPermission(t.data,g),g.NewsManagePermission||(s.unsubscribe(),o.go("home"))}).catch(function(){o.go("home")}),n.getEditNews(g.newsId).then(function(e){g.languageContentTabs=[{activeLanguage:g.languageTabs[0],title:i("LocaleName_English"),titleInputId:"title-english",titleInput:e.data.SubjectEn,introductionContentId:"introduction-english",introductionContent:e.data.SummaryEn,newsEditorAreaId:"editorEnglish",newsEditorContent:e.data.ContentEn,quizLinkInputId:"quiz-link-english",quizLinkInput:e.data.LinkToQuizEn,metaTitleInputId:"meta-title-english",metaTitleInput:e.data.MetaTagTitleEn,metaDescriptionInputId:"meta-description-english",metaDescriptionInput:e.data.MetaTagDescriptionEn,metaKeywordsInputId:"meta-keywords-english",metaKeywordsInput:e.data.MetaTagKeywordsEn},{activeLanguage:g.languageTabs[1],title:i("LocaleName_Russian"),titleInputId:"title-russian",titleInput:e.data.SubjectRu,introductionContentId:"introduction-russian",introductionContent:e.data.SummaryRu,newsEditorAreaId:"editorRussian",newsEditorContent:e.data.ContentRu,quizLinkInputId:"quiz-link-russian",quizLinkInput:e.data.LinkToQuizRu,metaTitleInputId:"meta-title-russian",metaTitleInput:e.data.MetaTagTitleRu,metaDescriptionInputId:"meta-description-russian",metaDescriptionInput:e.data.MetaTagDescriptionRu,metaKeywordsInputId:"meta-keywords-russian",metaKeywordsInput:e.data.MetaTagKeywordsRu},{activeLanguage:g.languageTabs[2],title:i("LocaleName_Ukrainian"),titleInputId:"title-ukranian",titleInput:e.data.SubjectUa,introductionContentId:"introduction-ukranian",introductionContent:e.data.SummaryUa,newsEditorAreaId:"editorUkranian",newsEditorContent:e.data.ContentUa,quizLinkInputId:"quiz-link-ukranian",quizLinkInput:e.data.LinkToQuizUa,metaTitleInputId:"meta-title-ukranian",metaTitleInput:e.data.MetaTagTitleUa,metaDescriptionInputId:"meta-description-ukranian",metaDescriptionInput:e.data.MetaTagDescriptionUa,metaKeywordsInputId:"meta-keywords-ukranian",metaKeywordsInput:e.data.MetaTagKeywordsUa}],g.category=e.data.CategoryId,g.statusId=e.data.Status,g.linkToVideo=e.data.LinkToVideo,g.publicationDate=new Date(e.data.Published),g.sliderImages=e.data.ImageNames.map(function(t){return{name:t,isSelected:!0,url:l+"/"+t}}),n.getAllServerTags().then(function(t){g.serverHashtags=t.data,e.data.Hashtags.forEach(function(t){var e=_.findWhere(g.serverHashtags,t);g.selectedHashtags.push(e),g.serverHashtags.push("")})}),c=Object.assign({},m()),s.checker(g,I)})}angular.module("rd.main").controller("NewsManagementEditController",t),t.$inject=["$scope","$rootScope","NewsService","$translate","UserLeaveService","$stateParams","$state","CommonService","PermissionService","LANGUAGE_TABS"]}();
"use strict";angular.module("rd.main").run(["$rootScope","$state","$uibModal","$http","$translate","$timeout","LocationsService",function(s,e,t,a,u,l,p){s.askQuestionPopup=function(){return t.open({animation:!0,windowClass:"ask-question-popup",templateUrl:"/Templates/Popups/FeedbackPopup.html",controller:["$scope","$http","$cookies","$uibModalInstance","AppendScriptService",function(d,n,c,o,r){d.resources={invalidLengthFeedbackEmail:u("InvalidValueLength").format(6,100),invalidLengthFeedbackMessage:u("InvalidMaxFieldLength").format(2e3)},d.isFeedBackPopupDataReady=!1,n.get("/api/feedback/getModel").then(function(e){var t=e.data.SelectedCityName||"",a=e.data.SelectedRegionName;if(e.data.City={CountryId:e.data.SelectedCountryId,Id:e.data.SelectedCityId,Name:a?"".concat(t,", ").concat(a):t,Region:a||""},d.user={SenderEmail:e.data.SenderEmail,SelectedCountryId:e.data.SelectedCountryId,SelectedCityId:e.data.SelectedCityId},e.data.SelectedCountryId&&(d.user.City={Id:e.data.SelectedCityId||-1,Name:e.data.SelectedCityName||u("City_Other")},d.SelectedCity=d.user.City),d.categories=e.data.Categories,d.recaptchaIsActive=e.data.RecaptchaIsActive,d.getCityName=function(e){return e&&-1===e.Id?u("City_Other"):e&&e.Name?e&&e.Name:u("City_Select")},window.grecaptcha)setTimeout(function(){window.onLoadRecaptcha()},100);else{window.widgetId=null,window.onLoadRecaptcha=function(){$("#recaptcha-container").length&&(window.widgetId=grecaptcha.render("recaptcha-container",{sitekey:e.data.SiteKey}))};var i="https://www.google.com/recaptcha/api.js?onload=onLoadRecaptcha&render=explicit&hl="+(c.get("UserCurrentLocale")||"en-US").split("-")[0];r.add(i)}d.countries=e.data.Countries.filter(function(e){return 9!==e.CountryId}).map(function(e){return{id:e.CountryId,name:e.CountryName}}),d.updateCities=function(e){d.feedbackForm&&d.feedbackForm.$dirty&&(d.SelectedCity=null,d.user.City=null,d.CityList=[]),l(function(){var t=[{Id:-1,Name:u("City_Other")}];d.user.SelectedCountryId?(d.showCitiesPreloader=!0,p.getCitiesByQuery(d.user.SelectedCountryId,e).then(function(e){d.CityList=e.length?e:t,d.showCitiesPreloader=!1})):d.CityList=t},100)},d.updateCities(""),d.onCityChange=function(){d.user.City&&(d.SelectedCity=d.user.City)},d.sendFeedback=function(){d.feedbackForm.Category.$dirty=!0,d.feedbackForm.Message.$dirty=!0,d.user.ReferrerUrl=location.href,d.user.SelectedCityId=d.user.City&&d.user.City.Id,d.feedbackForm.$valid&&d.user.SelectedCityId&&(d.user.RecaptchaCode=window.grecaptcha.getResponse(window.widgetId),null!=widgetId&&0!==window.grecaptcha.getResponse(window.widgetId).length&&n.post("/api/feedback/postFeedback",d.user).then(function(e){o.close(),s.successPopup(u("Successfully_Sent"))}).catch(function(){s.successPopup(u("Error_Generic"))}))},d.cancel=function(){o.dismiss("cancel")},d.isFeedBackPopupDataReady=!0})}]})}}]);
"use strict";angular.module("rd.main").run(["$rootScope","$state","$uibModal","$http","$translate","$cacheFactory","RegistrationWizardService","GtmTokenService",function(o,n,e,a,s,c,r,l){o.cancelRegistrationPopup=function(t,i){e.open({animation:!0,windowClass:"cancelRegistrationModal",templateUrl:"/Templates/Popups/CancelRegistrationPopup.html",controller:["$scope","$uibModalInstance",function(n,e){var a=n;a.submitReason=function(n){a.sendingReason=n.reason,r.saveCancelRegistrationReason(a.trainingId,a.sendingReason,n.id).then(function(){e.close(),c.get("$http").remove("/api/trainings/registered"),l.sendCancelRegistrationSubmitEvent(a.trainingId,a.sendingReason),(i||angular.noop)()}).catch(function(){o.successPopup(s("Error_Generic"))})},a.trainingId=t,a.isLoading=!0,a.cancelRegistrationReasons=[],r.getCancelRegistrationReasons().then(function(n){a.cancelRegistrationReasons=n.data?n.data.map(function(n){return{id:n.Id,reason:n.Name}}):[],a.reason=a.cancelRegistrationReasons[0],a.isLoading=!1}),l.sendCancelRegistrationStartEvent(a.trainingId),n.cancel=function(){e.dismiss("cancel")}}]})}}]);
"use strict";angular.module("rd.main").run(["$rootScope","$state","$uibModal","$translate",function(n,o,a,t){n.confirmationPopup=function(o,e){a.open({animation:!0,windowClass:"confirmation-popup",templateUrl:"/Templates/Popups/ConfirmationPopupTemplate.html",controller:["$scope","dialogInfo","$uibModalInstance",function(n,o,a){n.resources=o,n.cancel=function(){a.dismiss("cancel")},n.ok=function(){(e||angular.noop)(),a.dismiss("ok")}}],resolve:{dialogInfo:function(){var n={};return n.messageContent=o,n.cancel=t("Cancel"),n.ok=t("Ok"),n}}})}}]);
"use strict";angular.module("rd.main").run(["$rootScope","$state","$uibModal",function(n,o,e){n.successPopup=function(o,a,n,t){return e.open({animation:!0,windowClass:"successful-notification-popup ".concat(n||""),templateUrl:"/Templates/Popups/DefaultPopupTemplate.html",controller:["$scope","dialogInfo","$uibModalInstance",function(n,o,e){n.resources=o,n.hideCancel=t,n.cancel=function(){(a||angular.noop)(),e.dismiss("cancel")},n.ok=function(){(a||angular.noop)(),e.dismiss("ok")}}],resolve:{dialogInfo:function(){var n={};return n.messageContent=o,n}}})}}]);
"use strict";angular.module("rd.main").run(["$rootScope","$timeout","$stateParams","$translate","$uibModal","NewsService",function(s,l,e,c,t,a){s.cropImagePopup=function(){return t.open({animation:!0,windowClass:"popup-choose-image",templateUrl:"/Templates/Popups/ImageCropPopup.html",backdrop:"static",controller:["$scope","$uibModalInstance",function(m,t){var r={maxSize:"IncorrectImageSize",pattern:"IncorrectImageFormat"};m.isChosenFile=!1,m.chooseFile=function(e,t){0<t.length&&s.successPopup(c(r[t[0].$error]));var a=angular.element("#image-crop");if(e&&a){var n=e.name.substring(0,e.name.lastIndexOf(".")),o=e.name.substring(e.name.lastIndexOf("."));m.isChosenFile=!0,m.fileType=e.type,m.fileName=n+"_"+moment().format("hhmmssSS")+o;var i=new FileReader;i.readAsDataURL(e),i.onload=function(e){m.imageElement=document.createElement("img"),m.imageElement.setAttribute("src",e.target.result),a.html(m.imageElement),l(function(){m.imageCropper=new Cropper(m.imageElement,{aspectRatio:1.5,viewMode:1,zoom:function(e){e.preventDefault()}})})}}},m.cancel=function(){t.dismiss("cancel")},m.ok=function(){m.fileContent=m.imageCropper.getCroppedCanvas().toDataURL(m.fileType),a.saveNewsImage({NewsId:e.id,Name:m.fileName,MimeType:m.fileType,ContentBase64:m.fileContent}).then(function(e){t.close(e.data.imageName)})}}]})}}]);
"use strict";angular.module("rd.main").run(["$rootScope","$state","$uibModal","$http","$translate","NewsService",function(i,e,t,n,o,s){i.imageManagerPopup=function(a){return t.open({animation:!0,windowClass:"popup-choose-image",templateUrl:"/Templates/Popups/ImageManagerPopup.html",controller:["$scope","$uibModalInstance",function(t,n){t.imagesFolderPath="/static/news/"+a,t.images=[],s.getImageNames(a).then(function(e){t.images=e.data.map(function(e){return{name:e,isSelected:!1,url:t.imagesFolderPath+"/"+e}})}),t.cancel=function(){n.dismiss("cancel")},t.ok=function(){var e=t.images.filter(function(e){return e.isSelected});0===e.length?i.statusPopup(o("SelectImageHint"),"error"):n.close(e)},t.selectImage=function(e){e.isSelected=!e.isSelected},t.deleteImage=function(e){t.confirmationPopup(o("DeleteImagePopUp"),function(){s.deleteNewsImage(a,e).then(function(){t.images=_.reject(t.images,{name:e})})})},t.add=function(){i.cropImagePopup().result.then(function(e){t.images.unshift({name:e,isSelected:!0,url:t.imagesFolderPath+"/"+e})})}}]})}}]);
"use strict";angular.module("rd.main").run(["$rootScope","$timeout","$stateParams","$translate","$uibModal",function(p,l,e,c,t){p.oneImageCropPopup=function(r){return t.open({animation:!0,windowClass:"popup-choose-image",templateUrl:"/Templates/Popups/ImageCropPopup.html",backdrop:"static",controller:["$scope","$uibModalInstance",function(n,t){var i={maxSize:"IncorrectImageSize",pattern:"IncorrectImageFormat"};n.isChosenFile=!1,n.chooseFile=function(e,t){0<t.length&&p.successPopup(c(i[t[0].$error]));var a=angular.element("#image-crop");if(e&&a){n.isChosenFile=!0,n.fileType=e.type;var o=new FileReader;o.readAsDataURL(e),o.onload=function(e){n.imageElement=document.createElement("img"),n.imageElement.setAttribute("src",e.target.result),a.html(n.imageElement),l(function(){n.imageCropper=new Cropper(n.imageElement,{aspectRatio:r,viewMode:1,zoom:function(e){e.preventDefault()}})})}}},n.cancel=function(){t.dismiss("cancel")},n.ok=function(){var e=n.imageCropper.getCroppedCanvas().toDataURL(n.fileType).split(";base64,")[1];t.close({MimeType:n.fileType,ContentBase64:e})}}]})}}]);
"use strict";angular.module("rd.main").run(["$rootScope","$uibModal","$http","$translate","GtmTokenService",function(c,t,u,l,g){c.registerOnEventPopup=function(r,o,s,e){return g.sendClickEventRegistration(r,e),t.open({animation:!0,size:"lg",backdrop:"static",windowClass:"register-to-event-popup",templateUrl:"/Templates/Popups/registerOnEventPopup.html",controller:["$scope","$uibModalInstance","LocationsService",function(e,n,t){var a=e;function i(e){return a.showCitiesPreloader=!0,t.getCitiesByQuery(a.registerUserData.countryId,e).then(function(e){a.locationCities=e.length?e:[{Id:-1,Name:l("Other")}],a.showCitiesPreloader=!1})}a.registerUserData={FirstName:"",LastName:"",Email:"",SurveyAnswer:""},a.registerEventForm={},a.locationCountries=[],a.locationCities=[],a.getCityName=t.getCityName,a.registerUserOnEvent=function(e){var t=a.registerUserData.city?a.registerUserData.city.Id:null,i=s?e.photographingAccepted.$viewValue:null;e.$valid&&t&&u.post("/api/registration-wizard/event/"+r,{FirstName:e.userName.$viewValue,LastName:e.userSurname.$viewValue,Phone:e.phone.$viewValue,CountryId:e.locationCountries.$viewValue,CityId:t,SurveyAnswer:e.SurveyAnswer.$viewValue,PhotographingAccepted:i}).then(function(e){var t=e.data.ReplyMessage||e.data.Lines.reduce(function(e,t){return e+"<p>".concat(t,"</p>")},"");g.sendSuccessfulEventRegistration(r),o&&localStorage.setItem("scrollToVideo",!0),localStorage.setItem("autoreplyMessage",t),n.close(),window.location.reload()}).catch(function(e){c.statusPopup(e.data.Message,"error"),setTimeout(function(){location.reload()},800)})},a.updateCitiesSelect=function(){a.registerUserData.city=null,i("")},a.cancel=function(e){e&&e.$dirty?c.confirmationPopup(l("Dlg_SaveChangesMessage"),function(){n.close()}):n.close()},a.searchCities=i,a.isOfflineEvent=s,u.get("/api/registration-wizard/event/"+r).then(function(e){return Object.assign(a.registerUserData,e.data),e.data}),t.getLocationsList().then(function(e){a.locationCountries=e.locations})}]})}}]);
"use strict";angular.module("rd.main").run(["$rootScope","$timeout","$translate",function(e,c,i){e.statusPopup=function(e,t){var n=document.getElementById("root"),s=document.createElement("div"),o=document.createElement("p"),u=e?document.createTextNode(e):document.createTextNode(i("Error_Generic")),d=t||"success";function a(){s.classList.remove("visible-status-popup"),s.classList.add("hide-status-popup")}o.appendChild(u),s.appendChild(o),n.appendChild(s),s.classList.add("status-popup","visible-status-popup",d),s.addEventListener("click",a),c(a,5e3).then(function(){c(function(){n.removeChild(s)},500)})}}]);
"use strict";angular.module("rd.main").run(["$rootScope","$state","$uibModal","$http","$translate","TrainingListService","GtmTokenService",function(d,i,e,g,y,t,m){d.subscribeTrainingPopup=function(o,u,l,t){m.sendSubscribeFormOpenEvent(l);function b(i){return 9!==i.Id}return e.open({animation:!0,size:"lg",windowClass:"subscribe-to-training-popup",templateUrl:"/Templates/Popups/SubscribeForTrainingPopup.html",controller:["$scope","$location","$uibModalInstance","TrainingListService","LocationsService","$q",function(i,a,s,n,r,e){var c=i;c.isUserDataReady=!1,c.planLocations=t,e.all([n.getTrainingsNames().then(function(i){c.skills=i.data}),g.get("/api/dreamtraining").then(function(i){return i.data.Locations=i.data.Locations.filter(b),c.subscribeUserData={FirstName:i.data.FirstName,LastName:i.data.LastName,Email:i.data.Email,Locations:i.data.Locations.filter(b),Skills:i.data.Skills},c.isUserDataReady=!0,i.data})]).then(function(){if(c.userEmail=c.subscribeUserData.Email,c.subscribeTrainingForm={},c.resources={invalidNameLength:y("TrainingList_MaxLength").format(100),invalidNameDigitsOrSymbols:y("RegistrationPage_FieldAlertDigits"),invalidEmailMessage:y("InvalidEmailMessage"),fieldRequired:y("Field_Required"),invalidLengthEmail:y("InvalidValueLength").format(6,100)},c.isDisableSkillChoise=!!u,c.isGlobalSubscribtion=!c.planLocations||c.planLocations&&!c.planLocations.length,c.locationCountries=c.isGlobalSubscribtion?c.subscribeUserData.Locations:c.planLocations.reduce(function(i,e){var t=i.find(function(i){return i.Id===e.CountryId});return t&&e.CityId?t.Cities.push({Id:e.CityId,Name:e.City}):i.push({Id:e.CountryId,Name:e.Country,Cities:e.CityId?[{Id:e.CityId,Name:e.City}]:[]}),i},[]),c.availableCities=[],c.hideCities=!0,1===c.locationCountries.length){c.subscribeUserData.country=c.locationCountries[0];var i=c.subscribeUserData.country.Cities;c.hideCities=!0,e(i)}function e(i){setTimeout(function(){c.availableCities=i,c.subscribeUserData.cityId=1===i.length?i[0].Id:null,c.hideCities=!i.length},0)}function t(i){return c.showCitiesPreloader=!0,r.getCitiesByQuery(c.subscribeUserData.country.Id,i).then(function(i){c.availableCities=i.length?i:[],1===c.availableCities.length&&(c.subscribeUserData.city=c.availableCities[0]),c.showCitiesPreloader=!1,c.hideCities=!1})}c.subscribeUserOnTraining=function(i){c.subscribeUserData.planId=l||null,c.subscribeUserData.trainingTypeId||(c.subscribeUserData.trainingTypeId=null);c.subscribeUserData.cityId||(c.subscribeUserData.cityId=c.subscribeUserData.city&&c.subscribeUserData.city.Id||null);c.subscribeUserData.country&&(c.subscribeUserData.countryId=c.subscribeUserData.country.Id);i.$valid&&n.subscribeUser(c.subscribeUserData).then(function(){s.close(),d.successPopup(y("SubscribePopUpNextTraining")),m.sendSubscribeFormSubmitEvent(l)})},c.changeCountry=function(){if(c.hideCities=!0,c.isGlobalSubscribtion)c.subscribeUserData.city=null,c.subscribeUserData.cityId=null,t("");else{e(c.subscribeUserData.country.Cities)}},c.cancel=function(){s.dismiss("cancel")},c.searchCities=t,c.getCityName=r.getCityName,c.subscribeUserData.cityId=+o||+a.$$search.City,c.subscribeUserData.trainingTypeId=+u||+a.$$search.Skill})}]})}}]);
"use strict";angular.module("rd.main").run(["$rootScope","$state","$uibModal","$window","$http","$translate","LearningTasksService","AttachmentService","DownloadFilesService",function(r,t,a,c,e,m,u,k,p){r.taskModal=function(d,t,e){return a.open({animation:!0,windowClass:"task-modal",templateUrl:"/Templates/Popups/TaskModalTemplate.html",controller:["$scope","$uibModalInstance",function(o,l){o.taskData=!1,o.checkExternalTask="External"===t,o.checkOnlineTask="Online"===t,o.checkRegularTask="Regular"===t,o.maxTextLengthLimit=1e4,o.maxLinkLengthLimit=500,o.taskType=o.checkOnlineTask?m("TaskModal_OnlineTask"):o.checkExternalTask?m("TaskModal_ExternalTask"):m("TaskModal_RegularTask"),u.getTaskInfo(d,o.checkExternalTask,o.checkOnlineTask,e).then(function(t){if(200===t.status){var e=t.data,a=moment(new Date);o.taskData=e,o.taskData.Comments=e.Comments?e.Comments.filter(function(t){return!!t.CommentForStudent}):null,o.groupId=e.GroupId,o.selectedFile=null,o.selectedFiles=[],o.commentField="",o.linkToAnswer="",o.openedComments=!1,o.fileExceedLimit=!1,o.downloadAttachment=function(t,e,a){p.downloadFile(t,"/api/attachment?attachmentId="+e,a)};var s,n=[];o.taskData.Notes&&(n=o.taskData.Notes.slice().reverse()),o.lastTrainerComment=n.find(function(t){return t.UserId!==o.taskData.User.Id}),o.lastUserComment=n.find(function(t){return t.UserId===o.taskData.User.Id}),o.isHistoryComment=function(t){return t!==o.lastTrainerComment&&t!==o.lastUserComment&&t.Note},o.isStatusDanger=-1!==["Expired","NotAssigned"].indexOf(o.taskData.Status),o.isStatusPending=-1!==["Assigned","Available","ReAssigned","SubmittedAfterDeadline","NeedReview"].indexOf(o.taskData.Status),o.isStatusSuccess="Passed"===o.taskData.Status||"Completed"===o.taskData.Status,o.isStatusSubmitted="Submitted"===o.taskData.Status||"InProgress"===o.taskData.Status,o.isStatusRejected="Rejected"===o.taskData.Status,o.isStatusExpired="Expired"===o.taskData.Status,o.allAttemptsUse=o.taskData.Attempts&&o.taskData.UserAttempts>=o.taskData.Attempts&&!o.isStatusPending,o.isDeadlineExpired=a.isAfter(moment(o.taskData.DeadlineDate)),o.isStartDateLater=a.isBefore(moment(o.taskData.StartDate)),o.isMultipleAttempts=0===o.taskData.Attempts,o.isFileUploading=!1,o.pendingAdditionalAttempt=Number(o.isStatusPending&&0!==o.taskData.UserAttempts),o.isShowCommentsHistory=o.taskData.Notes&&(2<o.taskData.Notes.length||2===o.taskData.Notes.length&&o.taskData.Notes[0]!==o.lastUserComment&&o.taskData.Notes[0]!==o.lastTrainerComment)&&o.taskData.Notes.some(function(t){return o.isHistoryComment(t)}),o.externalTaskLinkContainer=o.checkExternalTask?"/api/studentLearning/external-tasks/"+o.taskData.Id+"/take-task":"",o.isChatActive=o.checkOnlineTask&&!o.isStatusSuccess&&!o.isStatusExpired&&!o.allAttemptsUse&&!o.isDeadlineExpired&&!o.isStartDateLater,o.viewedMark=o.taskData.Mark||(o.checkRegularTask&&null===o.taskData.Mark?"-":0),o.desktopTextLimit=c.innerWidth<768?150:320,o.descriptionMaxLength=o.desktopTextLimit,o.showFullDescription=function(){o.descriptionMaxLength=o.taskData.Description.length},o.showLessDescription=function(){o.descriptionMaxLength=o.desktopTextLimit},o.taskData.Notes&&o.taskData.Notes.forEach(function(t){t.noteMaxLength=o.desktopTextLimit}),o.showFullNoteMessage=function(t){t.noteMaxLength=t.Note.length},o.showLessNoteMessage=function(t){t.noteMaxLength=o.desktopTextLimit},o.uploadFile=function(e){if(0<e.length){o.fileExceedLimit=1024e4<e[0].size,o.sameFileChecked=o.selectedFiles.some(function(t){return-1!==t.name.indexOf(e[0].name)||angular.equals(e[0],s)}),o.$applyAsync(),o.fileExceedLimit||o.sameFileChecked||(o.isFileUploading=!0,k.postFile(e[0],"OnlineTaskSubmissionAttachment").then(function(t){o.selectedFiles.push(Object.assign(e[0],{id:t.data})),s=e[0],o.isFileUploading=!1}).catch(function(t){o.isFileUploading=!1,r.statusPopup(t.data.Message,"error")}))}},o.deleteAddedFile=function(e,t){k.deleteFile(t.id).then(function(t){s=o.selectedFiles.length-1===e?null:s,o.selectedFiles.splice(e,1),o.sameFileChecked=!1})};var i=function(){var t=e.Id;r.taskModal(t)};o.sendAnswer=function(){u.submitAnswer(o.taskData.AssignmentId,o.commentField,o.selectedFiles,o.linkToAnswer,d).then(function(t){o.cancel(),!1===t.data.success&&r.confirmationPopup(m("TaskModal_MessageNotSend"),i)}).catch(function(t){r.statusPopup(t.data,"error")})},o.toggleComments=function(){o.openedComments=!o.openedComments},o.isDisableSendAnswer=function(){return!o.commentField.length||o.commentField.length>o.maxTextLengthLimit||o.linkToAnswer.length>o.maxLinkLengthLimit},o.cancel=function(){l.dismiss()}}})}]})}}]);
"use strict";angular.module("rd.main").run(["$rootScope","$state","$uibModal","$translate","$location","MailService",function(c,s,e,u,n,r){function t(){n.search("unsubscribeId",null),location.replace("/#!"+n.$$url)}c.unsubscribeUser=function(){r.unsubscribe().then(function(s){switch(s.status){case 200:c.successPopup(u("UserSuccessfullyUnsubscribed"));break;case 202:c.successPopup(u("UserAlreadyUnsubscribed"))}t()}).catch(function(s){switch(s.status){case 403:c.successPopup(u("UserNeedLoginForUnsubscribe")),t()}})}}]);
"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(){function e(e,t,r,n,a,o,s){var i=e;i.countAnswer=function(){return i.questions.filter(function(e){return null!==e.answer}).length},i.sendAnswers=function(){s.sendClickGetResultTestEvent();var e=function(a){var o=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]];return o.forEach(function(e,r){var n=r;e.forEach(function(e,t){[0,0,0].forEach(function(){o[r][t]+=Number(a[n]),n+=5})})}),o}(f()),t=btoa(JSON.stringify(e));localStorage.setItem("testCodedData",t),o.showGlobalPreloader(),window.location.href="/Careertest/result?lang="+c+"&encdata="+t},i.isQuestionsReady=!1,i.questions=[];var l=localStorage.getItem("psy-answers"),u=l&&JSON.parse(l)||null,c=a.search().lang||o.getCurrentLocale();function f(){return i.questions.map(function(e){return e.answer})}setTimeout(function(){function e(){o.scrollTo($(".psy-progress-bar"))}$(".pagination-prev > a").click(e),$(".pagination-next > a").click(e),document.querySelector(".test-pagination").addEventListener("click",function(e){if(![">","<"].includes(e.target.innerText)){var t=_toConsumableArray(document.querySelectorAll(".question-row")).find(function(e){return!e.className.includes("question-row-answered")});t&&o.scrollTo($(t))}},!0)},1e3),i.legendChars=[{id:1,text:r("TestPage_minus2")},{id:2,text:r("TestPage_minus1")},{id:3,text:r("TestPage_average")},{id:4,text:r("TestPage_plus1")},{id:5,text:r("TestPage_plus2")}],n.get("/Careertest/GetQuestions?lang="+c).then(function(e){i.questions=e.data.map(function(e,t){return{id:t,variants:e,answer:u?u[t]:null}}),i.isQuestionsReady=!0}),i.testTableTemplates={desktop:"/Templates/Psy/TestTableTemplate.html",landscape:"/Templates/Psy/TestTableTemplate.html",portrait:"/Templates/Psy/TestTableTemplate.html",phone:"/Templates/Psy/TestTableTemplate.html"},i.testTableResources={chooseAnswer:function(e,t){e.answer=t,localStorage.setItem("psy-answers",JSON.stringify(f()))},isAllPageAnswersIsDone:function(e){return e.every(function(e){return null!==e.answer})}}}angular.module("rd.main").controller("PsyTestController",e),e.$inject=["$scope","$rootScope","$translate","$http","$location","CommonService","GtmTokenService"]}();
"use strict";!function(){function n(n,c,e){var o=n;o.resources=e,o.ok=function(){return c.close(o)},o.cancel=function(){return c.dismiss("cancel")}}angular.module("rd.main").controller("PopupController",n),n.$inject=["$scope","$uibModalInstance","resources"]}();
"use strict";!function(){function t(s,t,e,l,i,n,o,a){var r=t;r.statuses=[{id:void 0,name:l("All")},{id:0,name:l("Status_Draft")},{id:1,name:l("Status_Published_Male")}],r.sortingProps=[{prop:"Name",name:l("Name")},{prop:"Status",name:l("Staffing_Desk_Status")}],r.currentSortProp=r.sortingProps[0],r.tableResources={itemWithTooltip:null,showTooltip:function(t){if(this.itemWithTooltip===t)this.itemWithTooltip=null;else{this.itemWithTooltip=t,$(document).on("click",this,function t(e){var i=$(e.target),s=$(".news-tooltip"),l=$(".rd-table__ellipsis");i.closest(s).length||i.closest(l).length||(e.data.itemWithTooltip=null,r.$digest(),$(document).off("click",t))})}},removeSkillDescription:function(i){s.confirmationPopup(l("SkillDescription_Delete"),function(){o.removeDescription(i.Id).then(function(){var t=r.currentSkillsDescriptions.indexOf(i),e=r.skillsDescriptions.findIndex(function(t){return t.Id===i.Id});r.currentSkillsDescriptions.splice(t,1),r.skillsDescriptions.splice(e,1),s.statusPopup(l("SkillDescription_Deleted"))})})}},r.applyFilters=function(){r.currentSkillsDescriptions=n("filter")(r.skillsDescriptions,{Status:r.status})},r.resetFilters=function(){r.currentSkillsDescriptions=r.skillsDescriptions,r.status=void 0},r.setCurrentSortProp=function(t){r.currentSortProp=t},r.tableTemplates={desktop:"/Templates/RdTable/SkillsManagementPage/SkillsListTableTemplate.html",landscape:"/Templates/RdTable/SkillsManagementPage/SkillsListTableTemplate.html",portrait:"/Templates/RdTable/SkillsManagementPage/SkillsListTableTemplate.html",phone:"/Templates/RdTable/SkillsManagementPage/SkillsListTableTemplate.html"},a.checkSkillsDescriptionManagementPermission().then(function(t){a.transformPermission(t.data,r),r.SkillsDescriptionsManagePermission||e.go("home")}).catch(function(){e.go("home")}),o.getDescriptions().then(function(t){r.skillsDescriptions=t.data.map(function(t){return Object.assign(t,{status:_.findWhere(r.statuses,{id:t.Status}).name})}),r.currentSkillsDescriptions=angular.copy(r.skillsDescriptions)}).catch(function(){e.go("home")})}angular.module("rd.main").controller("SkillsManagementController",t),t.$inject=["$rootScope","$scope","$state","$translate","$q","$filter","SkillsDescriptionsService","PermissionService"]}();
"use strict";!function(){function e(e,n,a,t,i,r,s,o,l,c){var u=e;u.breadCrumbs=[{text:"SkillsDescriptions_Management",link:"/#!/SkillsManagement"}],u.Id=null,u.Status=0,u.Name=null,u.Banner=null,u.languageTabs=o,u.currentTab=u.languageTabs[0],u.languageContentTabs=l.getSkillTabs(u.languageTabs);var g=Object.assign({},m());function m(){return{Id:u.Id,Status:u.Status,Name:u.Name,Banner:u.Banner,Languages:u.languageContentTabs.map(function(e){return{Language:e.Language,Title:e.Title,Description:e.Description,CoreInfo:e.CoreInfo,AdditionalInfo:e.AdditionalInfo,KnowledgeInfo:e.KnowledgeInfo,MaterialsInfo:e.MaterialsInfo,BannerText:e.BannerText,Image:e.Image,VideoLink:e.VideoLink,MetaTagTitle:e.MetaTagTitle,MetaTagDescription:e.MetaTagDescription,MetaTagKeywords:e.MetaTagKeywords,Facts:e.Facts.filter(function(e){return e.Title&&e.Description})}})}}u.createSkillDescription=function(){if(u.skillDescriptionForm.$valid)r.createDescription(m()).then(function(e){i.unsubscribe(),n.go("skillsManagementEdit",{stringId:e.data}),t.statusPopup(a("SkillDescription_Created"))}).catch(function(e){t.statusPopup(e.data.Message,"error")});else{var e=angular.element(".skill-description__tabs");c.scrollTo(e)}},s.checkSkillsDescriptionManagementPermission().then(function(e){s.transformPermission(e.data,u),u.SkillsDescriptionsManagePermission||n.go("home")}).catch(function(){n.go("home")}),i.checker(u,function(){return!angular.equals(g,m())})}angular.module("rd.main").controller("SkillsManagementCreateController",e),e.$inject=["$scope","$state","$translate","$rootScope","UserLeaveService","SkillsDescriptionsService","PermissionService","LANGUAGE_TABS","LANGUAGE_CONTENT_TABS","CommonService"]}();
"use strict";!function(){function e(e,n,a,t,i,s,o,r,l,g,c){var u,d=e;function m(){return{Id:d.Id,Status:d.Status,Name:d.Name,Banner:d.Banner,Languages:d.languageContentTabs.map(function(e){return{Language:e.Language,Title:e.Title,Description:e.Description,CoreInfo:e.CoreInfo,AdditionalInfo:e.AdditionalInfo,KnowledgeInfo:e.KnowledgeInfo,MaterialsInfo:e.MaterialsInfo,BannerText:e.BannerText,Image:e.Image,VideoLink:e.VideoLink,MetaTagTitle:e.MetaTagTitle,MetaTagDescription:e.MetaTagDescription,MetaTagKeywords:e.MetaTagKeywords,Facts:e.Facts.filter(function(e){return e.Title&&e.Description})}})}}function T(){return!angular.equals(u,m())}d.breadCrumbs=[{text:"SkillsDescriptions_Management",link:"/#!/SkillsManagement"}],d.stringId=a.stringId,d.Status=0,d.Name=null,d.languageTabs=l,d.currentTab=d.languageTabs[0],d.updateSkillDescription=function(){if(d.skillDescriptionForm.$valid)o.editDescription(m()).then(function(e){s.unsubscribe(),n.go("skillsManagement"),i.statusPopup(t("SkillDescription_Changed"))}).catch(function(e){i.statusPopup(e.data.Message,"error")});else{var e=angular.element(".skill-description__tabs");c.scrollTo(e)}},r.checkSkillsDescriptionManagementPermission().then(function(e){r.transformPermission(e.data,d),d.SkillsDescriptionsManagePermission||n.go("home")}).catch(function(){n.go("home")}),o.getDescription(d.stringId).then(function(a){d.languageContentTabs=g.getSkillTabs(d.languageTabs),d.Id=a.data.Id,d.Status=a.data.Status,d.Name=a.data.Name,d.Banner=a.data.Banner,d.languageContentTabs=d.languageContentTabs.map(function(e,n){return Object.assign({},e,a.data.Languages[n])}),u=Object.assign({},m()),s.checker(d,T)})}angular.module("rd.main").controller("SkillsManagementEditController",e),e.$inject=["$scope","$state","$stateParams","$translate","$rootScope","UserLeaveService","SkillsDescriptionsService","PermissionService","LANGUAGE_TABS","LANGUAGE_CONTENT_TABS","CommonService"]}();
"use strict";!function(){function e(e,t,o,a,n,r,i,s,u,p,l,m,c,d,g){var T=e,f=["#39c2d7;","#d35d47;","#008ace;","#263852;","#ffc000;","#cedb56;","#222222;","#76cdd8;","#464547;","#cccccc;"];T.changeGroupTab=h,T.getMarkClass=function(e){if(0<e&&e<36)return"critical-mark-value";if(36<=e&&e<66)return"normal-mark-value";if(66<=e)return"good-mark-value"},T.getCorrectMark=function(e){return e?e.toFixed(1):"--"},T.showEventPopup=b,T.setCalendarView=function(e){T.calendarView=e},T.currentGroupTab={groups:{AvgMarkPercent:null,AvgAttendance:null,CountOfReadyTasks:"-",TaskCount:"-",AvgLessonMark:null}},T.isEventsReady=!1,T.currentGroups=[],T.calendarView="month",T.viewDate=new Date,T.groupTabs=[],T.tabs=[{id:1,title:o("Event_Mode_Calendar")},{id:2,title:o("Event_Mode_List")}],T.columnConfig={isSubject:!0,isFreemium:function(e){return e.PricingTypeId===m.FREEMIUM}},T.currentTab=T.tabs[0],T.desktopTextLimit=p.innerWidth<768?150:320,T.groupsInfoTemplates={desktop:"/Templates/RdTable/LearningHomePage/GroupsInfoTableTemplate.html",landscape:"/Templates/RdTable/LearningHomePage/GroupsInfoTableTemplate.html",portrait:"/Templates/RdTable/LearningHomePage/GroupsInfoTableTemplate.html",phone:"/Templates/RdTable/LearningHomePage/GroupsInfoBriefCardsTemplate.html"},T.eventListTemplates={desktop:"/Templates/RdTable/LearningHomePage/EventsListTableTemplate.html",landscape:"/Templates/RdTable/LearningHomePage/EventsListTableTemplate.html",portrait:"/Templates/RdTable/LearningHomePage/EventsListTableTemplate.html",phone:"/Templates/RdTable/LearningHomePage/EventListBriefCardTemplate.html"},T.owlCarousel={responsive:{0:{items:1},768:{items:2},940:{items:3},1040:{items:4}},loop:!1,rewind:!0,dots:!0},i.updateLocale("en",{week:{dow:1}});var G=d.getCurrentLang();function h(e){1===(T.currentGroupTab=e).id?(T.currentGroups=T.departmentAffiliateGroups.GroupsInfo,T.columnConfig.isSubject=!0):(T.currentGroups=T.regularTrainingGroups.GroupsInfo,T.columnConfig.isSubject=!1)}function b(n){a.open({animation:!0,windowClass:"task-modal",templateUrl:"/Templates/StudentLearning/EventPopupTemplate.html",controller:["$scope","$uibModalInstance",function(e,t){e.calendarEvent=n,e.cancel=function(){t.dismiss("cancel")},e.downloadAttachment=function(e,t,n){g.downloadFile(e,"/api/attachment?attachmentId="+t,n)}}]})}i.locale("ua"===G?"uk":G),s.all([l.getEpamGroups(),l.getDepartmentGroups(),l.getStudentEvents()]).then(function(e){T.regularTrainingGroups=e[0].data,T.departmentAffiliateGroups=e[1].data,T.studentGroups=_.union(T.departmentAffiliateGroups.GroupsInfo,T.regularTrainingGroups.GroupsInfo),T.studentGroups.forEach(function(e,t){e.colorIndicator=f[t%f.length]}),function(){T.departmentAffiliateGroups.GroupsInfo.length&&T.groupTabs.push({id:1,title:o("Department_Affiliate"),groups:T.departmentAffiliateGroups});T.regularTrainingGroups.GroupsInfo.length&&T.groupTabs.push({id:2,title:o("EPAM_Trainings"),groups:T.regularTrainingGroups});T.regularTrainingGroups.GroupsInfo.length||T.departmentAffiliateGroups.GroupsInfo.length||c.go("home")}(),T.groupTabs.length&&(T.currentGroups=T.groupTabs[0].groups.GroupsInfo,T.currentGroupTab=T.groupTabs[0]),T.events=e[2].data.map(function(e){return t=e,n=new Date(t.StartTime),a=new Date(t.EndTime),r=_.filter(t.Comments,"CommentForStudent"),{isSubject:_.findWhere(T.studentGroups,{GroupId:t.GroupId}).IsSubject,GroupName:_.findWhere(T.studentGroups,{GroupId:t.GroupId}).GroupName,trainerName:t.TrainerName,colorIndicator:_.findWhere(T.studentGroups,{GroupId:t.GroupId}).colorIndicator,startsAt:n,startTime:t.StartTime,endsAt:a,title:t.Topic||o("Event_Topic_Missing"),draggable:!1,editable:!1,deletable:!1,resizable:!1,trainerId:t.TrainerId,Attachments:t.Attachments,Links:t.Links,Assistances:t.Assistances,LessonType:t.LessonType,TrainingName:t.TrainingName,DepartmentName:t.DepartmentName,DepartmentGroupName:t.DepartmentGroupName,FacultyName:t.FacultyName,Description:t.Description,trainerPhotoId:t.TrainerPhotoId,locationName:t.LocationName,mark:t.CurrentStudentMark,comments:r,isCommentedEvent:!!r.length||!!t.CurrentStudentMark,descriptionMaxLength:T.desktopTextLimit,desktopTextLimit:T.desktopTextLimit,showPopup:function(){b(this)}};var t,n,a,r}),T.isEventsReady=!0,h(T.currentGroupTab)},function(){u.url("/Home")}).catch(function(e){t.successPopup(o("Error_Generic"))})}angular.module("rd.main").controller("LearningHomeController",e),e.$inject=["$scope","$rootScope","$translate","$uibModal","$statusPopup","$stateParams","moment","$q","$location","$window","StudentLearningService","PRICE_TYPES","$state","CommonService","DownloadFilesService"]}();
"use strict";!function(){function a(a,e,r,t,s,n,u,i){var o=moment().startOf("day"),d=moment().add(1,"day").endOf("day"),l=null,T=a;function c(a,t,s){a.stopPropagation(),e.taskModal(t.Id,t.Type,s).closed.then(function(){var a="Online"===t.Type,e="External"===t.Type;i.getTaskInfo(t.Id,e,a,s).then(function(a){t.Status=a.data.Status,t.statusColorClass=m(t)})})}function m(a){return(-1!==["Expired","NotAssigned"].indexOf(a.Status)?"danger-status":-1!==["Assigned","Available","InProgress","ReAssigned","SubmittedAfterDeadline","NeedReview"].indexOf(a.Status)&&"pending-status")||("Passed"===(t=a).Status||"Completed"===t.Status)&&"success-status"||("Submitted"===(e=a).Status||"InProgress"===e.Status)&&"submitted-status"||"Rejected"===a.Status&&"rejected-status";var e,t}function p(n){return n.Tasks.map(function(a){var e,t,s;return a.subjectName=n.Name,a.statusColorClass=m(a),a.isDeadline=function(a){if(a.DeadlineDate){return(new Date(a.DeadlineDate)-new Date)/36e5<=48&&"Passed"!==a.Status&&"Rejected"!==a.Status}return!1}(a),a.DeadlineText=a.DeadlineDate?(e=moment(a.DeadlineDate),o.isSame(e,"day")?r("Today")+", "+e.format("HH:mm"):d.isSame(e,"day")?r("Tomorrow")+", "+e.format("HH:mm"):e.format("DD.MM.YYYY, HH:mm")):null,a.DeadlineDate=a.DeadlineDate?(t=a,s=moment(t.DeadlineDate),t.isDeadline&&(s=o.isSame(s,"day")?s.add(5,"year"):d.isSame(s,"day")?s.add(4,"year"):s.add(3,"year")),s):NaN,a.StartDate=a.StartDate||NaN,a.Status=a.Status||"",a.ViewedMark=a.Mark||("Regular"===a.Type&&null===a.Mark?"-":0),a.groupId=n.Id,a})}T.tasksTabs=[],T.isShowActiveGroups=!1,T.isShowTasks=function(a){return a===l},T.toggleGroup=function(a){0<a.Tasks.length&&(l=T.isShowTasks(a.Id)?null:a.Id)},T.showTaskModal=c,T.groupsFilter=function(a){return"Learning"===a.Status&&(1===T.currentTasksTab.id?a.IsSubject:!a.IsSubject)},T.changeCurrentTasksTab=function(a){T.currentTasksTab=a===T.currentTasksTab?null:a},T.showActiveGroups=function(){T.isShowActiveGroups=!T.isShowActiveGroups},T.groups=[],T.$watch("currentTasksTab.id",function(a,e){void 0!==a&&(T.tasksTableResources.currentTasksTabId=a)}),i.getGroups().then(function(a){T.groups=a.data.Groups,T.studentId=a.data.StudentId,T.groups.forEach(function(a){a.Tasks=a.Tasks.map(function(a){return a.Mark=a.IsMarksHidden?-1:a.Mark,a})}),function(){if(_.some(T.groups,{IsSubject:!0})){var a=T.groups.filter(function(a){return a.IsSubject}).map(p);T.tasksTabs.push({id:1,title:r("Department_Affiliate"),tasks:_.flatten(a)})}if(_.some(T.groups,{IsSubject:!1})){var e=T.groups.filter(function(a){return!a.IsSubject}).map(p);T.tasksTabs.push({id:2,title:r("EPAM_Trainings"),tasks:_.flatten(e)})}}(),T.currentTasksTab=T.tasksTabs[0],T.currentTasksTabId=T.tasksTabs[0].id,T.tasksTableResources={currentTasksTabId:T.currentTasksTab.id,showTaskModal:c},T.tasksTableTemplates={desktop:"/Templates/RdTable/LearningTasksPage/TasksTableTemplate.html",landscape:"/Templates/RdTable/LearningTasksPage/TasksTableTemplate.html",portrait:"/Templates/RdTable/LearningTasksPage/TasksTableTemplate.html",phone:"/Templates/RdTable/LearningTasksPage/TasksBriefCardsTemplate.html"}},function(){t.url("/Home")}).catch(function(){e.successPopup(r("Error_Generic"))}),T.tabs=[{id:1,title:r("Urgent")},{id:2,title:r("All_tasks")}],T.currentTab=T.tabs[0]}angular.module("rd.main").controller("LearningTasksController",a),a.$inject=["$scope","$rootScope","$translate","$location","$uibModal","$statusPopup","$stateParams","LearningTasksService"]}();
"use strict";!function(){function r(r,n,a,t,e,i,o,s,u){var c=r;c.groupTabs=[],c.currentTab=null,c.toggleTrainersTab=function(r){c.openedTab=c.openedTab===r?-1:r},o.getTrainers().then(function(r){c.trainersInformation=r.data,_.any(c.trainersInformation,{IsSubjectTrainer:!0})&&c.groupTabs.push({id:0,title:n("Department_Affiliate"),data:_.filter(c.trainersInformation,{IsSubjectTrainer:!0})}),_.any(c.trainersInformation,{IsSubjectTrainer:!1})&&c.groupTabs.push({id:1,title:n("EPAM_Trainings"),data:_.filter(c.trainersInformation,{IsSubjectTrainer:!1})}),c.currentTab=c.groupTabs[0],c.openedTab=c.groupTabs[0]},function(){u.url("/Home")}).catch(function(){a.successPopup(n("Error_Generic"))})}angular.module("rd.main").controller("LearningTrainersController",r),r.$inject=["$scope","$translate","$rootScope","$uibModal","$statusPopup","$stateParams","StudentLearningService","$state","$location"]}();
"use strict";!function(){function n(n,e,s,t,i){var o=n,r=s.id||s.planId;o.questions=[],o.answers=[],o.isLoading=!1,o.save=function(){t.sendSurveySubmitEvent(r),o.$close(o.answers)},o.selectSurveyOption=function(n,e){_.findWhere(o.answers,{QuestionId:n}).OptionsIds=[e.Id]},o.isValid=function(){return 0==o.questions.length||!o.answers.every(function(n){return 0==n.OptionsIds.length})},o.isLoading=!0,i.getSurveyQuestions(r).then(function(n){o.isLoading=!1,o.questions=n,o.answers=n.map(function(n){return{QuestionId:n.Id,OptionsIds:[]}})}),t.sendSurveyStartEvent(r)}angular.module("rd.main").controller("SurveyPassController",n),n.$inject=["$scope","$rootScope","$stateParams","GtmTokenService","RegistrationWizardService"]}();
"use strict";!function(){function e(e,t,a,n,r,i,o,c,s){var d=e;d.isTabFilled=s,d.breadCrumbs=[{text:"Home",link:"/"},{text:"AboutUs",link:"/about"}],d.microdataTrainingCenterJSON={},i.getCenter(n.id).then(function(e){d.image=e.data.Image,d.countryId=e.data.CountryId,d.cityId=e.data.CityId,d.skillsId=e.data.SkillsId;var t=_.findWhere(e.data.Languages,{Language:a.search().lang});d.currentTrainingCenter=d.isTabFilled(t)?t:e.data.Languages[0],o.getLocations().then(function(e){d.countries=e.data,d.country=_.findWhere(d.countries,{Id:d.countryId}),d.city=_.findWhere(d.country.Cities,{Id:d.cityId}),d.metaData={title:d.currentTrainingCenter.MetaTagTitle||r("MetaTitleTrainingCenter").format(d.city.Name),description:d.currentTrainingCenter.MetaTagDescription||r("MetaDescriptionTrainingCenter").format(d.city.Name),keywords:d.currentTrainingCenter.MetaTagKeywords||r("MetaKeywordsTrainingCenter").format(d.city.Name)};var t={"@context":"https://schema.org","@type":"Organization",name:d.currentTrainingCenter.Title,location:d.city.Name,parentOrganization:"EPAM Systems",department:{"@type":"OrganizationRole",department:d.currentTrainingCenter.Universities.map(function(e){return{"@type":"CollegeOrUniversity",name:e.Name+"("+e.ShortName+")"}})}};Object.assign(d.microdataTrainingCenterJSON,t),c.addMetaTags(d.metaData)})}).catch(function(e){t.go("home")})}angular.module("rd.main").controller("TrainingCenterController",e),e.$inject=["$scope","$state","$location","$stateParams","$translate","CenterManagementService","LocationsService","MetaTagsService","TabValidator"]}();
"use strict";function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(){function e(e,t,i,n,o,c,r){function a(e){return!(9===e.Id||10===e.Id)}function s(e){return 9!==e.Id}var u=e,C=n.isDomain("ua");function l(e){e&&(e.isChecked=!e.isChecked,u.checkedCitiesList=e.isChecked?u.checkedCitiesList.concat(e):_.without(u.checkedCitiesList,e),y(),h())}function d(t){u.searchFilter="",t.isChecked=t.Cities.length?!u.isCountryChecked(t):!t.isChecked,t.Cities.forEach(function(e){e.isChecked=t.isChecked}),u.checkedCitiesList=_.without.apply(null,[u.checkedCitiesList].concat(t.Cities)),t.isChecked&&(u.checkedCitiesList=u.checkedCitiesList.concat(t.Cities)),y(),h()}function f(t){return u.checkedCitiesList.find(function(e){return e.Id===t.Id})}function h(){u.totalLocationList=[],u.locationNames.forEach(function(e){if(e.Cities.length&&e.Cities.every(f))u.totalLocationList.push(e);else{var t=e.Cities.filter(f);u.totalLocationList=u.totalLocationList.concat(t)}})}function y(){var e=u.checkedCitiesList.reduce(function(e,t){return e.concat(t.Id)},[]).join();0<e.length?(t.absUrl().includes("#!")&&t.search("City",e),i.sessionStorage.setItem("City",e)):(t.search("City",null),i.sessionStorage.removeItem("City"))}function b(){return t.search().City||i.sessionStorage.getItem("City")}function v(e){var t=_.find(u.locationNames,{Id:e.CountryId}),i=_.find(u.cities,{Id:e.CityId}),n=b();t&&(p(t),!n&&i&&l(i))}function L(){n.getDomainCountryId().then(function(e){var t=e.data,i=_.findWhere(u.locationNames,{Id:t}),n=b();i&&(p(i),n||d(i))})}function k(e){u.activeCountryMobileTab===e?u.activeCountryMobileTab=null:u.activeCountryMobileTab=e}function p(e){u.searchFilter="",e&&(u.activeCountryTab=e,u.notChoosenCountry=!1,u.activeCountryChooseCities=e.Cities)}u.loadLocations=function(){o.getActiveLocationNames().then(function(e){e.data=e.data.filter(function(e){return 0<e.Id}).map(function(e){return _objectSpread(_objectSpread({},e),{},{Cities:e.Cities.length?e.Cities.filter(function(e){return 0<e.Id}):[{Id:-e.Id,Name:e.Name,CountryId:e.Id}]})});var t,i=c.localeSensitiveSorter(e.data,"Name",!1);u.locationNames=C?i.filter(a):i.filter(s),u.locationNames&&(u.cities=u.locationNames.reduce(function(e,t){return e.concat(t.Cities)},[])),(t=b())&&t.split(",").forEach(function(t){l(u.cities.find(function(e){return e.Id===+t}))}),r.isLoggedUser()?o.getCurrentUserLocation().then(function(e){v(e.data)}).catch(function(e){L()}):L()})},u.recheckLocationCity=l,u.isCountryChecked=function(e){return e.Cities.length&&e.Cities.every(function(e){return e.isChecked})},u.recheckLocationCountry=d,u.checkCityLocation=function(e){(u.checkedCitiesList.includes(e)?l:d)(e)},u.isCountryActive=function(e){return u.activeCountryTab===e},u.isCountryMobileActive=function(e){return u.activeCountryMobileTab===e},u.checkMobileTab=function(e){return u.activeMobileTab===e},u.activeCountryChoose=p,u.activeCountryMobileChoose=k,u.activeCountryMobileNameChoose=function(e,t){e.stopPropagation(),k(t)},u.checkUserLocation=v,u.checkPredictedUserLocation=L,u.clearAllLocations=function(e){e.forEach(function(e){(u.checkedCitiesList.includes(e)?l:d)(e)})},u.activeCountryTab=null,u.activeCountryMobileTab=null,u.activeCountryChooseCities=[],u.totalLocationList=[],u.checkedCitiesList=[]}angular.module("rd.main").controller("LocationTabController",e),e.$inject=["$scope","$location","$window","DomainService","TrainingListService","CommonService","LoginService"]}();
"use strict";!function(){function l(l,i,e,n){var t=l;function s(l){var e=_.findIndex(t.selectedSkills,{Id:l.Id});e<0?t.selectedSkills.push(l):t.selectedSkills.splice(e,1),o(),c()}function c(){return _.every(t.trainingsNames,function(l){return r(l)})}function r(l){return _.findWhere(t.selectedSkills,{Id:l.Id})}function o(){var l=t.selectedSkills.reduce(function(l,e){return l.concat(e.Id)},[]).join();0<l.length?n.absUrl().includes("#!")&&n.search("Skill",l):(n.search("Skill",null),i.sessionStorage.removeItem("Skill"))}function a(){var l,e=n.search().Skill||i.sessionStorage.getItem("Skill");(l=e)&&l.split(",").forEach(function(l){t.urlSkillId=Number(l),t.urlSkill=_.findWhere(t.allSkills,{Id:t.urlSkillId}),s(t.urlSkill)})}t.checkSkill=s,t.isSkillChecked=r,t.clearSkill=function(e){t.selectedSkills=t.selectedSkills.filter(function(l){return l!==e}),o()},t.checkActiveSkills=c,t.chooseAllSkills=function(){c()?t.trainingsNames.forEach(function(l){s(l)}):t.trainingsNames.forEach(function(l){r(l)||s(l)})},t.clearAllSkills=function(l){l.length=0,o()},t.selectedSkills=t.selectedSkills?t.selectedSkills:[],e.getTrainingsNames().then(function(l){t.trainingsNames=l.data}),t.loadSkills=function(){e.getSkills().then(function(l){t.allSkills=l.data,a()})}}angular.module("rd.main").controller("SkillsTabController",l),l.$inject=["$scope","$window","TrainingListService","$location"]}();
"use strict";!function(){function e(e,t,n,o,s,i,l){var r=e;function a(){var e=angular.element("#training-list");i.scrollTo(e)}r.breadCrumbs=[{text:"Home",link:"/"}],r.addSkillToFilter=function(e){a(),r.selectedSkills=[],t(function(){r.selectedSkills.push(e)})},r.init=function(){if(s.addToUrl(),s.hasTokens()){var e=o.search().Skill,i=o.search().City;n.sessionStorage.setItem("Skill",e),n.sessionStorage.setItem("City",i)}t(function(){var e;e=o.hash(),!n.sessionStorage.getItem("Skill")&&"training-list"!=e||setTimeout(function(){a()},300)}),r.selectedSkills=[],r.selectedLocationList=[]},r.init(),r.$on("$viewContentLoaded",function(){l.sendViewTrainingsPage()})}angular.module("rd.main").controller("TrainingListController",e),e.$inject=["$scope","$timeout","$window","$location","UtmTokenService","CommonService","GtmTokenService"]}();
"use strict";!function(){function e(e,s,c,l){var o=e;function r(e,n){if(e){c.absUrl().includes("#!")&&c.search(n,e);var s=e.split(",").map(function(s){var e=o.trainingTypeData[n].find(function(e){return e.Id==s});return e.isChecked=!0,e});o.selectedTypeList[n]=o.selectedTypeList[n].concat(s)}}o.selectedTypeList={PlanTypes:[],ProgramLanguages:[],PlanLevels:[],PlanPricingTypes:[],PlanFormats:[]},o.checkType=function(e,s){e.isChecked=!e.isChecked;var n=o.trainingTypeData[s].filter(function(e){return e.isChecked}).map(function(e){return e.Id});if(e.isChecked)o.selectedTypeList[s].push(e);else{var t=o.selectedTypeList[s].indexOf(e);o.selectedTypeList[s].splice(t,1)}l.sessionStorage.setItem(s,n.join(",")),c.absUrl().includes("#!")&&c.search(s,n.join(","));0===n.length&&(l.sessionStorage.removeItem(s),c.search(s,null))},o.clearType=function(e,s){e.isChecked=!1;var n=o.selectedTypeList[s].indexOf(e);o.selectedTypeList[s].splice(n,1);var t=l.sessionStorage.getItem(s).split(","),a=c.search()[s],i=a?a.split(","):[],r=t.indexOf(e.Id);t.splice(r,1),i.splice(r,1),l.sessionStorage.setItem(s,t.join(",")),c.absUrl().includes("#!")&&c.search(s,t.join(","));t.length||(l.sessionStorage.removeItem(s),c.search(s,null))},o.clearAllTypes=function(){for(var e in o.trainingTypeData)l.sessionStorage.removeItem(e),c.search(e,null),o.selectedTypeList[e].forEach(function(e){e.isChecked=!1}),o.selectedTypeList[e]=[]},o.isShowSelectedTypes=function(){return _.values(o.selectedTypeList).some(function(e){return e.length})},o.loadTypes=function(){s.getTrainingFilterData().then(function(e){o.trainingTypeData=e.data;var s=c.search().PlanTypes,n=c.search().ProgramLanguages,t=c.search().PlanLevels,a=c.search().PlanPricingTypes,i=c.search().PlanFormats;s=s||l.sessionStorage.getItem("PlanTypes"),n=n||l.sessionStorage.getItem("ProgramLanguages"),t=t||l.sessionStorage.getItem("PlanLevels"),a=a||l.sessionStorage.getItem("PlanPricingTypes"),i=i||l.sessionStorage.getItem("PlanFormats"),r(s,"PlanTypes"),r(n,"ProgramLanguages"),r(t,"PlanLevels"),r(a,"PlanPricingTypes"),r(i,"PlanFormats")})}}angular.module("rd.main").controller("TrainingTypeTabController",e),e.$inject=["$scope","TrainingListService","$location","$window"]}();
"use strict";!function(){function e(t,i,e,s,o,a,d,n,r,c,u,l,f,p,g,m,I,y,S,h,D,C,R,v){var E=t;function O(e){return E.registrationFieldsNames.includes(e)}function b(){var e=E.currentStepIndex<E.registrationSteps.length-1?E.currentStepIndex+1:E.currentStepIndex,t=E.registrationSteps[E.currentStepIndex].formName,i=E.forms[t];return E.isExactMatch&&E.userData.CountryOfResidence&&E.userData.cityOfResidence&&E.userData.cityOfResidence.Id&&k(E.userData.CountryOfResidence,E.userData.cityOfResidence&&E.userData.cityOfResidence.Id)&&E.isNeedCheckCurrentLocation?(s.successPopup(d("Registration_ExactMatch_Training"),void 0,void 0,!0).closed.then(function(){I.showGlobalPreloader(),S.unsubscribe(),window.location.href="/"+(v.search().lang||"en")+"/training/"+E.planId}),!1):(i.$setSubmitted(),i.$valid?(E.registrationSteps[E.currentStepIndex].isActive=!1,E.registrationSteps[e].isActive=!0,E.currentStepIndex=e,"basicInfo"===t?l.sendRegistrationBasicInfoSubmitEvent(E.planId):"education"===t?l.sendRegistrationEducationInfoSubmitEvent(E.planId):"workExperience"===t&&l.sendRegistrationWorkInfoSubmitEvent(E.planId),I.scrollTo($(".steps-nav")),!0):(E.scrollToFirstError(),!1))}function P(e){return E.showCitiesPreloader=!0,m.getCitiesByQuery(E.userData.CountryOfResidence,e).then(function(e){E.citiesForCountry=e.length?e:[{Id:-1,Name:d("Other")}],E.showCitiesPreloader=!1})}function k(t,e){var i=E.trainingLocationsIds.find(function(e){return e.CountryId===t});return!(i&&!i.CitiesIds||i&&i.CitiesIds.includes(e))}E.planId=a.planId,E.resumeObject={files:[],addedFiles:[],removedFiles:[]},E.originResumeObject=E.resumeObject,E.isEmailSaved=!1,E.surveyAnswers=[],E.cities=[],E.educationCities=[],E.isSubmitting=!1,E.linkPattern=D,E.englishLevelDefinitions=C,E.preferredMethod=R,E.scrollToFirstError=g.scrollToFirstError,E.isShouldAssigned=g.isShouldAssigned,E.isShowYearOfStudy=g.isShowAdmissionYear,E.updateUniversities=g.updateUniversities,E.updateFaculties=g.updateFaculties,E.updateDepartments=g.updateDepartments,E.getAdditionalInfoPlaceholder=function(){if(-1===E.userData.EducationCityId||-1===E.userData.EducationEstablishmentId||-1===E.userData.FacultyId||-1===E.userData.DepartmentId)return d("additionalInfoPlaceholder")},E.isRequiredWorkExperience=function(e){return e.CompanyName||e.Position||e.StartDate||e.EndDate||e.AdditionalWorkExperienceInformation||e.IsTillNow},E.searchEducationCityCallback=function(e){{if(E.showEducationCityPreloader=!0,e)return m.getCitiesByQuery(void 0,e).then(function(e){E.educationCities=e.length?e:[{Id:-1,Name:d("Other")}],E.showEducationCityPreloader=!1});E.educationCities=[],t.$applyAsync(),E.showEducationCityPreloader=!1}},E.getCityName=m.getCityName,E.updateEducationCity=function(e,t){t&&t.Id&&(E.userData.EducationCityId=t.Id,E.currentCountryId=t.CountryId,E.updateUniversities(e,E.userData,0))},E.isDisabledCityOfResidence=!0,E.universitiesInfo=[{universities:[],university:{},currentFaculties:[],faculty:{},currentDepartments:[]}],E.forms={},E.currentStepIndex=0,E.maxYear=new Date,E.minYear=new Date,E.minYear.setFullYear(E.minYear.getFullYear()-100),E.datePickerOptions={formatDay:"dd",formatMonth:"MMMM",formatYear:"yy",maxDate:new Date,minDate:E.minYear,startingDay:1,showWeeks:!1},E.datePicker={opened:!1,openedStart:!1,openedEnd:!1},E.openDatePicker=function(){E.datePicker.opened=!0},E.openDatePickerStart=function(){E.datePicker.openedStart=!0},E.openDatePickerEnd=function(){E.datePicker.openedEnd=!0},E.changeCountry=function(){E.userData.cityOfResidence=null,E.userData.CityOfResidence=null,E.isDisabledCityOfResidence=!(E.userData&&E.userData.CountryOfResidence),P(""),E.isExactMatch&&E.trainingLocationsIds.every(function(e){return e.CountryId!==E.userData.CountryOfResidence})&&s.statusPopup(d("Registration_ExactMatch_Location"),"error")},E.changeCity=function(){E.userData.cityOfResidence&&E.userData.CountryOfResidence&&k(E.userData.CountryOfResidence,E.userData.cityOfResidence&&E.userData.cityOfResidence.Id)&&s.statusPopup(d("Registration_ExactMatch_Location"),"error")},E.isFieldVisible=O,E.isFieldRequired=function(e){return O(e)&&_.findWhere(E.registrationFields,{Field:e}).IsRequired},E.asHTML=function(e){return i.trustAsHtml(d(e))},E.searchCities=P,E.navBack=function(){var e=0<E.currentStepIndex?E.currentStepIndex-1:E.currentStepIndex;return E.registrationSteps[E.currentStepIndex].isActive=!1,E.registrationSteps[e].isActive=!0,E.currentStepIndex=e,I.scrollTo($(".steps-nav")),!0},E.navNext=b,E.navFinish=function(){if(b()){E.isSubmitting=!0;var e=angular.copy(E.userData);e.BirthDate=I.stringifyDate(e.BirthDate),g.cleanAssignment(E.cities,e),e.StartDate=I.stringifyDate(e.StartDate),e.EndDate=I.stringifyDate(e.EndDate),e.UserSkills=g.getUpdatedSkills(E.userData.UserSkills,E.formInfoData.Skills,E.activeSkillCategories),e.CityOfResidence=e.cityOfResidence&&e.cityOfResidence.Id||e.CityOfResidence,e.cityOfResidence=void 0,E.isShouldAgreedPublicOffer&&E.userData.IsPublicOfferAgreed&&u.registerPublicOfferConfirmation(E.planId),u.saveRegistrationUserInfo(E.planId,e).then(function(e){return e.data.AutoReplyMessage&&(E.registrationAutoReplyMessage=e.data.AutoReplyMessage),u.saveSurveyAnswers(E.planId,E.surveyAnswers)}).then(function(){return p.createResumes(_.pluck(E.resumeObject.addedFiles,"AttachmentId"))}).then(function(){return p.deleteResumes(_.pluck(E.resumeObject.removedFiles,"AttachmentId"))}).then(function(){if(E.isSubmitting=!1,y.hasTokens()){var e=y.getTokens();u.saveUTM(E.planId,e.utmSource,e.utmMedium,e.utmCampaign,e.urlReferrer,e.utmTerm,e.utmContent),y.clearTokens()}"Standard"!==E.registrationTemplate&&l.sendSimplifiedRegistrationSubmitEvent(E.planId),l.sendTrainingRegistrationAfterSuccessFormSubmit(E.planId),n.get("$http").remove("/api/trainings/registered"),S.unsubscribe(),s.successPopup(E.registrationAutoReplyMessage||d("RegistrationSuccess")).closed.then(function(){I.showGlobalPreloader(),window.location.href="/"+(v.search().lang||"en")+"/training/"+E.planId})}).catch(function(){E.isSubmitting=!1,s.successPopup(d("Error_Generic"))})}},E.utmClassSuffix=y.getClassSuffix(),e.all([u.getRegistrationInfo(),u.getRegistrationSchema(E.planId),u.getRegistrationUserInfo(E.planId)]).then(function(e){E.formInfoData=e[0].data;var t=e[1].data;E.userData=e[2].data;var i=_.pluck(E.formInfoData.Skills,"Category");if(E.isCyrillicSymbolsAllowed=t.IsCyrillicSymbolsAllowed,E.registrationTemplate=t.Schema.Template,E.isExactMatch=t.IsExactMatch,E.isShouldAgreedPublicOffer=!!t.PublicOfferAttachmentId,E.isShouldAgreedPublicOffer){E.userData.IsPublicOfferAgreed=!1;var a='<a href="/api/attachment?attachmentId='.concat(t.PublicOfferAttachmentId,'" target="_blank">\n                ').concat(d("TrainingRegistration_PublicOfferLink"),"</a>");E.publicOfferAgreementText=d("TrainingRegistration_PublicOfferText").format(a)}if(E.isExactMatch){E.trainingLocationsIds=t.PlanLocations.reduce(function(e,t){if(null===t.CityId)e.push({CountryId:t.CountryId,CitiesIds:null});else{var i=e.find(function(e){return e.CountryId===t.CountryId});i?i.CitiesIds.push(t.CityId):e.push({CountryId:t.CountryId,CitiesIds:[t.CityId]})}return e},[]);var n=!E.userData.CountryOfResidence,r=!E.userData.CityOfResidence&&E.trainingLocationsIds.find(function(e){return e.CountryId===E.userData.CountryOfResidence});!k(E.userData.CountryOfResidence,E.userData.CityOfResidence)||n||r||s.successPopup(d("Registration_ExactMatch_Profile"),void 0,void 0,!0).closed.then(function(){I.showGlobalPreloader(),S.unsubscribe(),window.location.href="/"+(v.search().lang||"en")})}if("DepartmentAffiliate"===E.registrationTemplate)return S.unsubscribe(),o.go("affiliateRegistration",{planId:E.planId});E.registrationFieldsNames=_.pluck(t.Schema.Fields,"Field"),E.registrationFields=t.Schema.Fields,E.registrationSteps=angular.copy(h).filter(function(e){return 0<_.intersection(E.registrationFieldsNames,e.fields).length}),E.registrationSteps[E.currentStepIndex].isActive=!0,E.activeSkillCategories=i.filter(O),E.isNeedCheckCurrentLocation=!!t.Schema.Fields.find(function(e){return"CurrentLocation"===e.Field}),E.isNeedCheckCurrentLocation&&(E.userData.CityOfResidence=null,E.userData.CountryOfResidence=null),E.userData.EducationCityId=-1===e[2].data.EducationCityId?null:e[2].data.EducationCityId,E.currentCountryId=e[2].data.EducationCountryId,E.educationCity={Id:e[2].data.EducationCityId,Name:e[2].data.EducationRegionName?e[2].data.EducationCityName+", "+e[2].data.EducationRegionName:e[2].data.EducationCityName,CountryId:e[2].data.EducationCountryId},null===e[2].data.EducationEstablishmentId&&!e[2].data.EducationCityId||E.updateUniversities(E.universitiesInfo,E.userData,0),g.parseEmptyEducation(E.userData),E.userData.BirthDate=I.parseDate(E.userData.BirthDate),E.userData.StartDate=I.parseDate(E.userData.StartDate),E.userData.EndDate=I.parseDate(E.userData.EndDate),E.isEmailSaved=!!E.userData.Email,S.checker(E,function(){return!0})}).catch(function(){window.location.href="/"+(v.search().lang||"en")}),c.getUserTrainingDetails(E.planId).then(function(e){!e.data.IsUserRegisteredOnTraining||e.data.IsAutoRejected||e.data.RejectionExpirationDate&&I.isDatePassed(e.data.RejectionExpirationDate)?E.registrationTemplate?"Simplified"===E.registrationTemplate?l.sendSimplifiedRegisterStartEvent(e.data.Id,e.data.Name,e.data.PlanLocations,e.data.StartDate):l.sendRegisterStartEvent(e.data.Id,e.data.Name,e.data.PlanLocations,e.data.StartDate):u.getRegistrationSchema(E.planId).then(function(e){"Simplified"===e.data.Schema.Template?l.sendSimplifiedRegisterStartEvent(e.data.Id,e.data.Name,e.data.PlanLocations,e.data.StartDate):l.sendRegisterStartEvent(e.data.Id,e.data.Name,e.data.PlanLocations,e.data.StartDate)}):(I.showGlobalPreloader(),window.location.href="/"+(v.search().lang||"en")+"/training/"+E.planId)}),m.getLocationsList().then(function(e){E.cities=e.allCities,E.cities.unshift({Id:-1,Name:d("Other")}),E.countries=e.countries,E.locations=e.locations}),f.getResume().then(function(e){E.resumeObject.files=e.data,E.originResumeObject=angular.copy(E.resumeObject)}),u.isShowSurvey(E.planId).then(function(e){e&&r.open({animation:!0,backdrop:"static",keyboard:!1,size:"lg",windowClass:"survey-popup",templateUrl:"/Templates/Survey/SurveyPopup.html",controller:"SurveyPassController"}).result.then(function(e){E.surveyAnswers=e})})}angular.module("rd.main").controller("TrainingRegistrationController",e),e.$inject=["$scope","$sce","$q","$rootScope","$state","$stateParams","$translate","$cacheFactory","$uibModal","TrainingDetailService","RegistrationWizardService","GtmTokenService","UserProfileService","EditProfileService","UserProfileFormsService","LocationsService","CommonService","UtmTokenService","UserLeaveService","REGISTRATION_STEPS","LINK_PATTERN","ENGLISH_LEVEL_DEFINITIONS","PREFERRED_METHOD","$location"]}();
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){function e(t,e,o,i,n,a,c,r,s,f){var l=e,u=o.isDomain("ru");l.socialNets=u?r.filter(function(e){return"Facebook"!==e.socialNet}):r,l.englishLevelDefinitions=s,l.preferredMethod=f,l.isDisabledCityOfResidence=!1,l.isEmailSaved=!1,l.currentSocialNetwork=l.socialNets[0].socialNet,l.currentSocialNetworkPlaceholder=l.socialNets[0].socialNetName,l.selectPhoto=function(e,o){l.photo=e||l.photo,o[0]&&t.successPopup(i(d[o[0].$error]))},l.removePhoto=function(){l.photo=null,l.basicInfo.PhotoId=null,l.isAvatarExist=!1},l.changeCountry=function(){l.basicInfo.cityOfResidence=null,l.isDisabledCityOfResidence=!1,y("")},l.searchCities=y,l.getCityName=c.getCityName,l.datePicker={opened:!1},l.openDatePicker=function(){l.datePicker.opened=!0},l.checkCityValidity=function(e){return"object"===_typeof(e)&&null!==e&&!!e.Id},n.getBasicInfo(l.userId).then(function(o){l.basicInfo=o.data,l.oldUserLocation=o.data.CityId,l.isAvatarExist=!!l.basicInfo.PhotoId,l.isDisabledCityOfResidence=!o.data.CountryId,c.getLocationsList().then(function(e){l.countries=e.countries,l.locations=e.locations}).then(function(){y("").then(function(e){l.basicInfo.cityOfResidence={Id:o.data.CityId,Name:o.data.Region?o.data.City+", "+o.data.Region:o.data.City,Region:o.data.Region},l.modelOriginBasicInfo=angular.copy(l.basicInfo)}),l.modelOriginBasicInfo=angular.copy(l.basicInfo)}),l.basicInfo.BirthDate=a.parseDate(l.basicInfo.BirthDate),l.isEmailSaved=!!l.basicInfo.Email}).catch(function(e){window.location.replace("/error/403")});var d={maxSize:"Incorrect_photo_size",pattern:"Incorrect_photo_format"};function y(e){return l.showCityofResidencePreloader=!0,c.getCitiesByQuery(l.basicInfo.CountryId,e).then(function(e){l.citiesForCountry=e.length?e:[{Id:-1,Name:i("Other")}],l.citiesForCountry=l.citiesForCountry.map(function(e){return{Id:e.Id,Name:e.Name,CountryId:e.CountryId,Region:e.Region,RegionId:e.RegionId}}),l.showCityofResidencePreloader=!1})}}angular.module("rd.main").controller("EditProfileBasicInfoController",e),e.$inject=["$rootScope","$scope","DomainService","$translate","UserProfileService","CommonService","LocationsService","SOCIAL_NETS","ENGLISH_LEVEL_DEFINITIONS","PREFERRED_METHOD"]}();
"use strict";!function(){function e(t,e,n,o,i,r,s,a,l,c,u,f,d,m,g,I,p){var h=document.documentElement.clientWidth,S=e;(S.isMobile=h<=767,S.userId=i.params.userId||null,S.userUrlId=S.userId||"",S.isSubmitting=!1,S.cities=[],S.jobsDatePickers=[],S.forms={},S.openedSection=null,S.uploadCertificateText=l("UploadEnglishCertificate").replace(/&quot;/g,'"'),S.collapseSection=function(e){S.openedSection=S.openedSection==e?null:e,S.openedSection&&setTimeout(function(){p.scrollTo($("#"+e))},0)},S.resumeObject={files:[],addedFiles:[],removedFiles:[]},S.maxYear=new Date,S.minYear=new Date,S.minYear.setFullYear(S.minYear.getFullYear()-100),S.saveProfile=function(){if(!S.isSubmitting)if(S.forms.basicInfo.$setSubmitted(),S.forms.openInformation.$setSubmitted(),S.forms.education.$setSubmitted(),S.forms.workExperience.$setSubmitted(),function(e){e.forEach(function(e){g.cleanAssignment(S.cities,e)})}(S.educations),S.forms.basicInfo.$valid&&S.forms.openInformation.$valid&&S.forms.education.$valid&&S.forms.workExperience.$valid){S.isSubmitting=!0,S.workExperiences.forEach(function(e,n,o){e.NameCompany&&e.Position&&e.DateStart&&(e.DateEnd||e.IsTillNow)||o.splice(n,1)}),S.basicInfo.CityId=S.basicInfo.cityOfResidence.Id||null,S.basicInfo.City=S.basicInfo.cityOfResidence.Name||null;var e=angular.copy(S.basicInfo);e.BirthDate=p.stringifyDate(e.BirthDate);var n=angular.copy(S.workExperiences);n.forEach(function(e){e.DateStart=p.stringifyDate(e.DateStart),e.DateEnd=p.stringifyDate(e.DateEnd)});var o=g.getUpdatedSkills(S.userSkills,S.formInfoData.Skills,S.activeSkillCategories);m.updateBasicInfo(e,S.userId).then(function(){return m.updateWorkExperience(n,S.userId)}).then(function(){return m.updateSkills(o,S.userId)}).then(function(){return m.updateEnglishInfo(S.englishInfo.EnglishLevel,S.englishInfo.HasEnglishCertificate,S.userId)}).then(function(){return m.updateEducation(S.educations,S.userId)}).then(function(){return m.updateOpenInformation(S.openInformation,S.userId)}).then(function(){return m.uploadPhoto(S.photo,S.userId,S.basicInfo.PhotoId)}).then(function(){return m.deleteResumes(_.pluck(S.resumeObject.removedFiles,"AttachmentId"))}).then(function(){return m.createResumes(_.pluck(S.resumeObject.addedFiles,"AttachmentId"))}).then(function(){var e,n,o,t;S.isSubmitting=!1,I.unsubscribe(),e=S.basicInfo.CityId,n=window.sessionStorage.getItem("City"),o=n?n.split(","):[],~(t=o.indexOf(S.oldUserLocation+""))&&(o.splice(t,1,e),window.sessionStorage.setItem("City",o.join(","))),S.basicInfo.PhotoId||void 0===S.photo?i.go("userprofile.main",{userId:S.userUrlId}):(location.replace("/UserProfile#!/Main/"+S.userUrlId),location.reload())}).catch(function(){S.isSubmitting=!1,t.successPopup(l("Error_Generic"))})}else S.scrollToFirstError()},S.cancelProfile=function(){E()?t.confirmationPopup(l("Dlg_SaveChangesMessage"),function(){i.go("userprofile.main",{userId:S.userUrlId,checkEmptyProfile:!1})}):i.go("userprofile.main",{userId:S.userUrlId,checkEmptyProfile:!1})},S.asHTML=function(e){return r.trustAsHtml(l(e))},S.scrollToFirstError=g.scrollToFirstError,S.datePickerOptions={formatDay:"dd",formatMonth:"MMMM",formatYear:"yy",maxDate:new Date,minDate:S.minYear,startingDay:1,showWeeks:!1},n("EditProfileBasicInfoController",{$scope:e}),n("EditProfileEducationController",{$scope:e}),n("EditProfileWorkExperienceController",{$scope:e}),n("EditProfileOpenInformationController",{$scope:e}),c.checkUserProfileExtendPermissions().then(function(e){c.transformPermission(e.data,S)}),s.search().provideInfo)?t.successPopup(l("ProvideInfoAboutYouself")).closed.then(function(){s.search("provideInfo",null),a(function(){I.checker(S,E)})}):I.checker(S,E);function E(){return angular.toJson(S.basicInfo)!==angular.toJson(S.modelOriginBasicInfo)||angular.toJson(S.educations)!==angular.toJson(S.modelOriginEducation)||angular.toJson(S.openInformation)!==angular.toJson(S.modelOriginOpenInformation)||angular.toJson(S.resumeObject)!==angular.toJson(S.modelOriginResumeObjects)||angular.toJson(S.englishInfo)!==angular.toJson(S.modelOriginEnglishInfo)||angular.toJson(S.workExperiences)!==angular.toJson(S.modelOriginWorkExperiences)||angular.toJson(g.getUpdatedSkills(S.userSkills,S.formInfoData.Skills,S.activeSkillCategories))!==angular.toJson(S.modelOriginProfessionalSkills)}f.getRegistrationInfo().then(function(e){S.formInfoData=e.data,S.activeSkillCategories=_.pluck(S.formInfoData.Skills,"Category")}),d.getResume(S.userId).then(function(e){S.resumeObject.files=e.data,S.modelOriginResumeObjects=angular.copy(S.resumeObject)}),d.getEnglishLevel(S.userId).then(function(e){S.englishInfo=e.data?e.data:{},S.englishInfo.EnglishLevel=S.englishInfo.EnglishLevel||null,S.modelOriginEnglishInfo=angular.copy(S.englishInfo)})}angular.module("rd.main").controller("EditProfileController",e),e.$inject=["$rootScope","$scope","$controller","$stateParams","$state","$sce","$location","$timeout","$translate","PermissionService","LocationsService","RegistrationWizardService","UserProfileService","EditProfileService","UserProfileFormsService","UserLeaveService","CommonService"]}();
"use strict";!function(){function i(o,e,s,a,i,t,u){var r=o;function d(){this.universities=[],this.university={},this.currentFaculties=[],this.faculty={},this.currentDepartments=[]}function c(){this.Assignment=null,this.Degree=null,this.DepartmentId=null,this.EducationCityId=null,this.EducationEstablishmentId=null,this.EducationForm=null,this.EducationYear=null,this.FacultyId=null,this.GraduationYear=null,this.cities=[],this.city={}}r.universitiesInfo=[],r.addNewEducation=function(){r.forms.education.$setSubmitted();var i=[];for(var e in r.forms.education)"englishLevel"!==e&&r.forms.education[e]&&r.forms.education[e].hasOwnProperty("$viewValue")&&i.push(r.forms.education[e].$valid);if(i.every(function(i){return i})){var t=new c;t.searchEducationCityCallback=function(i){t.showUniversityPreloader=!0,i?a.getCitiesByQuery(void 0,i).then(function(i){t.cities=i.length?i:[{Id:-1,Name:s("Other")}],t.showUniversityPreloader=void 0}):(t.cities=[],o.$applyAsync(),t.showUniversityPreloader=void 0)},r.educations.push(t),r.universitiesInfo.push(new d),r.forms.education.$setPristine()}else{var n=angular.element(".ng-invalid+div").first();u.scrollTo(n)}},r.removeEducation=function(i){e.confirmationPopup(s("DeleteFormConfirm"),function(){r.educations.splice(i,1),r.universitiesInfo.splice(i,1)})},r.isShouldAssigned=t.isShouldAssigned,r.isShowYearOfStudy=t.isShowAdmissionYear,r.updateUniversities=t.updateUniversities,r.updateFaculties=t.updateFaculties,r.updateDepartments=t.updateDepartments,r.additionalInfoPlaceholder=function(){for(var i=0;i<r.educations.length;i++)if(-1===r.educations[i].EducationCityId||-1===r.educations[i].EducationEstablishmentId||-1===r.educations[i].FacultyId||-1===r.educations[i].DepartmentId)return s("additionalInfoPlaceholder")},r.updateRdComboboxCity=function(i,e,t){e.city&&e.city.Id&&(e.EducationCityId=e.city.Id,r.updateUniversities(i,e,t))},i.getEducationEstablishments(r.userId).then(function(i){r.educations=i.data,0===i.data.length&&(r.isNewUser=!0),r.educations.length||(r.educations.push(new c),r.universitiesInfo.push(new d)),r.educations.forEach(t.parseEmptyEducation),r.educations.forEach(function(e){e.EducationCityId&&(e.city=-1===e.EducationCityId?{Id:-1,Name:s("Other")}:{Id:e.EducationCityId,Name:e.EducationRegionName?e.EducationCityName+", "+e.EducationRegionName:e.EducationCityName,CountryId:e.EducationCountryId}),e.searchEducationCityCallback=function(i){e.showUniversityPreloader=!0,i?a.getCitiesByQuery(void 0,i).then(function(i){e.cities=i.length?i:[{Id:-1,Name:s("Other")}],e.showUniversityPreloader=void 0}):(e.cities=[],o.$applyAsync(),e.showUniversityPreloader=void 0)}}),r.modelOriginEducation=angular.copy(r.educations);for(var e=0;e<r.educations.length;e++)r.universitiesInfo.push(new d),r.updateUniversities(r.universitiesInfo,r.educations[e],e)})}angular.module("rd.main").controller("EditProfileEducationController",i),i.$inject=["$scope","$rootScope","$translate","LocationsService","UserProfileService","UserProfileFormsService","CommonService"]}();
"use strict";!function(){function n(n,o,e){var r=n;function i(n){e.getOpenInformation(n).then(function(n){r.openInformation=n.data,r.modelOriginOpenInformation=angular.copy(r.openInformation)})}r.skypePlaceholder=o[1].socialNetName,r.userId?i(r.userId):i()}angular.module("rd.main").controller("EditProfileOpenInformationController",n),n.$inject=["$scope","SOCIAL_NETS","EditProfileService"]}();
"use strict";!function(){function e(e,n,t,o,r){var i=e;function a(){this.NameCompany=null,this.Position=null,this.DateStart=null,this.DateEnd=null,this.AdditionalInformation=null}function s(){this.openedStart=!1,this.openedEnd=!1}function c(){return _.reduce(i.workExperiences,function(e,n){var t=!n.NameCompany||!n.Position||!n.DateStart||!n.DateEnd&&!n.IsTillNow;return e||t},!1)}i.linkPattern=r,i.addNewJob=function(){i.forms.workExperience.$setSubmitted(),i.forms.workExperience.$valid&&!c()?(i.workExperiences.push(new a),i.jobsDatePickers.push(new s)):n.successPopup(t("Fill_Previous_Form_Message"))},i.removeJob=function(e){n.confirmationPopup(t("DeleteFormConfirm"),function(){i.workExperiences.splice(e,1),i.jobsDatePickers.splice(e,1)})},i.isFormsEmpty=c,i.isRequiredWorkExperience=function(e){return e.NameCompany||e.Position||e.DateStart||e.DateEnd||e.AdditionInformation||e.IsTillNow},i.openDatePickerStart=function(e){i.jobsDatePickers[e].openedStart=!0},i.openDatePickerEnd=function(e){i.jobsDatePickers[e].openedEnd=!0},o.getSkills(i.userId).then(function(e){i.userSkills=e.data,i.modelOriginProfessionalSkills=angular.copy(i.userSkills)}),o.getWorkExperience(i.userId).then(function(e){i.workExperiences=0<e.data.length?e.data:[new a],i.workExperiences.forEach(function(){i.jobsDatePickers.push(new s)}),i.workExperiences.forEach(function(e){e.DateStart=e.DateStart?new Date(e.DateStart):null,e.DateEnd=e.DateEnd?new Date(e.DateEnd):null}),i.modelOriginWorkExperiences=angular.copy(i.workExperiences)})}angular.module("rd.main").controller("EditProfileWorkExperienceController",e),e.$inject=["$scope","$rootScope","$translate","UserProfileService","LINK_PATTERN"]}();
"use strict";!function(){function e(e,i,n,t,s,o,a,l,r,c,d,u,f,h,g,m,I){function S(e){return"Facebook"!==e.SocialNetName}var E=i,v=t.isDomain("ru");E.userId=o.params.userId||null,E.userUrlId=E.userId||"",E.profileUserId=o.params.userId;var b=document.documentElement.clientWidth;function N(){return r.getEnglishLevel(E.userId).then(function(e){if(E.englishInfo=e.data,E.englishInfo&&E.englishInfo.StartedTestDate&&E.englishInfo.PassedTestDate){var i=moment(E.englishInfo.StartedTestDate),n=moment(E.englishInfo.PassedTestDate),t=moment.duration(n.diff(i)).asMinutes();E.englishInfo.EnglishTestDuration=Math.ceil(t)}E.englishInfo&&E.englishInfo.EnglishLevel&&(E.englishInfo.EnglishLevelText=_.findWhere(E.formInfoData.EnglishLevelList,{Id:E.englishInfo.EnglishLevel}).Value),E.englishInfo&&null!==E.englishInfo.EnglishTestLevel&&(E.englishInfo.EnglishTestLevelText=_.findWhere(E.formInfoData.EnglishTestLevelList,{Id:E.englishInfo.EnglishTestLevel}).Value)})}function k(){r.getConfirmAssignTest(E.basicInfo.UserId).then(function(){n.successPopup(s("AssignEnglishTestSuccessMessage")),o.reload()})}function p(e,i,n,t){var o=_.findWhere(i,{Id:e});return e&&o?o[n]:s(t)}E.isMobile=b<=767,E.preferredMethod=g,E.skillLevels=m,E.showedNativeName=!1,E.isShouldAssigned=u.isShouldAssigned,e("TrainingInfoController",{$scope:i}),c.checkUserEnglishTestPermissions().then(function(e){c.transformPermission(e.data,E)}),c.checkUserProfilePermissions().then(function(e){c.transformPermission(e.data,E)}),E.tabs=[{id:1,title:s("UserProfile_TrainingInfoTab")},{id:2,title:s("UserProfile_ProfessionalInfoTab")}],E.currentTab=E.tabs[0],E.openedSection=null,E.collapseSection=function(e){E.openedSection=E.openedSection==e?null:e},E.educationLoadLength=2,E.jobsLimitValue=4,E.resumeObject={files:[],addedFiles:[],removedFiles:[]},E.allJobs=[],E.skills=[],E.cities=[],E.viewMoreJobs=function(){E.jobsLimitValue=E.allJobs.length,E.isLastPage=!1},E.getFilesCount=function(){return E.resumeObject.files.length},E.assignEnglishTest=function(){N().then(function(){E.englishInfo.IsAssignedEnglishTest?n.confirmationPopup(s("AssignEnglishTestConfirmMessage"),k):E.englishInfo.IsAllowedToContinueEnglishTest?n.confirmationPopup(s("AssignStartedEnglishTestConfirmMessage"),k):k()})},E.takeEnglishTest=function(){n.confirmationPopup(s("RedirectToEnglishTest"),function(){l.open("UserProfile/StartEnglishTest")})},E.downloadTestResults=function(){r.getTestResultsLink(E.userId).then(function(e){var i=e.data;l.open(i)})},E.getEnglishTestBtnHint=function(){if(E.englishInfo&&E.englishInfo.IsAssignedEnglishTest){var e=moment(E.englishInfo.InitiatedAtTestDate).format("DD.MM.YYYY");return s("HintForButtonAssignTest").format(e)}return""},E.downloadArchive=function(e){I.downloadFile(e,"/api/resume/archive","Resume_"+E.profileUserId)},E.downloadArchiveById=function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";I.downloadFile(e,"/api/resume/archive?userId="+i,"Resume_"+i)},r.getBasicInfo(E.userId).then(function(e){E.basicInfo=e.data,-1===E.basicInfo.CityId&&(E.basicInfo.City=s("Other"));var i,n,t=E.basicInfo.Country+", "+E.basicInfo.City;E.basicInfo.userLocation=E.basicInfo.Region?t+", "+E.basicInfo.Region:t,E.isAvatarExist=!!E.basicInfo.PhotoId,E.currentCommunicationMethod=_.findWhere(E.preferredMethod,{id:E.basicInfo.PreferredMethodOfCommunication}).methodName,E.profileUserId=e.data.UserId,i=E.basicInfo,n=[{SocialNetwork:i.SocialNetworkFacebook,SocialNetName:"Facebook"},{SocialNetwork:i.SocialNetworkLinkedIn,SocialNetName:"LinkedIn"},{SocialNetwork:i.SocialNetworkOdnoklassniki,SocialNetName:"OK"},{SocialNetwork:i.SocialNetworkSkype,SocialNetName:"Skype"},{SocialNetwork:i.SocialNetworkVk,SocialNetName:"VK"},{SocialNetwork:i.SocialNetworkTelegram,SocialNetName:"Telegram"},{SocialNetwork:i.SocialNetworkGitHub,SocialNetName:"GitHub"}],E.socialNets=v?n.filter(S):n}).catch(function(e){location.replace("/error/403")}),r.getEducationEstablishments(E.userId).then(function(e){E.establishments=e.data,E.establishments.length||E.userId||!a.checkEmptyProfile||location.replace("/UserProfile#!/Edit/?provideInfo=true"),E.isAllEducations=E.establishments.length<=2,E.viewMoreEducations=function(){E.educationLoadLength=E.establishments.length,E.isAllEducations=!0},f.getRegistrationInfo().then(function(e){var i,n;E.formInfoData=e.data,E.educationsList=[],i=E.establishments,n=E.formInfoData,E.educationsList=i.map(function(e){var i=e.EducationCityName||s("Other");return Object.assign({},e,{EducationCityId:e.EducationCityId,educationCity:i,educationLocation:e.EducationRegionName?i+", "+e.EducationRegionName:i,Degree:p(e.Degree,n.DegreeList,"Value","Not_Specified_Male"),Assignment:p(e.Assignment,n.DistributionList,"Value","Not_Specified_Male"),EducationForm:p(e.EducationForm,n.EducationBusyList,"Value","Not_Specified_Male"),EducationYear:p(e.EducationYear,n.EducationYearList,"Value","Not_Specified_Male")})}),f.getEnglishTestLevelData().then(function(e){E.formInfoData.EnglishTestLevelList=e.data,N()})})}),r.getWorkExperience(E.userId).then(function(e){E.allJobs=e.data,E.isLastPage=4<E.allJobs.length}),r.getSkills(E.userId).then(function(e){E.skills=e.data,E.leveledSkills=_.groupBy(E.skills,"SkillLevel"),E.hasLeveledSkills=0!==Object.keys(E.leveledSkills).length}),r.getResume(E.userId).then(function(e){E.resumeObject.files=e.data}),h.getCities().then(function(e){E.cities=e.data,E.cities.unshift({Id:-1,Name:s("Other")})}),d.getOpenInformation(E.userId).then(function(e){E.openInformation=e.data})}angular.module("rd.main").controller("MainProfileController",e),e.$inject=["$controller","$scope","$rootScope","DomainService","$translate","$state","$stateParams","BlankWindowService","UserProfileService","PermissionService","EditProfileService","UserProfileFormsService","RegistrationWizardService","LocationsService","PREFERRED_METHOD","SKILL_LEVELS","DownloadFilesService"]}();
"use strict";!function(){function e(e,t,r,a,o,s,n){var l=e;function i(){l.spinner=!0,s.getAllDataForMerge().then(function(e){if(e.data.Model.IsHaveConflicts){l.spinner=!1;var r={conflicts:e.data.Model};n.showDialog(r,{windowCssClass:"merge-user-dialog profile-merge",templateUrl:"/Templates/UserProfile/MergeUserPopupTemplate.html"})}else e.data.email=a.search().email,t.go("userprofile.submit",{allData:e.data})}).catch(function(e){l.spinner=!1,n.showMessage(r(e.data.ErrorType),"error")})}l.mergeUsers=i,o.getCurrentUser().then(function(e){l.destinationUser=e.data.Model}).catch(function(e){n.showMessage(r(e.data.ErrorType),"error")}),i()}angular.module("rd.main").controller("MergeUserController",e),e.$inject=["$scope","$state","$translate","$location","AccountsService","MergeUserService","popup"]}();
"use strict";!function(){function e(e,n,a,t,r,s){var i=n;function o(){if(c())return!0}function c(){return angular.toJson(i.oldUserData)!==angular.toJson(i.currentUserData)}i.submitChanges=function(){if(i.formPreferences.$valid){var e={MailLocale:i.currentUserData.MailLocale,TimeZone:i.currentUserData.TimeZone,NeedSaveFilters:i.currentUserData.NeedSaveFilters,IsUnsubscribed:i.currentUserData.IsUnsubscribed,OrderNamingCurrent:i.currentUserData.OrderNamingCurrent};i.TeamsNotificationPermission&&t.saveTeamsChannelLink(i.currentUserData.TeamsChannelLink),t.saveSettings(e).then(function(){var e=new Date;e.setFullYear(e.getFullYear()+1),i.oldUserData=i.currentUserData,location.reload()})}},i.showPopup=function(){return c()},i.onbeforeunload=o,i.checkDataChanging=c,i.cancelChanges=function(){t.getCurrentSettings().then(function(e){i.currentUserData=e.data})},i.oldUserData={},t.getCurrentSettings().then(function(e){i.currentUserData=e.data,s.search("lang",null),Object.assign(i.oldUserData,e.data)}),t.getCommonData().then(function(e){i.userData=e.data}),r.checkTrainerPermissions().then(function(e){r.transformPermission(e.data,i),i.TeamsNotificationPermission&&t.getTeamsChannelLink().then(function(e){Object.assign(i.currentUserData,e.data),Object.assign(i.oldUserData,e.data)})}),window.onbeforeunload=o}angular.module("rd.main").controller("ProfilePreferences",e),e.$inject=["$rootScope","$scope","$state","PreferencesService","PermissionService","$location"]}();
"use strict";angular.module("rd.main").controller("SubmitMergeController",["$scope","$window","$filter","$resource","$stateParams","$state","$translate","$statusPopup","UserProfileService","MergeUserService",function(t,i,e,r,a,c,o,n,s,l){function d(e){return-1!=e.Name.search(/@epam/i)&&(t.userForSent.PrimaryAccountId=e.Id,0==t.conflicts.ConflictsAccountRecords.length&&(t.PrimaryAccountName=e.Name),t.isPrimaryAccount=!0)}!function(){if(!a.allData)return i.location.pathname.indexOf("AdministrationUser")+1?c.go("users.merge"):c.go("userprofile.accounts");i.location.pathname.indexOf("AdministrationUser")+1?t.isFromAdminPage=!0:t.isFromAdminPage=!1;t.isDeleteSourceUser=a.allData.isDeleteSourceUser,t.isPrimaryAccount=!1,t.isHaveConflict=a.allData.Model.Conflicts.IsHaveConflicts,t.model=a.allData,t.conflicts=a.allData.Model.Conflicts,t.pmcId=a.allData.Model.DefaultValues.UserHasPMCId,t.userForSent=a.allData.Model.DefaultValues,t.userForSent.UserFromHashPassword=t.model.UserToHashPassword,t.userForSent.UserFromEmail=t.model.email,t.userForSent.UserFromId=t.model.Model.UserFrom.MergeBasicInfo.Id,t.userForSent.UserToId=t.model.Model.UserTo.MergeBasicInfo.Id,t.accountRecordsArray=t.model.Model.UserFrom.MergeBasicInfo.AccountsRecords.concat(t.model.Model.UserTo.MergeBasicInfo.AccountsRecords),t.isChecked={UserTo:{Educations:[],PreviousTrainings:[],AccountRecords:[],WorkExpiriences:[]},UserFrom:{Educations:[],PreviousTrainings:[],AccountRecords:[],WorkExpiriences:[]}};if(t.resolveConflicts={StudentConflictsResolving:[],TrainerConflictsResolving:[],PmcConflictsResolving:[]},t.addresolveAccountRecords=function(e,r,o){t.accRecords[0]="to"===r,t.resolveConflicts.PmcConflictsResolving[0]=e,t.userForSent.PrimaryAccountId=e,t.PrimaryAccountName=o},0<a.allData.Model.Conflicts.ConflictsStudentExperiences.length)for(var e=a.allData.Model.Conflicts.ConflictsStudentExperiences,r=0;r<e.length;r++){var o={key:e[r],value:""};t.resolveConflicts.StudentConflictsResolving.push(o)}if(0<a.allData.Model.Conflicts.ConflictsTrainerExperiences.length){var n=a.allData.Model.Conflicts.ConflictsTrainerExperiences;for(r=0;r<n.length;r++){o={key:n[r],value:""};t.resolveConflicts.TrainerConflictsResolving.push(o)}}for(var s in t.checkedStudentsRadio=[],t.checkedTrainingsRadio=[],t.accRecords=[],t.addStudentConflict=function(e,r,o,n){"student"===r?t.resolveConflicts.StudentConflictsResolving[e].value=o:t.resolveConflicts.TrainerConflictsResolving[e].value=o},t.isChecked.UserTo)if(t.model.Model.UserTo.MergeAdditionalInfo[s]&&0<t.model.Model.UserTo.MergeAdditionalInfo[s].length)for(r=0;r<t.userForSent[s].length;r++)t.isChecked.UserTo[s].push(!0);else if(t.model.Model.UserTo.MergeAdditionalInfo[s])for(r=0;r<t.userForSent[s].length;r++)t.isChecked.UserFrom[s].push(!0);else for(var r=0;r<t.userForSent.AccountRecords.length;r++)t.isChecked.UserTo.AccountRecords.push(!0),t.isChecked.UserFrom.AccountRecords.push(!0);for(var s in t.accountRecordsArray)d(t.accountRecordsArray[s])}(),t.isPmcAccount=d,t.$watch("userForSent.AccountRecords.length",function(){!t.userForSent||t.userForSent.PrimaryAccountId&&-1!==t.userForSent.AccountRecords.indexOf(t.userForSent.PrimaryAccountId)||(t.userForSent.PrimaryAccountId=t.userForSent.AccountRecords[0])}),t.tabs={basicInfo:"/Templates/UserProfile/mergeDetails/BasicInfoTab.html",additionalInfo:"/Templates/UserProfile/mergeDetails/AdditionalInfoTab.html",studentInfo:"/Templates/UserProfile/mergeDetails/StudentInfoTab.html",trainerInfo:"/Templates/UserProfile/mergeDetails/TrainerInfoTab.html",conflictsInfo:"/Templates/UserProfile/mergeDetails/ConflictsInfoTab.html"},t.innerTab=t.tabs.basicInfo,t.activeTab="basicInfo",t.selectTab=function(e){t.innerTab=t.tabs[e],t.activeTab=e},t.addToData=function(r,e,o){e.target.checked?t.userForSent[o].push(r):t.userForSent[o]=t.userForSent[o].filter(function(e){return e!=r})},t.verifyData=function(e){return 0===t.userForSent[e].length},t.goBack=function(){t.isFromAdminPage?c.go("users.merge"):c.go("userprofile.accounts")};a.allData&&a.allData.Model.Conflicts.ConflictsAccountRecords&&function(e){t.userFromRecConf=[],t.userToRecConf=[];for(var r=a.allData.Model.UserFrom.MergeBasicInfo.AccountsRecords,o=a.allData.Model.UserTo.MergeBasicInfo.AccountsRecords,n=0;n<e.length;n++)_.find(r,{Id:e[n]})&&t.userFromRecConf.push(_.find(r,{Id:e[n]})),_.find(o,{Id:e[n]})&&t.userToRecConf.push(_.find(o,{Id:e[n]}))}(a.allData.Model.Conflicts.ConflictsAccountRecords),a.allData&&a.allData.Model.Conflicts.ConflictsStudentExperiences&&function(e){t.userFromStudConf=[],t.userToStudConf=[];for(var r=a.allData.Model.UserFrom.MergeAdditionalInfo.StudentExperiences,o=a.allData.Model.UserTo.MergeAdditionalInfo.StudentExperiences,n=0;n<e.length;n++)_.find(r,{Id:e[n]})&&t.userFromStudConf.push(_.find(r,{Id:e[n]})),_.find(o,{Id:e[n]})&&t.userToStudConf.push(_.find(o,{Id:e[n]}))}(a.allData.Model.Conflicts.ConflictsStudentExperiences),a.allData&&a.allData.Model.Conflicts.ConflictsTrainerExperiences&&function(e){t.userFromTrainConf=[],t.userToTrainConf=[];for(var r=a.allData.Model.UserFrom.MergeAdditionalInfo.TrainerExperiences,o=a.allData.Model.UserTo.MergeAdditionalInfo.TrainerExperiences,n=0;n<e.length;n++)_.find(r,{Id:e[n]})&&t.userFromTrainConf.push(_.find(r,{Id:e[n]})),_.find(o,{Id:e[n]})&&t.userToTrainConf.push(_.find(o,{Id:e[n]}))}(a.allData.Model.Conflicts.ConflictsTrainerExperiences),t.validateSubmitMerge=function(){return!(!t.userForSent||0!==t.userForSent.AccountRecords.length)},t.validationMergeConflict=function(){return(t.checkedStudentsRadio&&t.checkedStudentsRadio.length)!==(t.userFromStudConf&&t.userFromStudConf.length)||(t.checkedTrainingsRadio&&t.checkedTrainingsRadio.length)!==(t.userFromTrainConf&&t.userFromTrainConf.length)||(t.userFromRecConf&&t.userFromRecConf.length)!==(t.accRecords&&t.accRecords.length)},t.finishMerge=function(){var e={mergeDefaultValues:t.userForSent,hashPassword:t.userForSent.UserFromHashPassword,email:t.userForSent.UserFromEmail};t.spinner=!0,t.isFromAdminPage?l.mergeUsersFromAdmin(e.mergeDefaultValues,t.resolveConflicts,t.isDeleteSourceUser).success(function(e){c.go("users.merge",{mergeNotification:!0})}).error(function(e){t.spinner=!1,n({content:o(e.ErrorType),type:"error"})}):l.mergeUsers(e).success(function(e){c.go("userprofile.accounts",{mergeNotification:!0})}).error(function(e){t.spinner=!1,n({content:o(e.ErrorType),type:"error"})})}}]).filter("recordFilter",function(){return function(e,r){return e.filter(function(e){return-1!=r.indexOf(e.Id)})}});
"use strict";!function(){function n(i,e,t,n,a,r,s,o,l,u,T,p,c,g,d,m,f){var P=i;function S(n,e,i){return{title:t(n),sortingField:e,isReversed:i||!1}}function I(n,e,i){n.sortingColumn=e,i&&(e.isReversed=!e.isReversed),n.displayedTrainings=a("orderBy")(n.displayedTrainings,e.sortingField,e.isReversed),n.currentPage=1}function R(n){return 0<n.trainings.length}function C(n){return[g.DEPARTMENT_AFFILIATE,g.EDUCATIONAL_PRACTICE].includes(n.PlanTypeId)}function b(n){return n.CancelRegistrationReason&&n.WorkflowStatusId===m.NOT_SELECTED}function h(n){var s=n.PlanId,e=P.basicInfo.UserId;o.getStudentSurveyAnswers(s,e).success(function(a){l.open({animation:!0,size:"md",windowClass:"edit-dialog",templateUrl:"Templates/Popups/SurveyPopup.html",controller:["$scope","$http","parentScope","$uibModalInstance",function(n,e,i,t){var r=n;r.applications=i.trainingTabs.applications.trainings,r.trainingName=_.find(r.applications,function(n){return n.PlanId===s}).TrainingName,r.SurveyData=a,r.closePopup=function(){t.close()},r.checkForNeedInBullet=function(n){return"MultiSelect"===n.Question.Type&&1<n.SurveyAnswerOptions.length}}],resolve:{parentScope:T.when(i)}})})}P.tableResources={showSurveyAnswers:h,readSurveyPermissions:P.ViewSurveyAnswersPermission,getTestStatus:function(n){return n.IsExpired?t("Assignment_Container_Expired_Period"):!n.InProgress||n.OnReview||n.IsExpired?n.InProgress&&n.OnReview&&!n.IsExpired?t("Assignment_OnReview"):n.InProgress||n.IsExpired?void 0:t("Assignment_Container_Go_To_Test"):t("Assignment_Container_Continue_Test")},takeRegistrationTest:function(n){e.confirmationPopup(t("RedirectToRegistrationTest"),function(){r.open("/api/AssignmentContainer/"+n.AssignmentContainerId+"/"+n.TrainingOwnerId+"/link")})},getTechnicalTestResult:function(n){return null===n.RecruiterRating?null:n.IsRatingResult?n.RecruiterRating:t("Technical_Test_Passed")},isProfileOwner:null==P.userId,isRecruiter:!1,isDepartment:C,isRegistrationCancelled:b,isShowFreemiumButton:function(n){return!P.userUrlId&&!C(n)&&n.PlanPricingTypeId===d.FREEMIUM&&[m.ACCEPTED,m.STUDENT].includes(n.WorkflowStatusId)},culture:s.search().lang||f.getCurrentLocale()||"en"},P.studentGroupsTemplates={desktop:"/Templates/RdTable/ProfileTrainingInfo/StudentGroupsTableTemplate.html",landscape:"/Templates/RdTable/ProfileTrainingInfo/StudentGroupsCardsTemplate.html",portrait:"/Templates/RdTable/ProfileTrainingInfo/StudentGroupsCardsTemplate.html",phone:"/Templates/RdTable/ProfileTrainingInfo/StudentGroupsCardsTemplate.html"},P.applicationsTemplates={desktop:"/Templates/RdTable/ProfileTrainingInfo/ApplicationsTableTemplate.html",landscape:"/Templates/RdTable/ProfileTrainingInfo/ApplicationsCardsTemplate.html",portrait:"/Templates/RdTable/ProfileTrainingInfo/ApplicationsCardsTemplate.html",phone:"/Templates/RdTable/ProfileTrainingInfo/ApplicationsCardsTemplate.html"},P.currentTestingTemplates={desktop:"/Templates/RdTable/ProfileTrainingInfo/CurrentTestingsTableTemplate.html",landscape:"/Templates/RdTable/ProfileTrainingInfo/CurrentTestingsCardsTemplate.html",portrait:"/Templates/RdTable/ProfileTrainingInfo/CurrentTestingsCardsTemplate.html",phone:"/Templates/RdTable/ProfileTrainingInfo/CurrentTestingsCardsTemplate.html"},P.trainingTabs={applications:{title:t("Applications_Title"),currentPage:1,trainings:[],displayedTrainings:[],sortingColumn:null,searchQuery:null,collapsed:!0,columns:[S("Groups_TrainingName","TrainingName"),S("Group_StudentsStatus","Status"),S("Training_Registration_Date","CreatedAt"),S("ApplicationsContact",null)]},studentGroups:{title:t("Groups_Student"),currentPage:1,trainings:[],displayedTrainings:[],sortingColumn:null,searchQuery:null,collapsed:!0,columns:[S("Groups_TrainingName","TrainingName"),S("Group_GropName","GroupName"),S("Group_GroupStatus","GroupStatus"),S("TrainingPeriod","StartDate"),S("StudentStatus","StudentStatus")]},currentTesting:{title:t("UserTrainingInfo_CurrentTesting"),currentPage:1,trainings:[],displayedTrainings:[],sortingColumn:null,searchQuery:null,collapsed:!0,columns:[S("Groups_TrainingName","TrainingName"),S("OnlineTask_DeadLine","Deadline")]}},P.TRAININGS_PER_PAGE_DESKTOP=10,P.TRAININGS_PER_PAGE_TABLET=2,P.TRAININGS_PER_PAGE_PHONE=2,P.hasPermissionsToSeeSurvey=!1,P.currentTrainingTab=P.trainingTabs.applications,P.searchTrainingsByColumns=function(r,n){r.searchQuery?(r.currentPage=1,r.displayedTrainings=a("filter")(r.trainings,function(t){return _.some(n,function(n){var e=t[n],i=r.searchQuery.trim().toLowerCase();return-1!==e.toLowerCase().indexOf(i)})}),I(r,r.sortingColumn)):(r.displayedTrainings=_.clone(r.trainings),r.currentPage=1)},P.sortTrainingsInTabByColumn=I,P.setCurrentTrainingTab=function(n){P.currentTrainingTab=n},P.getTabletOffset=function(n){return(n.currentPage-1)*P.TRAININGS_PER_PAGE_TABLET},P.getDesktopOffset=function(n){return(n.currentPage-1)*P.TRAININGS_PER_PAGE_DESKTOP},P.getMobileOffset=function(n){return(n.currentPage-1)*P.TRAININGS_PER_PAGE_PHONE},P.toggleTrainingTab=function(n){n.collapsed&&_.mapObject(P.trainingTabs,function(n){n.collapsed=!0});n.collapsed=!n.collapsed,P.currentTrainingTab=n},P.showSurveyAnswers=h,P.hasTrainings=R,P.isTrainingTabVisible=function(){return _.some(_.values(P.trainingTabs),function(n){return R(n)})},P.isDepartment=C,P.isRegistrationCancelled=b,c.checkUserProfilePermissions().then(function(n){c.transformPermission(n.data,P),P.tableResources.readSurveyPermissions=P.ViewSurveyAnswersPermission}),Promise.all([n.getApplications(P.userId).then(function(n){var e=P.trainingTabs.applications;n.data.applications&&0<n.data.applications.length&&(e.trainings=n.data.applications),P.isUserHasPermissionsToSeeSurvey=n.data.isHasPermissionToViewSurveyAnswers,e.displayedTrainings=_.clone(e.trainings),I(e,e.columns[2],!0)}),n.getStudentGroups(P.userId).then(function(n){var e=P.trainingTabs.studentGroups;n.data&&0<n.data.length&&(e.trainings=n.data),e.displayedTrainings=_.clone(e.trainings),I(e,e.columns[3],!0)}),n.getCurrentTesting(P.userId).then(function(n){var e=P.trainingTabs.currentTesting;n.data&&n.data.CurrentTestings&&0<n.data.CurrentTestings.length&&(e.trainings=n.data.CurrentTestings,P.tableResources.isRecruiter=n.data.IsRecruiter),e.displayedTrainings=_.clone(e.trainings),I(e,e.columns[1],!0)})]).then(function(n){P.currentTrainingTab=0<P.trainingTabs.applications.trainings.length?P.trainingTabs.applications:0<P.trainingTabs.studentGroups.trainings.length?P.trainingTabs.studentGroups:0<P.trainingTabs.currentTesting.trainings.length?P.trainingTabs.currentTesting:null})}angular.module("rd.main").controller("TrainingInfoController",n),n.$inject=["$scope","$rootScope","$translate","UserProfileService","$filter","BlankWindowService","$location","RegistrationSurveyService","$uibModal","$statusPopup","$q","AssignmentContainerService","PermissionService","TRAINING_TYPES","PRICE_TYPES","WORKFLOW_STATUSES","CommonService"]}();
"use strict";!function(){function e(s,e,o,r,t,l,n,i){var a=s;a.addresses=[],a.allRoles,a.citiesAndCountriesList=[],a.citiesList,a.countriesList,a.globalRoles,a.IsSendNotify=!0,a.localRoles,a.locationList,a.model,a.newUserRole,a.rolesId=[],a.userRoles=[],a.addRole=function(){a.userRoles.some(function(e){return e.Address?e.Id===a.newUserRole.Id&&!!a.newUserRole.Address&&e.Address.Value===a.newUserRole.Address.Value:e.Id===a.newUserRole.Id&&!a.newUserRole.Address})?n.showMessage(i("Role_Error_Name_Exists"),"error"):(a.userRoles.push(angular.copy(a.newUserRole)),a.rolesId.push(a.newUserRole.Id),a.addresses.push(a.newUserRole.Address.Value))},a.isDisabledUserRoleAdd=function(){return!a.newUserRole||!a.newUserRole.Id||a.newUserRole.IsRequiredLocation&&!a.newUserRole.Address},a.removeRole=function(e){var s={animation:!0,success:function(){a.userRoles.splice(a.userRoles.indexOf(e),1)}},o={title:i("Roles_delete"),body:i("Roles_delete_confirmation"),ok:i("Remove"),cancel:i("Cancel")};n.showDialog(o,s)},a.saveUser=function(){delete a.model.StudentDetails,delete a.model.TrainerDetails,delete a.model.QuestionaryModel,a.model.IsSendNotify=a.IsSendNotify,a.model.RolesId=a.rolesId,a.model.Addresses=a.addresses;var s=e.defer();r.createUser(a.model).then(function(e){s.resolve(e.data),o.go("users.main",{createPromise:s.promise})}).catch(function(e){s.reject(e.data),o.go("users.main",{createPromise:s.promise})})},a.showErrorMessage=function(e,s){return!!a.userForm[e]&&(!!a.userForm[e].$error[s]&&(a.userForm[e].$dirty&&a.userForm[e].$touched||a.userForm.$submitted))},a.showFileError=function(e){return!!a.errFile&&a.errFile.$errorMessages[e]},a.uploadFiles=function(e,s){a.errFile=s&&s[0],e&&(e.upload=t.upload({url:"/File/NgSavePhoto",data:{file:e}}),e.upload.then(function(e){a.model.PhotoSessionId=e.data.id,a.model.isTempPhoto=!0}))},a.UserRoleAddressValidationLocation=function(){return!!a.newUserRole&&a.newUserRole.IsRequiredLocation&&!a.newUserRole.Address},a.passwordRequired=!0,r.getNewUser().then(function(e){a.model=e.data.model,a.allRoles=e.data.allRoles,a.localRoles=e.data.localRoles,a.globalRoles=e.data.globalRoles,a.locationList=e.data.locationList,a.countriesList=e.data.countriesList,a.citiesList=e.data.citiesList,a.citiesAndCountriesList=a.countriesList.concat(a.citiesList),s.$watch("model.PrimaryPhone",function(){a.requiredPhones=[],a.requiredPhones[a.model.PrimaryPhone]=!0})}).catch(function(e){a.status="unable to load data: "+e.data.message}),l.checkUserManagementPermissions().then(function(e){l.transformPermission(e.data,a),a.UserAdministrationPermission||window.location.replace("/error/403")}).catch(function(e){a.status="Unable to load data: "+e.data.message})}angular.module("rd.main").controller("CreateUserController",e),e.$inject=["$scope","$q","$state","UsersService","Upload","PermissionService","popup","$translate"]}();
"use strict";angular.module("rd.main").controller("EditUserController",["$scope","$q","$resource","$translate","$filter","$uibModal","$stateParams","$routeParams","$statusPopup","$state","Restangular","LocationsService","UsersService","$timeout","Upload","PermissionService","PopupService",function(u,d,e,m,o,f,s,t,R,p,r,n,y,l,a,c,h){c.checkAuditTrailPermissions().then(function(e){c.transformPermission(e.data,u)}),$("form").removeData("unobtrusiveValidation"),$("form").removeData("validator"),y.getUserGroups(s.userId).success(function(e){u.userGroups=e}),y.getEditUser(s.userId).success(function(e){u.accounts=e.accounts,u.allTraining=e.allTraining,u.model=e.model,u.model.Questionary.EducationModels.forEach(function(e){e.AdmissionYearView=e.AdmissionYear?e.AdmissionYear:m("Not_Specified"),e.GraduationYearView=e.GraduationYear?e.GraduationYear:m("Not_Specified")}),u.Skills=e.skills,u.userId=s.userId,u.newsLocalRoles=[e.localRoles[3]],u.groupLocalRoles=[e.localRoles[0],e.localRoles[1],e.localRoles[2]],u.planLocalRoles=[e.localRoles[4]],u.globalRoles=e.globalRoles,u.locationList=e.locationList,u.localRoleNews=e.newsRoles,u.localRoleGroups=e.groups,u.localRolePlans=e.planRoles,u.MilitaryAttitudeVisible=!1,u.Resumes=e.resumes,u.$watch("model.PrimaryPhone",function(){u.requiredPhones=[],u.requiredPhones[u.model.PrimaryPhone]=!0}),u.$watch("model.Questionary.SelectedAddress",function(e,o){null!=e&&0<=e.toLowerCase().indexOf(u.model.Questionary.MilitaryAttitudeVisibleFor.toLowerCase())?u.MilitaryAttitudeVisible=!0:u.MilitaryAttitudeVisible=!1}),l(function(){$("[data-address-type]").each(function(){new AddressField(this)}),$(".userRoles").each(function(){new UserPermissions(this),new UserRoles(this)})},0),u.dataLoading=!1,u.userForm.$setSubmitted()}).error(function(e){u.status="Unable to load data: "+e.message}),c.checkUserManagementPermissions().success(function(e){c.transformPermission(e,u),u.UserAdministrationPermission||window.location.replace("/error/403")}).error(function(e){u.status="Unable to load data: "+e.message}),n.getLocationsList().then(function(e){u.locations=e.locations.map(function(e){return{City:null,Country:"country:"+e.Id,Label:"Country",Text:e.Name,Value:"country:"+e.Id}})}),u.showErrorMessage=function(e,o){return!!u.userForm[e]&&(u.userForm[e].$error[o]&&(u.userForm[e].$dirty&&u.userForm[e].$touched||u.userForm.$submitted))},u.uploadFiles=function(e,o){u.errFile=o&&o[0],e&&(e.upload=a.upload({url:"/File/NgSavePhoto",data:{file:e}}),e.upload.then(function(e){u.model.PhotoSessionId=e.data.id,u.model.isTempPhoto=!0}))},u.showFileError=function(e){return!!u.errFile&&u.errFile.$errorMessages[e]},u.isShowSkillGroup=function(e){if(e)for(var o=0;o<e.length;o++)if("Unknown"!==e[o].SkillLevel)return!0;return!1},u.isExistSkills=function(e){for(key in e)return u.isShowSkillGroup(e[key]);return!1},u.blockUser=function(){var e={title:m("Block_User"),body:m("Block_User_Confirmation_Params",[u.model.LastName]),cancel:m("Cancel"),ok:m("Block_User")};h.show("delete-dialog",e).result.then(function(e){e&&(u.dataLoading=!0,y.blockUser(u.userId).success(function(e){u.model.IsBlocked=!0,u.dataLoading=!1,R({content:m("User_Successfully_Blocked"),type:"success"})}).error(function(e){u.status="Unable to block user: "+e.message,R({content:u.status,type:"error"})}))})},u.obfuscateData=function(){var e={title:m("Obfuscate_Data"),body:m("Obfuscate_Confirmation_Params",[u.model.Name]),cancel:m("Cancel"),ok:m("Obfuscate_Data")};h.show("delete-dialog",e).result.then(function(e){e&&(u.dataLoading=!0,y.obfuscateData(u.userId).success(function(e){u.model.IsBlocked=!0,u.dataLoading=!1,R({content:m("Data_Successfully_Obfuscate"),type:"success"}),p.reload()}).error(function(e){u.status=m("Error_Obfuscate_Data",[e.message]),R({content:u.status,type:"error"})}))})},u.restoreUser=function(){var e={title:m("Restore"),body:m("Restore_User_Confirmation",[u.model.LastName]),cancel:m("Cancel"),ok:m("Restore")};h.show("delete-dialog",e).result.then(function(e){e&&(u.dataLoading=!0,y.restoreUser(u.userId).success(function(e){u.model.IsBlocked=!1,R({content:m("User_Successfully_Restored"),type:"success"}),u.dataLoading=!1}).error(function(e){u.status="Unable to restore user: "+e.message,u.dataLoading=!1,R({content:u.status,type:"error"})}))})},u.deleteAccount=function(o,s){var e={title:m("Remove_User"),body:m("Remove_Confirmation",[o.Name]),cancel:m("Cancel"),ok:m("Remove")};h.show("delete-dialog",e).result.then(function(e){e&&y.deleteAccount(o.Id).success(function(e){R({content:m("Remove_Success"),type:"success"}),u.accounts[0].IsPrimary=!0,u.accounts.splice(s,1)}).error(function(e){u.status="Unable to delete: "+e.message,R({content:u.status,type:"error"})})})},u.isDisabledUserRoleAdd=function(e){return null==e},u.isDisabledLocalRoleAdd=function(e,o){return null==e||null==o},u.checkValid=function(){u.userForm.$valid||(R({content:m("Plan_Create_Error"),type:"error"}),$("html, body").animate({scrollTop:$(".User_Info").offset().top+"px"},"normal"))},u.saveUser=function(){delete u.model.StudentDetails,delete u.model.TrainerDetails,delete u.model.QuestionaryModel,delete u.model.UserRoles,u.model.GroupLocalRoles=[],u.model.NewsLocalRoles=[],u.model.PlanLocalRoles=[],u.model.UserRolesId=[],u.model.Addresses=[],u.model.Accounts={},u.dataLoading=!0;var e=document.querySelectorAll("input[name='RolesId[]']"),o=document.querySelectorAll("input[name='Addresses[]']");for(i=0;i<e.length;i++)u.model.UserRolesId.push(e[i].value),u.model.Addresses.push(o[i].value);var s=document.querySelectorAll("input[name='NewsObjectId[]']"),t=document.querySelectorAll("input[name='NewsRoleId[]']");for(i=0;i<s.length;i++)u.model.NewsLocalRoles.push({ObjectId:s[i].value,RoleId:t[i].value});var r=document.querySelectorAll("input[name='GroupObjectId[]']"),n=document.querySelectorAll("input[name='GroupRoleId[]']");for(i=0;i<r.length;i++)u.model.GroupLocalRoles.push({ObjectId:r[i].value,RoleId:n[i].value});var l=document.querySelectorAll("input[name='PlanObjectId[]']"),a=document.querySelectorAll("input[name='PlanRoleId[]']");for(i=0;i<l.length;i++)u.model.PlanLocalRoles.push({ObjectId:l[i].value,RoleId:a[i].value});var c=d.defer();y.saveEditUser(u.model).success(function(e){c.resolve(e),u.dataLoading=!1,p.go("users.main",{createPromise:c.promise})},function(e){c.reject(e),p.go("users.main",{createPromise:c.promise})})},u.deleteRole=function(o,s,e){var t={title:m("Roles_delete"),body:m("Remove_Confirmation",[e]),cancel:m("Cancel"),ok:m("Remove")};h.show("delete-dialog",t).result.then(function(e){e&&o.splice(s,1)})},u.addUserRole=function(){var e=u.model.UserRoles.filter(function(e){return u.userRoleAddress?e.Name==u.userRole.Name&&e.UserRolePlace==u.userRoleAddress.Text:(u.userRoleAddress={City:"",Country:"",Text:"",Value:""},e.Name==u.userRole.Name)});!u.userRole.IsRequiredLocation||void 0!==u.userRoleAddress&&""!==u.userRoleAddress.Text?0==e.length?u.model.UserRoles.push({CanDelete:!0,City:u.userRoleAddress.City,Country:u.userRoleAddress.Country,Id:u.userRole.Id,Name:u.userRole.Name,SysName:u.userRole.SysName,Type:u.userRole.Type,UserRolePlace:u.userRoleAddress.Text,LocationValue:u.userRoleAddress.Value}):R({content:m("Role_Error_Name_Exists"),type:"error"}):R({content:m("Address_RequiredFields"),type:"error"})},u.UserRoleAddressValidationLocation=function(){null===u.userRole||!u.userRole.IsRequiredLocation||void 0!==u.userRoleAddress&&null!==u.userRoleAddress&&""!==u.userRoleAddress.Text?$("#userRoleAddress_chzn").removeClass("user-role-address-invalid"):$("#userRoleAddress_chzn").addClass("user-role-address-invalid")},u.addLocalUserRole=function(r,n,l,a){y.getLocalRoleName(n,a).success(function(o){var s=!0;if(o.success){if(0==r.filter(function(e){return e.ObjectId==n&&e.RoleId!=l.Id&&(e.RoleId=l.Id,e.RoleName=l.Name,e.Name=o.name,s=!1),e.ObjectId==n}).length){var e={Name:o.name,ObjectId:n,RoleId:l.Id,RoleName:l.Name,UserId:u.userId};r.push(e)}else s&&R({content:m("Role_Error_Name_Exists"),type:"error"});u.dataLoading=!1}else{var t="Not found";switch(a){case"Plan":t=m("LocalRoleManagement_Error_TrainingNotFound");break;case"Group":t=m("LocalRoleManagement_Error_GroupNotFound");break;case"News":t=m("LocalRoleManagement_Error_NewsNotFound")}R({content:t,type:"error"})}})},u.moveAccountDialog=function(l,s,a){var c=u;f.open({animation:!0,windowClass:"edit-dialog",templateUrl:"/Templates/Users/MoveAccount.html",controller:["$scope","$uibModalInstance","UsersService",function(t,o,e){var r=null,n=null;t.userList=[],$(document).on("input",".edit-user-modal .chzn-search input",function(){var s=$(document).find(".edit-user-modal .chzn-search input")[0];3<=$(s).val().length?r&&0==$(s).val().indexOf(r)||(clearTimeout(n),n=setTimeout(function(){var o=$(s).val();e.getUserToMoveAccount(l,o).success(function(e){r=o,t.userList=e,setTimeout(function(){$(s).val(o)},700)})},1e3)):(r=null,clearTimeout(n))}),t.moveAccount=function(){t.toUser.Id;e.moveAccount(t.toUser.Id,l).success(function(e){c.accounts[0].IsPrimary=!0,c.accounts.splice(s,1),R({content:m("Success_Moving_Account",[a])+" "+t.toUser.Email,type:"success"}),o.close()}).error(function(e){console.log(e)})}}]})},u.createPmcAccount=function(){var t=u;f.open({animation:!0,windowClass:"edit-dialog",templateUrl:"/Templates/Users/CreatePmcAccount.html",controller:["$scope","$uibModalInstance",function(s,o){s.Email="",s.showErrorMessage=function(e,o){return!!s.userModal[e]&&(s.userModal[e].$error[o]&&(s.userModal[e].$dirty&&s.userModal[e].$touched||s.userModal.$submitted))},s.save=function(e){y.createPmcAccount(t.userId,e).success(function(e){e.success?(t.accounts.push(e.model.account),R({content:m("Account_Successfully_Created"),type:"success"}),o.close()):(errors="",e.errors.forEach(function(e){e.Errors.forEach(function(e){errors+=e.ErrorMessage+"<b />"})}),R({content:errors,type:"error"}))}).error(function(e){s.status="Unable to added: "+e.message,R({content:s.status,type:"error"})})}}]})},u.editLocalRole=function(o,r,n,l,a){f.open({animation:!0,windowClass:"edit-dialog",templateUrl:"/Templates/Users/EditLocaleRole.html",controller:["$scope","$uibModalInstance","UsersService",function(s,t,e){s.ObjectId=o,s.localUserRoles=n,s.updateLocalRole=function(o){null!=s.localRole&&e.getLocalRoleName(o,a).success(function(e){l[r].Name=e.name,l[r].ObjectId=o,l[r].RoleName=s.localRole.Name,l[r].RoleId=s.localRole.Id,R({content:m("Role_Edit_Update"),type:"success"}),t.close()}).error(function(e){s.status="Unable to change: "+e.message,R({content:m("Role_Edit_Error"),type:"error"})})}}]})},u.cancelUpdate=function(){p.go("users.main",{createPromise:deferred.promise})},u.setPrimary=function(o){y.setPrimary(u.userId,o.Id).success(function(e){u.model.Email=o.Name,u.accounts.forEach(function(e){e.IsPrimary=o.Id==e.Id})})},u.openUpsaProfile=function(){window.open(u.model.UpsaProfileLink,"_blank")},u.dataLoading=!0}]);
"use strict";!function(){function e(e,r,s,a,t,n,o,i,c){var l=e;function u(e){e.$setViewValue(""),e.$render()}l.dataLoading=!1,l.destinationUserSearch={},l.isDeleteSourceUser=!1,l.sourceUserSearch={},l.disableButton=function(e){return"sourceUser"===e?!l.sourceUserSearch.Id&&!l.sourceUserSearch.Name&&!l.sourceUserSearch.Email:!l.destinationUserSearch.Id&&!l.destinationUserSearch.Name&&!l.destinationUserSearch.Email},l.merge=function(){l.spinner=!0;var e={userToId:l.destinationUser.Id,userFromId:l.sourceUser.Id};o.GetMergedDataForAdmin(e).then(function(e){e.data.isDeleteSourceUser=l.isDeleteSourceUser,s.go("userprofile.submit",{allData:e.data})}).catch(function(e){l.spinner=!1,c.showMessage(n(e.data.ErrorType),"error")})},l.resetFields=function(e,r){r?l.destinationUser=null:l.sourceUser=null;u(e.SearchId),u(e.SearchName),u(e.SearchEmail),e.$setPristine()},l.searchUser=function(e,r,s){var a;"number"==typeof e&&(a=e);l.spinner=!0,function(e,r){var s=e||r.Id;return o.getUser(s,r.Name,r.Email)}(a,e).then(function(e){s||e.data.IsUserFound?r?l.sourceUser=e.data.Model:l.destinationUser=e.data.Model:0<e.data.Model.length?l.showSelectUserDialog(e.data.Model,r):c.showMessage(n("User_Merge_NotFound"),"error")}).catch(function(e){c.showMessage(n(e.data.ErrorType),"error")}).finally(function(){l.spinner=!1})},l.selectUser=function(e,r){r?(l.sourceUser=null,l.searchUser(e,!0)):(l.destinationUser=null,l.searchUser(e,!1))},l.showSelectUserDialog=function(e,r){var s={parentScope:l,users:e,isSourceUser:r},a={animation:!0,windowCssClass:"merge-user-dialog wide",templateUrl:"/Templates/Users/SelectUserPopupTemplate.html",controller:"SelectUserController"};c.showDialog(s,a)},i.checkUserManagementPermissions().then(function(e){i.transformPermission(e.data,l),l.UserAdministrationPermission||window.location.replace("/error/403"),r.mergeNotification&&c.showMessage(n("Accounts_Merged_Source_Deleted"),"success")}).catch(function(e){l.status="Unable to load data: "+e.data.message})}angular.module("rd.main").controller("MergeUsersController",e),e.$inject=["$scope","$stateParams","$state","$uibModal","$statusPopup","$translate","MergeUserService","PermissionService","popup"]}();
"use strict";!function(){function e(e,r,t,n,s){var a=e;function u(){var e,r;a.users&&(e=(a.currentPage-1)*a.itemPerPage+1,r=a.currentPage*a.itemPerPage<=a.users.length?a.currentPage*a.itemPerPage:a.users.length,a.paginTitleStr=t("Paging_Items")+" "+t("Paging_Summary",[e,r,a.users.length]))}a.isLoading=!1,a.itemPerPage=8,a.currentPage=1,a.userFrom=0,a.users=n.users,a.res=n,a.selectUser=function(e){n.parentScope.selectUser(e,n.isSourceUser),r.close()},a.$watch("currentPage",function(){a.userFrom=(a.currentPage-1)*a.itemPerPage,u()}),a.$watch("itemPerPage",function(){u()})}angular.module("rd.main").controller("SelectUserController",e),e.$inject=["$scope","$uibModalInstance","$translate","resources","popup"]}();
"use strict";!function(){function e(n,t,e,s,r,i,o,a,c,l,u,d){n.pagin={},n.sortField="FirstName,LastName",n.sortDirection="Ascending",n.onlyNumbers=/^\d+$/;function m(e,n,t){e.resources=t,e.ok=function(){n.close(e)},e.cancel=function(){n.dismiss("cancel")}}function g(){return n.isLoading=!0,t.get("/AdministrationUser/Users",{params:{countryId:n.search.country?n.search.country.id:null,cityId:n.search.city?n.search.city.id:null,skillId:n.search.skill?n.search.skill.id:null,graduationYear:n.search.graduation?n.search.graduation:null,accountType:n.search.accountType?n.search.accountType:null,roleId:n.search.role?n.search.role.id:null,permissionId:n.search.permission?n.search.permission.id:null,search:n.search.name?n.search.name:null,page:n.pagin.pageNumber+1||1,count:n.pagin.pageCount||8,sortColumn:n.sortField,sortDirection:n.sortDirection}}).then(function(e){n.users=e.data.users,n.totalCount=e.data.totalCount,n.isLoading=!1})}u.createPromise&&u.createPromise.then(function(e){i({content:e.message,type:"success"})},function(e){i({content:e.message,type:"error"})}),d.checkUserManagementPermissions().success(function(e){d.transformPermission(e,n),n.UserAdministrationPermission||window.location.replace("/error/403"),p()}).error(function(e){n.status="Unable to load data: "+e.message}),"True"==a.cookie.get("NeedSaveFilters")?(n.search=a.get("UserManagmentFilter"),n.search&&n.search.city&&l.find({isExtended:!1,countryId:n.search.country.id}).then(function(e){n.cities=e}),n.search||(n.search={})):n.search={},m.$inject=["$scope","$uibModalInstance","resources"],t.get("/AdministrationUser/Filter").then(function(e){n.roles=e.data.roles,n.permissions=e.data.permissions,n.countries=e.data.countries,n.skills=e.data.trainingTypes,n.graduations=e.data.graduationYears,n.accountTypes=e.data.accountTypes}),n.updateCity=function(e){e?l.find({isExtended:!1,countryId:e.id}).then(function(e){n.cities=e}):n.cities=null},n.applyFilter=function(e){(!e||e&&"Enter"==e.key)&&(n.pagin.pageNumber=0,g(),a.set("UserManagmentFilter",n.search))},n.paginChange=function(){g()},n.resetFilter=function(){n.search={},n.cities=null,g(),a.set("UserManagmentFilter",n.search)},g(),n.block=function(e){if(!e.isBlocked){var n=e;r.open({animation:!1,backdrop:"static",windowClass:"delete-dialog",templateUrl:"userManagmentPopup.html",controller:m,resolve:{resources:s.when({title:o("User_Block"),body:o("Block_User_Confirmation_Params",[e.name]),cancel:o("Cancel"),ok:o("Block_User")})}}).result.then(function(){t.post("/AdministrationUser/Block",{id:n.id}).then(function(e){n.isBlocked=!0,i({content:e.data.message,type:"success"})},function(e){i({content:e.data.message,type:"error"})})})}},n.restore=function(e){if(e.isBlocked){var n=e;r.open({animation:!1,backdrop:"static",windowClass:"delete-dialog",templateUrl:"userManagmentPopup.html",controller:m,resolve:{resources:s.when({title:o("User_Restore"),body:o("Restore_User_Confirmation_Params",[e.name]),cancel:o("Cancel"),ok:o("Restore_User")})}}).result.then(function(){t.post("/AdministrationUser/Restore",{id:n.id}).then(function(e){n.isBlocked=!1,i({content:e.data.message,type:"success"})},function(e){i({content:e.data.message,type:"error"})})})}},n.merge=function(){e.go("users.merge",{location:"replace"})},n.sort=function(e){n.sortField===e?"Ascending"===n.sortDirection?n.sortDirection="Descending":n.sortDirection="Ascending":(n.sortField=e,n.sortDirection="Ascending"),g()},n.isSortUp=function(e){return n.sortField===e&&"Ascending"===n.sortDirection},n.isSortDown=function(e){return n.sortField===e&&"Descending"===n.sortDirection};var p=function(){n.gotoProfilePermission=!1,n.updateUserPermission=!1,(n.AllowUserProfileEditing||n.ProfileUserPermission)&&(n.gotoProfilePermission=!0),(n.LocalRolesUserAdministrationPermission||n.UserAdministrationPermission)&&(n.updateUserPermission=!0)}}angular.module("rd.main").controller("UsersMainController",e),e.$inject=["$scope","$http","$state","$q","$uibModal","$statusPopup","$translate","localStorageService","CountryService","CityService","$stateParams","PermissionService"]}();
"use strict";!function(){function e(o,i,a,e,t,n){var l=o;l.dialogInfo={},l.smallImage={name:a("Group_ImportOutlook_Hint"),isSizeInvalid:!1,isNotLoaded:!0,file:null},l.bigImage={name:a("Group_ImportOutlook_Hint"),isSizeInvalid:!1,isNotLoaded:!0,file:null},l.addLogo=function(){if(l.smallImage.isNotLoaded||l.bigImage.isNotLoaded||l.bigImage.isSizeInvalid||l.smallImage.isSizeInvalid)return!1;l.dialogInfo.imagefileSmall=l.smallImage.file,l.dialogInfo.imagefileBig=l.bigImage.file,e.addLogo(l.dialogInfo).then(function(e){i.dismiss(),t.showMessage(e.data.content,"success"),n.push(e.data.model)}).catch(function(e){e.data.content;t.showMessage(e.data.content,"error"),$("html, body").animate({scrollTop:0},"normal")})},l.showErrorMessage=function(e,i){return!!l.editForm[e]&&(l.editForm[e].$error[i]&&(l.editForm[e].$dirty&&l.editForm[e].$touched||l.editForm.$submitted))},l.validateImage=function(e,i){e.files[0]&&1048576<=e.files[0].size||e.files[0].type.indexOf("image")<0?(i.isSizeInvalid=!0,i.name=a("Group_ImportOutlook_Hint")):(i.isSizeInvalid=!1,i.name=e.files[0].name,i.file=e.files[0]);i.isNotLoaded=!1,o.$apply()}}angular.module("rd.main").controller("AddLogoController",e),e.$inject=["$scope","$uibModalInstance","$translate","DictionariesService","popup","resources"]}();
"use strict";!function(){function t(t,n,e,o){var a=t;function s(){o.checkPortalAdministrationPermission().then(function(t){o.transformPermission(t.data,a),a.PortalAdministrationPermission||window.location.replace("/error/403")},i),e.getAddresses().then(function(t){a.addressesInfo=t.data},i)}function i(t){a.status="Unable to load data: "+t.data.message}a.loadFromPmc=function(){e.loadFromPmc().then(function(t){s(),n({content:t.data,type:"succes"})},function(t){a.status="Unable to load data: "+t.data.message,n({content:t.data.message,type:"error"})})},s()}angular.module("rd.main").controller("AddressesController",t),t.$inject=["$scope","$statusPopup","DictionariesService","PermissionService"]}();
"use strict";!function(){function o(o,n,t,e,r,i){var a=o;function u(o){a.status="Unable to load data: "+o.data.message}function c(o){e({content:o.data.message,type:"error"})}a.getLocal=function(o){return o.forEach(function(o){o.Description=n(o.ConfigName)}),o},a.editItemDialog=function(o){var n=null==o?0:o.Id;r.editConfigurationValue(n).then(function(o){t.open({animation:!0,windowClass:"edit-dialog users-skill-dialog",size:"md",backdrop:"static",templateUrl:"/Templates/Administration/Dictionaries/ConfigurationValues/EditPopup.html",controller:["$scope","currentConfigurationValueInfo","configurationValuesInfo",function(o,n,i){var a=o;n.ConfigValue=n.ConfigValue.toString(),a.configurationValueInfo=n,a.modalTitle="Configuration_Edit",a.editConfigurationValue=function(){r.updateConfigurationValue(a.configurationValueInfo).then(function(o){e({content:o.data.content,type:o.data.type}),a.configurationValueInfo=o.data.obj;var n=_.where(i,{Id:a.configurationValueInfo.Id});if(n.length){var t=i.indexOf(n[0]);i[t]=a.configurationValueInfo}else i.push(a.configurationValueInfo)}).catch(function(o){u(o),c(o)})},a.showErrorMessage=function(o,n){return!!a.editForm[o]&&(a.editForm[o].$error[n]&&(a.editForm[o].$dirty&&a.editForm[o].$touched||a.editForm.$submitted))}}],resolve:{currentConfigurationValueInfo:function(){return o.data},configurationValuesInfo:function(){return a.configurationValuesInfo}}})}).catch(function(o){a.logError(o),a.showPopupWithError(o)})},a.setDefaultValue=function(o){r.setDefaultValue(o).then(function(o){e({content:o.data.content,type:o.data.type});var n=o.data.obj,t=_.where(a.configurationValuesInfo,{Id:n.Id});if(t.length){var i=a.configurationValuesInfo.indexOf(t[0]);a.configurationValuesInfo[i]=n}else a.configurationValuesInfo.push(n)}).catch(function(o){a.logError(o),a.showPopupWithError(o)})},a.logError=u,a.showPopupWithError=c,i.checkPortalAdministrationPermission().then(function(o){i.transformPermission(o.data,a),a.PortalAdministrationPermission||window.location.replace("/error/403")}).catch(function(o){a.logError(o)}),r.getConfigurationValues().then(function(o){a.configurationValuesInfo=a.getLocal(o.data)}).catch(function(o){a.logError(o)})}angular.module("rd.main").controller("ConfigurationValuesController",o),o.$inject=["$scope","$translate","$uibModal","$statusPopup","DictionariesService","PermissionService"]}();
"use strict";!function(){function o(o,e,a,i,t){var s=o;s.addItemDialog=function(o){a.showDialog(s.logosInfo,{animation:!0,windowCssClass:"delete-dialog logo-dialog",templateUrl:"/Templates/Administration/Dictionaries/LogoManagement/AddPopupTemplate.html",controller:"AddLogoController"})},s.deleteItemDialog=function(o){var t={animation:!0,success:function(t){return function(){i.removeLogo(t.Id).then(function(o){"success"==o.data.type?(a.showMessage(o.data.content,"success"),s.logosInfo.splice(_.findIndex(s.logosInfo,{Id:t.Id}),1)):(a.showMessage(o.data.content,"error"),$("html, body").animate({scrollTop:0},"normal"))}).catch(function(o){o.data.content;a.showMessage(o.data.content,"error"),$("html, body").animate({scrollTop:0},"normal")})}}(o)},n={title:e("TrainingTypeLogo_Remove"),body:e("TrainingTypeLogo_RemoveConfirmation").format(o.Name),ok:e("Remove"),cancel:e("Cancel")};a.showDialog(n,t)},t.checkPortalAdministrationPermission().then(function(o){t.transformPermission(o.data,s),s.PortalAdministrationPermission||window.location.replace("/error/403")}).catch(function(o){s.status="Unable to load data: "+o.data.message}),i.getLogos().then(function(o){s.logosInfo=o.data}).catch(function(o){s.status="unable to load data: "+o.data.message})}angular.module("rd.main").controller("LogoController",o),o.$inject=["$scope","$translate","popup","DictionariesService","PermissionService"]}();
"use strict";!function(){function e(e,o,n,t,r,a){var s=e;s.editItemDialog=function(i){var e,t;e={},t=null==i?(s.PortalAdministrationPermission||a.location.replace("/error/403"),{animation:!0,windowClass:"delete-dialog skillCategory-dialog",backdrop:"static",templateUrl:"/Templates/Administration/Dictionaries/SkillCategories/EditPopupTemplate.html",controller:["$scope","$uibModalInstance",function(e,t){var a=e;a.ok=function(){var e=a.editForm;{if(e.$valid)return t.close(a);_.each(e.$error,function(e){_.each(e,function(e){var t;(t=e).$setTouched(),t.$setDirty()})})}},a.getFieldErrors=function(e){var t=a.editForm,o=t[e].$error;return(t.$submitted||t[e].$dirty)&&o},a.modalTitle="SkillCategories_Create",a.modalSubmitTitle="Add"}],success:function(e){var t;t=e,n.createCategory(t.dialogInfo).then(function(e){r.showMessage(e.data.content,"success"),t.dialogInfo.Id=e.data.id,t.dialogInfo.Version=1,s.categoriesInfo.push(t.dialogInfo)}).catch(function(e){e.data.content;r.showMessage(e.data.content,"error")})}}):(s.PortalAdministrationPermission||a.location.replace("/error/403"),{animation:!0,windowClass:"delete-dialog skillCategory-dialog",backdrop:"static",templateUrl:"/Templates/Administration/Dictionaries/SkillCategories/EditPopupTemplate.html",controller:["$scope","$uibModalInstance",function(e,t){var a=e;a.ok=function(){var e=a.editForm;{if(e.$valid)return t.close(a);_.each(e.$error,function(e){_.each(e,function(e){var t;(t=e).$setTouched(),t.$setDirty()})})}},a.getFieldErrors=function(e){var t=a.editForm,o=t[e].$error;return(t.$submitted||t[e].$dirty)&&o},a.modalTitle="SkillCategories_Edit",a.modalSubmitTitle="Save";var o={Id:i.Id,ResourceName:i.ResourceName,ExternalName:i.ExternalName,Version:i.Version};a.dialogInfo=o}],success:function(e){var a;a=e,n.updateCategory(a.dialogInfo).then(function(e){var t=_.where(s.categoriesInfo,{Id:a.dialogInfo.Id});if(t.length){var o=s.categoriesInfo.indexOf(t[0]);a.dialogInfo.Version=a.dialogInfo.Version+1,s.categoriesInfo[o]=a.dialogInfo}r.showMessage(e.data.content,"success")}).catch(function(e){e.data.content;r.showMessage(e.data.content,"error")})}});r.showDialog(e,t)},s.deleteItemDialog=function(i){s.PortalAdministrationPermission||a.location.replace("/error/403");var e={title:o("SkillCategories_RemoveConfirmation"),ok:o("Delete"),cancel:o("Cancel")},t={animation:!0,windowClass:"delete-dialog",templateUrl:"Templates/Administration/Dictionaries/SkillCategories/DeletePopupTemplate.html",controller:["$scope","$uibModalInstance",function(e,t){var o=e;o.ok=function(){return t.close(o)};var a={Id:i.Id,ResourceName:i.ResourceName,ExternalName:i.ExternalName};o.dialogInfo=a}],success:function(){var t;t=i,n.removeCategory(t.Id).then(function(e){"success"==e.data.type?(r.showMessage(e.data.content,e.data.type),s.categoriesInfo.splice(_.findIndex(s.categoriesInfo,{Id:t.Id}),1)):(r.showMessage(e.data.content,e.data.type),$("html, body").animate({scrollTop:0},"normal"))}).catch(function(e){e.data.content;r.showMessage(e.data.content,e.data.type)})}};r.showDialog(e,t)},t.checkPortalAdministrationPermission().then(function(e){t.transformPermission(e.data,s),s.PortalAdministrationPermission||a.location.replace("/error/403")}).catch(function(e){s.status="Unable to load data: "+e.data.message}),n.getSkillCategories().then(function(e){s.categoriesInfo=e.data}).catch(function(e){s.status="unable to load data: "+e.data.message})}angular.module("rd.main").controller("SkillCategoriesController",e),e.$inject=["$scope","$translate","DictionariesService","PermissionService","popup","$window"]}();
"use strict";!function(){function t(t,e,n,l,i,o,a,s,r,c){var d=t;function f(){c.checkPortalAdministrationPermission().then(function(t){c.transformPermission(t.data,d),d.PortalAdministrationPermission||s.location.replace("/error/403")}).catch(function(t){d.status="Unable to load data: "+t.data.message})}function u(){var e=[],i=[];r.getSkillInfo(l.skillId).then(function(t){d.skillInfo=t.data,t.data.StaffingDeskSkills.forEach(function(t){e.push({id:t.Value,text:t.Text})}),d.skillInfo.SdtTrainingTypes||(d.skillInfo.SdtTrainingTypes=[]),t.data.SdtTrainingTypes.forEach(function(t){i.push(t.SdtSkillId+":"+t.SdtSkillName)}),d.skillsForSelect=e,d.preselectSkills=i,k(e,i),d.descriptionFormatHelp=n("PageDown_FormatHelp"),d.skillInfo.Program.Icon&&(d.skillInfo.Program.Icon=d.skillInfo.Program.Icon.replace(".png","")+"UUI.png"),d.programs=[d.skillInfo.Program],d.step=d.skillInfo.Id?"edit":"new"}).catch(function(t){d.status="unable to load data: "+t.data.message})}function k(l,t){document.querySelector("#sd-skill-select")?($("#sd-skill-select").val(t),$("#sd-skill-select").select2({initSelection:function(t,e){var i=[];$(t.val().split(",")).each(function(t){var e=this.split(":");i.push({id:e[0],text:e[1]})}),e(i)},query:function(t){var e=50*(t.page-1),i=l;if(t.term&&0<t.term.length){if(!t.context){var n=t.term.toLowerCase();t.context=l.filter(function(t){return-1!==t.text.toLowerCase().indexOf(n)})}i=t.context}t.callback({context:i,results:i.slice(e,50+e),more:50+e<i.length})},multiple:!0,allowClear:!0})):setTimeout(function(){k(l,t)},1e3)}d.skillsForSelect=[],d.preselectSkills=[],d.toggleSkillActivity=function(e){r.toggleSkillActivity(e.Id).then(function(t){"success"==t.data.type?(e.Active=!e.Active,i({content:t.data.content,type:"success"})):i({content:t.data.content,type:"error"})}).catch(function(t){t.data.content;i({content:t.data.content,type:"error"})})},d.showErrorMessage=function(t,e){return!!d.skillForm[t]&&(d.skillForm[t].$error[e]&&(d.skillForm[t].$dirty&&d.skillForm[t].$touched||d.skillForm.$submitted))},d.saveSkill=function(){var t=_.omit(d.skillInfo,["StaffingDeskSkills"]);d.step=d.skillInfo.Id?"edit":"new",d.skillForm.$setSubmitted(),d.skillForm.$valid&&!d.checkExternalSkills()&&("new"==d.step&&(d.skillInfo.Active=!0,r.createSkill(t).then(function(t){o.go("admin.dictionaries.skills",{responseData:t.data},{location:"replace"})})),"edit"==d.step&&r.updateSkill(t).then(function(t){o.go("admin.dictionaries.skills",{responseData:t.data},{location:"replace"})}))},d.checkExternalSkills=function(){var t=!0,e=document.querySelectorAll(".select2-search-choice");if(e){var i=document.querySelector(".select2-choices");if(i){i.classList.add("ng-invalid");for(var n=0;n<e.length;n++)if("none"!=getComputedStyle(e[n]).display)return t=!1,i.classList.remove("ng-invalid"),!1}}return t},d.getTitle=function(){var t=a.path();~t.indexOf("Create")&&(d.title="TrainingType_Create");~t.indexOf("Edit")&&(d.title="TrainingType_Info")},d.checkAboutPermissions=f,d.getSkillInfo=u,d.initSelect2=k,d.externalSkillsChange=function(i){for(var n=[],l=i.TaleoCode.split(","),o=0,a=0;a<l.length;a++)i.StaffingDeskSkills.forEach(function(t){if(t.Value===l[a]){for(var e=0;e<i.SdtTrainingTypes.length;e++)i.SdtTrainingTypes[e].SdtSkillId===l[a]&&(o=i.SdtTrainingTypes[e].Id);n.push({Id:o,SdtSkillId:t.Value,SdtSkillName:t.Text}),o=0}});d.skillInfo.SdtTrainingTypes=n},f(),u(),d.init=fileUploaderInit}angular.module("rd.main").controller("SkillEditController",t),t.$inject=["$scope","$resource","$translate","$stateParams","$statusPopup","$state","$location","$window","DictionariesService","PermissionService"]}();
"use strict";!function(){function t(t,n,e,o,a,i,l){var c=t;function s(t){i.removeSkill(t).then(function(t){"success"==t.data.type?(o({content:t.data.content,type:"success"}),c.skillsInfo.splice(_.findIndex(c.skillsInfo,c.skill),1)):o({content:t.data.content,type:"error"}),$("html, body").animate({scrollTop:0},1e3)}).catch(function(t){t.data.content;o({content:t.data.content,type:"error"})})}c.addSkill=function(){a.go("admin.dictionaries.skillCreate",{},{location:"replace"})},c.deleteItemDialog=function(t){c.skill=t;n.open({animation:!0,windowClass:"delete-dialog",templateUrl:"/Templates/Administration/Dictionaries/Skills/DeletePopupTemplate.html",controller:["$scope","dialogInfo",function(t,n){var e=t;e.skillInfo=n,e.removeSkill=s}],resolve:{dialogInfo:function(){return t}}})},c.editSkill=function(t){a.go("admin.dictionaries.skillEdit",{skillId:t.Id},{location:"replace"})},c.toggleSkillActivity=function(n){i.toggleSkillActivity(n.Id).then(function(t){"success"==t.data.type&&(n.Active=!n.Active),o({content:t.data.content,type:t.data.type})}).catch(function(t){t.data.content;o({content:t.data.content,type:t.data.type})})},c.skill=null,i.getSkills().then(function(t){c.skillsInfo=t.data,angular.forEach(c.skillsInfo,function(t,n){t.Program.Icon&&(c.skillsInfo[n].Program.Icon=t.Program.Icon.replace(".png","")+"UUI.png")}),e.responseData&&$.statusPopup({type:e.responseData.type,content:e.responseData.content})}).catch(function(t){c.status="unable to load data: "+t.data.message}),l.checkPortalAdministrationPermission().then(function(t){l.transformPermission(t.data,c),c.PortalAdministrationPermission||window.location.replace("/error/403")}).catch(function(t){c.status="Unable to load data: "+t.data.message})}angular.module("rd.main").controller("SkillsController",t),t.$inject=["$scope","$uibModal","$stateParams","$statusPopup","$state","DictionariesService","PermissionService"]}();
"use strict";!function(){function e(e,s,o,l,t,r){var a=e;a.modalTitle=r.title,a.skillInfo=r.usersSkill,a.successBtnLable=r.ok,a.showErrorMessage=function(e,s){return!!a.addSkillForm[e]&&(a.addSkillForm[e].$error[s]&&(a.addSkillForm[e].$dirty&&a.addSkillForm[e].$touched||a.addSkillForm.$submitted))},a.ok=function(){if(a.addSkillForm.$setSubmitted(),a.addSkillForm.$invalid)return;a.skillInfo.Categories=[],0===a.skillInfo.Id?l.updateUsersSkill(a.skillInfo).then(function(e){"success"===e.data.type&&(a.skillInfo=e.data.obj,a.skillInfo.Version=e.data.obj.Version+1,o.close(a.skillInfo)),t.showMessage(e.data.content,e.data.type)}).catch(function(e){e.content;t.showMessage(s("UserSkill_add_Error"),"error")}):l.updateUsersSkill(a.skillInfo).then(function(e){"success"===e.data.type?(a.skillInfo=e.data.obj,a.skillInfo.Version=e.data.obj.Version+1,o.close(a.skillInfo),t.showMessage(s("UserSkill_successfuly_update"),"success")):(t.showMessage(s("UserSkill_update_Error"),"error"),o.close())}).catch(function(e){e.content;t.showMessage(s("UserSkill_update_Error"),"error")})},l.getSkillCategories().then(function(e){a.categoriesInfo=e.data}).catch(function(e){a.status="unable to load data: "+e.data.message})}angular.module("rd.main").controller("UserSkillsModifyController",e),e.$inject=["$scope","$translate","$uibModalInstance","DictionariesService","popup","resources"]}();
"use strict";!function(){function s(s,e,o,r,l,i,n){var t=s;t.usersSkillsInfo=[],t.skillinfo={},t.UserSkillError="",t.PermissionError="",t.openAddModal=function(){var s={title:o("Skills_Create"),cancel:o("Cancel"),ok:o("Add")},e={templateUrl:"/Templates/Administration/Dictionaries/UsersSkills/EditPopupTemplate.html",controller:"UserSkillsModifyController",windowCssClass:"edit-dialog users-skill-dialog",success:function(s){t.usersSkillsInfo.push(s)}};n.showDialog(s,e)},t.openEditModal=function(s){var r=s,e={title:o("Skill_Edit"),cancel:o("Cancel"),ok:o("Save"),usersSkill:s},i={templateUrl:"/Templates/Administration/Dictionaries/UsersSkills/EditPopupTemplate.html",controller:"UserSkillsModifyController",windowCssClass:"edit-dialog users-skill-dialog",success:function(s){var e=t.usersSkillsInfo.indexOf(r);t.usersSkillsInfo[e]=s}};n.showDialog(e,i)},t.openDeleteModal=function(s){var r=s,e={title:o("Skills_Removing"),body:o("Remove_Confirmation",[s.Name]),cancel:o("Cancel"),ok:o("Remove")},i={success:function(){l.removeUsersSkill(s.Id).then(function(s){if("success"===s.data.type){n.showMessage(s.data.content,"success");var e=t.usersSkillsInfo.indexOf(r);t.usersSkillsInfo.splice(e,1)}else n.showMessage(s.data.content,"error")}).catch(function(s){s.message;n.showMessage(s.message,"error")})}};n.showDialog(e,i)},i.checkPortalAdministrationPermission().then(function(s){i.transformPermission(s.data,t),t.PortalAdministrationPermission?t.PermissionError="":(t.PermissionError=o("UserSkill_AdministrationPermission_Error"),n.showMessage(t.PermissionError,"error"))}).catch(function(s){t.status="Unable to load data: "+s.message}),l.getUsersSkills().then(function(s){t.usersSkillsInfo=s.data,t.UserSkillsError=""}).catch(function(s){$("body").animate({scrollTop:0},"normal"),t.UserSkillsError=o("UserSkill_Load_Error"),n.showMessage(t.UserSkillError,"error")})}angular.module("rd.main").controller("UsersSkillsController",s),s.$inject=["$scope","$resource","$translate","AdministrationRestangular","DictionariesService","PermissionService","popup"]}();
"use strict";!function(){function e(o,e,t,n,r,s,a,c,d,i,l){var u=o;u.room={},u.alerts=[],u.onlyNumbers=/^\d+$/,u.editedRoom=void 0,u.currentRoomIndex=-1,u.rooms=l.rooms,u.title=l.title,u.successBtnLable=l.ok,u.formatHelp=d.trustAsHtml(c("FormatHelp")),u.ok=function(){if(u.roomForm.$setSubmitted(),u.roomForm.$invalid)return;var e=a.createInstanse().fillFromEditModel(u.room);u.editedRoom?a.edit(e).then(function(e){t.close(e.data.room),i.showMessage(e.data.message,"success")}).catch(function(e){o.alerts.push({msg:e.data.message,type:"danger"})}):a.create(e).then(function(e){i.showMessage(e.data.message,"success"),t.close(e.data.room)}).catch(function(e){u.alerts.push({msg:e.data.message,type:"danger"})})},u.cancel=function(){t.dismiss("cancel")},u.getCssClass=function(e){return{error:e.$invalid&&u.roomForm.$submitted,success:e.$valid&&e.$dirty}},u.showError=function(e,o){return e.$error[o]&&u.roomForm.$submitted},u.closeAlert=function(e){u.alerts.splice(e,1)},u.selectMatchedRoom=function(e){u.editedRoom?angular.extend(u.room,e.toEditModel(),{id:null}):angular.extend(u.room,e.toEditModel());u.autocomplete="",u.matchedRooms.length=0},u.setCurrentRoom=function(e){u.currentRoomIndex=e},function(){l.editedRoom&&(u.editedRoom=l.editedRoom,u.room=l.editedRoom.toEditModel());n.find(null,function(e){return e.fillCity(!0)}).then(function(e){return u.addresses=[],u.addresses=u.addresses.concat(e),r.find(null,function(e){return e.fillLocation(!0)})}).then(function(e){return u.addresses=u.addresses.concat(e),s.find(null,function(e){return e.fillFaculty(!0)})}).then(function(e){u.addresses=u.addresses.concat(e)})}()}angular.module("rd.main").controller("EditRoomController",e),e.$inject=["$scope","$q","$uibModalInstance","LocationService","FacultyService","DepartmentService","RoomService","$translate","$sce","popup","resources"]}();
"use strict";!function(){function t(t,e,o,n,i,r,a,l,c,s,d,u){var m=t;function f(){u.checkPortalAdministrationPermission().then(function(t){u.transformPermission(t.data,m),m.PortalAdministrationPermission||o.location.replace("/error/403")}).catch(function(t){m.status="Unable to load data: "+t.data.message})}m.sortField=void 0,m.reverse=!1,m.cityFiltering=function(t){return!m.city||t.location.city.id==m.city.id},m.locationFiltering=function(t){return!m.location||t.location.id==m.location.id},m.facultyFiltering=function(t){return!m.faculty||!!t.faculty&&t.faculty.id==m.faculty.id},m.departmentFiltering=function(t){return!m.department||!!t.department&&t.department.id==m.department.id},m.resetFilters=function(){m.searchText="",m.city=null,m.location=null,m.locations=null,m.faculty=null,m.faculties=null,m.department=null,m.departments=null},m.updateLocations=function(t){t?c.find({cityId:t.id}).then(function(t){m.locations=t}):m.location=null;m.faculties=null,m.departments=null},m.updateFaculties=function(t){t?s.find({locationId:t.id}).then(function(t){m.faculties=t}):m.faculties=null;m.departments=null},m.updateDepartments=function(t){t?d.find({facultyId:t.id}).then(function(t){m.departments=t}):m.departments=null},m.openAddModal=function(){var t={title:i("Room_Add"),cancel:i("Cancel"),ok:i("Add"),editedRoom:void 0,rooms:m.rooms},o={templateUrl:"/Templates/Administration/Dictionaries/Labs/EditRoomModal.html",controller:"EditRoomController",windowCssClass:"edit-room-modal",success:function(t){m.rooms.push(t)}};r.showDialog(t,o)},m.openEditModal=function(t){var e=t,o={title:i("Room_EditRoom"),cancel:i("Cancel"),ok:i("Save"),editedRoom:e,rooms:m.rooms},n={templateUrl:"/Templates/Administration/Dictionaries/Labs/EditRoomModal.html",controller:"EditRoomController",windowCssClass:"edit-room-modal",success:function(t){var o=m.rooms.indexOf(e);m.rooms[o]=t}};r.showDialog(o,n)},m.remove=function(e){var t={title:i("Room_Removing"),body:i("Room_RemoveConfirmation",[e.name]),cancel:i("Cancel"),ok:i("Remove")},o={success:function(){l.remove(e).then(function(t){var o=m.rooms.indexOf(e);m.rooms.splice(o,1),n({content:t.data.message,type:"success"})}).catch(function(t){n({content:t.data.message,type:"error"})})}};r.showDialog(t,o)},m.sort=function(t){m.sortField===t?m.reverse=!m.reverse:(m.sortField=t,m.reverse=!1)},m.isSortUp=function(t){return m.sortField===t&&!m.reverse},m.isSortDown=function(t){return m.sortField===t&&m.reverse},(m.checkLabPermissions=f)(),l.makeCache(!0).then(function(t){a.find().then(function(t){m.cities=t}),l.find().then(function(t){var o=t.map(function(t){return t.fillAddress(!0)});e.all(o).then(function(){m.rooms=t})})}),m.sort("cityName")}angular.module("rd.main").controller("RoomController",t),t.$inject=["$scope","$q","$window","$statusPopup","$translate","popup","CityService","RoomService","LocationService","FacultyService","DepartmentService","PermissionService"]}();
"use strict";!function(){function t(t,s,e,a){var o=t;o.resources=s,o.showErrorMessage=function(t,s){return!!o.addStatusForm[t]&&(o.addStatusForm[t].$error[s]&&(o.addStatusForm[t].$dirty&&o.addStatusForm[t].$touched||o.addStatusForm.$submitted))},o.addStatus=function(s){e.updateStaffingDeskStatus(s).then(function(t){a.showMessage(t.data.content,"success"),s.Id=t.data.id,o.resources.parentScope.statusesInfo.Statuses.push(s)}).catch(function(t){t.data.content;a.showMessage(t.data.content,"error")})}}angular.module("rd.main").controller("AddStaffingDeskStatusesController",t),t.$inject=["$scope","resources","DictionariesService","popup"]}();
"use strict";!function(){function e(e,s,o,t){var a=e;a.resources=s,a.removeStatus=function(e){t.removeStaffingDeskStatus(e).then(function(e){if("success"==e.data.type){o.showMessage(e.data.content,"success");var t=_.findIndex(s.parentScope.statusesInfo.Statuses,{Id:s.statusId});s.parentScope.statusesInfo.Statuses.splice(t,1)}else o.showMessage(e.data.content,"error"),$("html, body").animate({scrollTop:0},"normal")}).catch(function(e){e.data.content;o.showMessage(e.data.content,"error")})},a.dialogInfo=s.dialogInfo}angular.module("rd.main").controller("DeleteStaffingDeskStatusesController",e),e.$inject=["$scope","resources","popup","DictionariesService"]}();
"use strict";!function(){function t(t,a,r,s){var e=t;e.resources=a,e.editStatus=function(e){e.Id=a.statusId,s.editStaffingDeskStatus(e).then(function(t){r.showMessage(t.data.content,"success"),e.Id=t.data.id;var s=_.findIndex(a.parentScope.statusesInfo.Statuses,{Id:a.statusId});a.parentScope.statusesInfo.Statuses.splice(s,1),a.parentScope.statusesInfo.Statuses.push(e)}).catch(function(t){t.data.content;r.showMessage(t.data.content,"error")})},e.showErrorMessage=function(t,s){return!!e.addStatusForm[t]&&(e.addStatusForm[t].$error[s]&&(e.addStatusForm[t].$dirty&&e.addStatusForm[t].$touched||e.addStatusForm.$submitted))},e.currentStatus=a.currentStatus}angular.module("rd.main").controller("EditStaffingDeskStatusesController",t),t.$inject=["$scope","resources","popup","DictionariesService"]}();
"use strict";!function(){function t(t,e,a,s){var i=t;function n(t){t.IsDisabled=!0,t.isEditing=!1}i.editStatus=function(t){i.statusesInfo.Statuses.forEach(function(t){n(t)}),t.IsDisabled=!1,t.isEditing=!0,i.statusEditing=angular.copy(t)},i.cancelStatus=function(t){n(t)},i.updateStatus=function(a){e.updateStaffingDeskStatus(i.statusEditing).then(function(t){s.showMessage(t.data.content,"success"),angular.extend(a,i.statusEditing),n(a)}).catch(function(t){i.status="unable to load data: "+t.data.content})},i.addItemDialog=function(){var t={parentScope:i},a={animation:!0,windowClass:"delete-dialog staffingDesk-status-dialog",size:"md",templateUrl:"/Templates/Administration/Dictionaries/StaffingDeskStatuses/AddPopupTemplate.html",controller:"AddStaffingDeskStatusesController"};s.showDialog(t,a)},i.editItemDialog=function(t){var n=null==t?0:t.Id;e.getStaffingDeskStatus(n).then(function(t){var a={currentStatus:t.data,parentScope:i,statusId:n},e={animation:!0,windowClass:"edit-dialog staffingDesk-status-dialog",size:"md",templateUrl:"/Templates/Administration/Dictionaries/StaffingDeskStatuses/EditPopupTemplate.html",controller:"EditStaffingDeskStatusesController"};s.showDialog(a,e)})},i.deleteItemDialog=function(t){var a={parentScope:i,statusId:t.Id,dialogInfo:t},e={animation:!0,windowClass:"delete-dialog",templateUrl:"/Templates/Administration/Dictionaries/StaffingDeskStatuses/DeletePopupTemplate.html",controller:"DeleteStaffingDeskStatusesController"};s.showDialog(a,e)},a.checkPortalAdministrationPermission().then(function(t){a.transformPermission(t.data,i),i.PortalAdministrationPermission||window.location.replace("/error/403")}).catch(function(t){i.status="Unable to load data: "+t.data.message}),e.getStaffingDeskStatuses().then(function(t){t.data.Statuses.forEach(function(t){n(t)}),i.statusesInfo=t.data}).catch(function(t){i.status="unable to load data: "+t.data.message})}angular.module("rd.main").controller("StaffingDeskStatusesController",t),t.$inject=["$scope","DictionariesService","PermissionService","popup"]}();
"use strict";!function(){function e(e,t,s,o){var a=e;a.resources=o,a.statusInfo=o.status,a.removeStatus=function(e){t.removeSkillStatus(e).then(function(e){if("success"==e.data.type){s.showMessage(e.data.content,"success");var t=a.resources.parentScope.statusesInfo.Statuses.indexOf(a.resources.status);a.resources.parentScope.statusesInfo.Statuses.splice(t,1)}else s.showMessage(e.data.content,"error"),$("html, body").animate({scrollTop:0},"normal")}).catch(function(e){e.data.content;s.showMessage(e.data.content,"error")})}}angular.module("rd.main").controller("DeleteTrainingTypeStatusController",e),e.$inject=["$scope","DictionariesService","popup","resources"]}();
"use strict";!function(){function e(e,t,a,u,n,s,l){var r=e;function o(){u.updateSkillStatus(r.statusInfo).then(function(e){s.showMessage(e.data.content,e.data.type),r.statusInfo=e.data.obj;var t=_.where(l.parentScope.statusesInfo.Statuses,{Id:r.statusInfo.Id});if(t.length){var u=l.parentScope.statusesInfo.Statuses.indexOf(t[0]);c(r.statusInfo),l.parentScope.statusesInfo.Statuses[u]=r.statusInfo}else c(r.statusInfo),l.parentScope.statusesInfo.Statuses.push(r.statusInfo)}).catch(function(e){e.data.content;s.showMessage(e.data.content,"error")})}function i(t){var u=!0;return r.allowedCultures.forEach(function(e){e.name===t&&(u=!1)}),u}function d(e,a){var n;return e.forEach(function(e,t,u){e.Culture===a&&(n=t)}),n}function c(e){switch((t.get("UserCurrentLocale")||"en-US").slice(0,2)){case"en":e.curIntermediateValue=e.EnIntermediateValue,e.curMainValue=e.EnMainValue;break;case"ru":e.curIntermediateValue=e.RuIntermediateValue,e.curMainValue=e.RuMainValue;break;case"uk":e.curIntermediateValue=e.UaIntermediateValue,e.curMainValue=e.UaMainValue}}r.statusInfo=l.status,r.modalTitle=null==l.status?"TrainingTypeStatus_AddNewStatus":"EditSkillStatus",r.allLanguagesIsFill=!1,r.model={},r.usedCultureList=[],r.model.LocalizedPlanInfos=[],r.allowedCultures=[],r.currentCulture={id:0,name:"en-US"},r.addCulture=function(t){r.addStatusForm.$valid?(r.model.LocalizedPlanInfos[t.id].isAdded=!0,r.usedCultureList.push(t),r.allowedCultures=r.allowedCultures.filter(function(e){return e.id!==t.id}),r.changeCurrentCulture(t.id)):r.addStatusForm.$setSubmitted()},r.changeCurrentCulture=function(t){r.currentCulture=_.find(r.usedCultureList,function(e){return e.id===t})},r.removeCulture=function(e){if(1!=r.usedCultureList.length){var t={parentScope:r,culture:e},u={animation:!0,windowCssClass:"delete-dialog",size:"md",templateUrl:"/Templates/TrainingsManagement/TrainingCreate/RemoveLocalePopup.html",controller:"RemoveCultureTrainingTypeStatusController"};s.showDialog(t,u)}else s.showMessage(a("RemoveCulture_Error"),"error")},r.showErrorMessage=function(e,t){return!!r.addStatusForm[e]&&(r.addStatusForm[e].$error[t]&&(r.addStatusForm[e].$dirty&&r.addStatusForm[e].$touched||r.addStatusForm.$submitted))},r.checkOtherMenuesFill=function(){if(r.statusInfo.IsRequiredIntermediate)if(!i("en-US")||r.statusInfo.EnMainValue&&r.statusInfo.EnIntermediateValue)!i("ru-RU")||r.statusInfo.RuMainValue&&r.statusInfo.RuIntermediateValue?!i("uk-UA")||r.statusInfo.UaMainValue&&r.statusInfo.UaIntermediateValue?r.allLanguagesIsFill=!0:(e=d(r.model.LocalizedPlanInfos,"uk-UA"),r.changeCurrentCulture(e)):(e=d(r.model.LocalizedPlanInfos,"ru-RU"),r.changeCurrentCulture(e));else{var e=d(r.model.LocalizedPlanInfos,"en-US");r.changeCurrentCulture(e)}else i("en-US")&&!r.statusInfo.EnMainValue?(e=d(r.model.LocalizedPlanInfos,"en-US"),r.changeCurrentCulture(e)):i("ru-RU")&&!r.statusInfo.RuMainValue?(e=d(r.model.LocalizedPlanInfos,"ru-RU"),r.changeCurrentCulture(e)):i("uk-UA")&&!r.statusInfo.UaMainValue?(e=d(r.model.LocalizedPlanInfos,"uk-UA"),r.changeCurrentCulture(e)):r.allLanguagesIsFill=!0},r.editStatus=function(){r.allLanguagesIsFill?(r.statusInfo.IsRequiredIntermediate||(r.statusInfo.EnIntermediateValue=r.statusInfo.RuIntermediateValue=r.statusInfo.UaIntermediateValue=null),o()):r.checkOtherMenuesFill()},function(){l.parentScope.status?(r.model.LocalizedPlanInfos.push({Culture:"en-US",isAdded:!0}),r.model.LocalizedPlanInfos.push({Culture:"ru-RU",isAdded:!0}),r.model.LocalizedPlanInfos.push({Culture:"uk-UA",isAdded:!0})):r.model.LocalizedPlanInfos=[{Culture:"en-US"},{Culture:"ru-RU"},{Culture:"uk-UA"}];r.model.LocalizedPlanInfos[r.currentCulture.id].isAdded=!0,function(e){e.forEach(function(e,t){var u;u=e,Object.keys(u).some(function(e){return"isAdded"===e})?(r.usedCultureList.push({id:t,name:e.Culture}),r.model.LocalizedPlanInfos[t].isAdded=!0):r.allowedCultures.push({id:t,name:e.Culture})}),0===r.usedCultureList.length&&(r.usedCultureList.push(r.currentCulture),r.allowedCultures=r.allowedCultures.filter(function(e){return r.currentCulture.id!==e.id}))}(r.model.LocalizedPlanInfos),null!=r.statusInfo&&(r.statusInfo.RuIntermediateValue||r.statusInfo.UaIntermediateValue||r.statusInfo.EnIntermediateValue)&&(r.statusInfo.IsRequiredIntermediate=!0);"EditSkillStatus"===r.modalTitle&&(r.statusInfo.RuMainValue||r.usedCultureList.forEach(function(e,t,u){"ru-RU"===e.name&&(u.splice(t,1),r.allowedCultures.push(e))}),r.statusInfo.UaMainValue||r.usedCultureList.forEach(function(e,t,u){"uk-UA"===e.name&&(u.splice(t,1),r.allowedCultures.push(e))}))}()}angular.module("rd.main").controller("EditTrainingTypeStatusController",e),e.$inject=["$scope","$translate","$cookies","DictionariesService","$window","popup","resources"]}();
"use strict";!function(){function e(e,u){var t=e;t.resources=u,t.remove=function(){u.parentScope.usedCultureList=u.parentScope.usedCultureList.filter(function(e){return e.id!==u.culture.id}),u.parentScope.model.LocalizedPlanInfos[u.culture.id].isAdded=!1,u.parentScope.currentCulture=u.parentScope.usedCultureList[u.parentScope.usedCultureList.length-1],u.parentScope.allowedCultures.push(u.culture),"en-US"===u.culture.name?(u.parentScope.statusInfo.EnMainValue=null,u.parentScope.statusInfo.EnIntermediateValue=null):"ru-RU"===u.culture.name?(u.parentScope.statusInfo.RuMainValue=null,u.parentScope.statusInfo.RuIntermediateValue=null):"uk-UA"===u.culture.name&&(u.parentScope.statusInfo.UaMainValue=null,u.parentScope.statusInfo.UaIntermediateValue=null)}}angular.module("rd.main").controller("RemoveCultureTrainingTypeStatusController",e),e.$inject=["$scope","resources"]}();
"use strict";!function(){function e(e,a,t,n,i){var l=e;l.editItemDialog=function(e){l.status=e;var a={parentScope:l,status:e},t={animation:!0,windowCssClass:"edit-dialog skill-status-dialog",templateUrl:"/Templates/Administration/Dictionaries/TrainingTypeStatus/EditPopupTemplate.html",controller:"EditTrainingTypeStatusController"};i.showDialog(a,t)},l.deleteItemDialog=function(e){var a={parentScope:l,status:e},t={animation:!0,windowCssClass:"delete-dialog",templateUrl:"/Templates/Administration/Dictionaries/TrainingTypeStatus/DeletePopupTemplate.html",controller:"DeleteTrainingTypeStatusController"};i.showDialog(a,t)},a.getSkillStatuses().then(function(e){var n=($cookies.get("UserCurrentLocale")||"en-US").slice(0,2);_.each(e.data.Statuses,function(e,a,t){switch(n){case"en":t[a].curIntermediateValue=e.EnIntermediateValue,t[a].curMainValue=e.EnMainValue;break;case"ru":e.RuIntermediateValue&&null!=e.RuIntermediateValue&&""!=e.RuIntermediateValue&&0!=e.RuIntermediateValue.length||e.RuMainValue&&null!=e.RuMainValue&&""!=e.RuMainValue&&0!=e.RuMainValue.length?(t[a].curIntermediateValue=e.RuIntermediateValue,t[a].curMainValue=e.RuMainValue):(t[a].curIntermediateValue=e.EnIntermediateValue,t[a].curMainValue=e.EnMainValue);break;case"uk":e.UaIntermediateValue&&null!=e.UaIntermediateValue&&""!=e.UaIntermediateValue&&0!=e.UaIntermediateValue.length||e.UaMainValue&&null!=e.UaMainValue&&""!=e.UaMainValue&&0!=e.UaMainValue.length?(t[a].curIntermediateValue=e.UaIntermediateValue,t[a].curMainValue=e.UaMainValue):(t[a].curIntermediateValue=e.EnIntermediateValue,t[a].curMainValue=e.EnMainValue)}}),l.statusesInfo=e.data}).catch(function(e){l.status="unable to load data: "+e.data.message}),n.checkPortalAdministrationPermission().then(function(e){n.transformPermission(e.data,l),l.PortalAdministrationPermission||window.location.replace("/error/403")}).catch(function(e){l.status="Unable to load data: "+e.data.message})}angular.module("rd.main").controller("TrainingTypeStatusController",e),e.$inject=["$scope","DictionariesService","$window","PermissionService","popup"]}();
"use strict";!function(){function t(n,t,e){var a=this;function s(t){(a.diagnostics=t).ErrorMessage&&a.alerts.push({msg:t.ErrorMessage,type:"danger"})}a.alerts=[],a.closeAlert=function(t){a.alerts.splice(t,1)},a.startThread=function(){t.startThread().then(s).catch(function(t){n({content:t.data.message,type:"danger"})})},a.stopThread=function(){t.stopThread().then(s).catch(function(t){n({content:t.data.message,type:"danger"})})},e.checkPortalAdministrationPermission().then(function(t){e.transformPermission(t.data,a),a.PortalAdministrationPermission||window.location.replace("/error/403")}).catch(function(t){a.status="Unable to load data: "+t.data.message}),t.getDiagnostics().then(s)}angular.module("rd.main").controller("DiagnosticsController",t),t.$inject=["$statusPopup","DiagnosticsService","PermissionService"]}();
"use strict";!function(){function t(t,a,n,e,r,i,s,o){var l=t;a.plan={name:"",isDepartmentAffiliate:!1},l.planId=e.planId,l.isActiveTab=function(t){return n.is(t.sref)||_.some(t.relLink,function(t){return n.is(t.sref)})},l.$watch(function(){return n.current.data.title},function(t){l.pageTitle=s(t)}),r.getTabs(e.tabsContainer).then(function(t){l.tabs=t}),l.planId&&i.getPlanInfo(l.planId).then(function(t){a.plan.trainingStatusId=t.data.StatusId,a.plan.name=t.data.name,t.data.PlanTypeId===o.DEPARTMENT_AFFILIATE?(a.plan.isDepartmentAffiliate=!0,l.tabs.Groups.resource="Classes"):(a.plan.isDepartmentAffiliate=!1,l.tabs.Groups.resource="Groups")})}angular.module("rd.main").controller("TabsController",t),t.$inject=["$scope","$rootScope","$state","$stateParams","SiteMapService","TrainingGroupsService","$translate","TRAINING_TYPES"]}();
"use strict";angular.module("rd.main").directive("alwaysVisible",["$window",function(l){return{restrict:"A",link:function(t,i){var e,n,s;angular.element(l).bind("scroll",function(){e?(e[0].getBoundingClientRect().top<0&&(e[0].classList.toggle("always-visible"),e[0].style.width=s+"px"),window.pageYOffset<n&&e[0].classList.contains("always-visible")&&(e[0].classList.toggle("always-visible"),e[0].style.width="inherit")):(n=(e=i).offset().top,s=e[0].parentElement.getBoundingClientRect().width)})}}}]);
"use strict";angular.module("rd.core").directive("avatar",["$url","$http",function(o,t){return{replace:!0,templateUrl:o("Templates/avatar.html"),link:function(o,t){function e(){o.model?o.model.PhotoSessionId?o.avatar="/File/TempPhoto/"+o.model.PhotoSessionId:o.model.PhotoId?o.avatar="/File/Photo/"+o.model.PhotoId:o.avatar="/Content/themes/NewDesign/images/no_photo.png":o.avatar="/Content/themes/NewDesign/images/no_photo.png"}o.$watch("model.PhotoId",function(){e()}),o.$watch("model.PhotoSessionId",function(){e()}),o.deletePhoto=function(){o.model.PhotoSessionId=null,o.model.PhotoId=null,t.parent().find("input[type='file']").val("")}}}}]);
"use strict";angular.module("rd.core").directive("backendPagin",["$url","$translate",function(a,g){return{restrict:"EA",replace:!0,scope:{items:"=",totalCount:"=",pageNumber:"=",pageCount:"=",paginChange:"&"},templateUrl:a("/Templates/pagin.html"),link:function(t,a,n){t.paginChanged=!1;var i=n.ranges?n.ranges.split(",").map(function(a){return parseInt(a)}):null;t.$watch("items",function(a,n){t.paginChanged||t.initPagin(t.pageCount),t.paginChanged=!1}),t.initPagin=function(a){n.paginalltext=n.paginalltext||"Show_All",t.pagin={ranges:i||[8,16,32],current:0,title:g(n.pagintitle),showall:g(n.paginalltext),type:n.pagintype},t.pagin.max=a||t.pagin.ranges[0],t.pagin.count=t.totalCount,t.calculatePagin()},t.setPage=function(a){a<0||a>=t.pagin.pages||a==t.pagin.current||(t.paginChanged=!0,t.pagin.current=a,t.calculatePagin(),angular.isFunction(t.paginChange)&&t.$$postDigest(function(){t.paginChange()}))},t.setMax=function(a){a!=t.pagin.max&&(t.paginChanged=!0,t.pagin.max=a,t.resetPagin(),t.calculatePagin(),angular.isFunction(t.paginChange)&&t.$$postDigest(function(){t.paginChange()}))},t.calculatePagin=function(){switch(t.pagin.pages=Math.ceil(t.pagin.count/t.pagin.max),t.pagin.arr=[],t.pagin.type){case"single":var a=2<t.pagin.current?t.pagin.current-2:0,n=2<t.pagin.current?t.pagin.current+3:5;for(t.pagin.pages<n&&(n=t.pagin.pages);a<n;a++)t.pagin.arr.push({text:a+1,index:a});break;case"nolimit":default:for(var i=0;i<t.pagin.pages;i++)t.pagin.arr.push({text:i+1,index:i})}t.pagin.start=t.pagin.max*t.pagin.current+1,t.pagin.to=t.pagin.max*(t.pagin.current+1),t.pagin.to>t.pagin.count&&(t.pagin.to=t.pagin.count),t.pagin.from=t.pagin.max*t.pagin.current,t.pageNumber=t.pagin.current,t.pageCount=t.pagin.max},t.resetPagin=function(){t.setPage(0)}}}}]);
"use strict";angular.module("rd.main").directive("datepicker",["isCorrectDate",function(r){return{replace:!0,priority:2,scope:{viewValue:"=ngModel",value:"=datepicker"},link:function(a,i){$.initdatepicker(),i.datepicker({dateFormat:"yy-M-dd"}),a.$watch("value",function(e){var t;e&&("string"==typeof e?(t=new Date(e),i.attr("birthdate")&&(t=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))):t=e,r.set(i.context.id,!0),a.viewValue=$.datepicker.fmt.date(t),i.datepicker("setDate",t))}),a.$watch("viewValue",function(e){a.value=r.get(i.context.id)?i.datepicker("getDate"):void 0})}}}]);
"use strict";angular.module("rd.core").directive("dynamicPagin",["$url","$translate",function(a,i){return{replace:!0,scope:{count:"&",paginMax:"=",paginFrom:"="},templateUrl:a("/Templates/pagin.html"),link:function(g,a,p){g.pagin={};var n=p.ranges?p.ranges.split(",").map(function(a){return parseInt(a)}):null;g.$watch(g.count,function(a,n){a&&g.initPagin()}),g.$watch("paginFrom",function(a,n){0==a&&g.resetPagin()}),g.initPagin=function(){p.paginalltext=p.paginalltext||"Show_All",g.pagin=$.extend(g.pagin,{ranges:n||[8,16,32],title:i(p.pagintitle),showall:i(p.paginalltext),type:p.pagintype,count:g.count()}),g.pagin.max=g.pagin.max||g.pagin.ranges[0],g.calculatePagin()},g.setPage=function(a){a<0||a>=g.pagin.pages||a==g.pagin.current||(g.pagin.current=a,g.calculatePagin())},g.setMax=function(a){a!=g.pagin.max&&(g.pagin.max=a,g.resetPagin(),g.calculatePagin())},g.calculatePagin=function(){if(g.pagin.pages=Math.ceil(g.pagin.count/g.pagin.max),g.pagin.arr=[],null==g.pagin.current||g.pagin.max*g.pagin.current>=g.pagin.count)g.resetPagin();else{switch(g.pagin.type){case"single":g.pagin.arr.push({text:g.pagin.current+1,index:g.pagin.current});break;case"specific":for(var a=parseInt(p.pagesbefore),n=parseInt(p.pagesafter),i=g.pagin.current<a?0:g.pagin.current-a,t=g.pagin.pages-g.pagin.current<=n?g.pagin.pages:g.pagin.current+1+n,e=i;e<t;e++)g.pagin.arr.push({text:e+1,index:e});break;case"nolimit":default:for(e=0;e<g.pagin.pages;e++)g.pagin.arr.push({text:e+1,index:e})}g.pagin.start=g.pagin.max*g.pagin.current+1,g.pagin.to=g.pagin.max*(g.pagin.current+1),g.pagin.to>g.pagin.count&&(g.pagin.to=g.pagin.count),g.pagin.from=g.pagin.max*g.pagin.current,g.paginMax=g.pagin.max,g.paginFrom=g.pagin.from}},g.resetPagin=function(){g.setPage(0)}}}}]);
"use strict";angular.module("rd.main").directive("hasPermission",["$rootScope",function(){return{restrict:"A",scope:{hasPermission:"=hasPermission"},link:function(s,i){i.addClass("no-access"),s.$watch("hasPermission",function(){s.hasPermission&&i.removeClass("no-access")})}}}]);
"use strict";angular.module("rd.core").directive("markdownEditor",["$translate","$sce","$timeout","$uibModal",function(t,a,e,i){return{restrict:"A",scope:{modelEn:"=",modelRu:"=",modelUa:"=",maxLength:"="},templateUrl:"/Templates/markdownEditor.html",replace:!0,transclude:!0,link:function(n,e,u){var r,o,d={id:0,name:"en-US"},l=new Markdown.Converter;r=n.$watch("modelRu",function(e,u,l){var t=n.checkButtonExist("ru-RU");""===e?r():e&&!t&&(l.addCulture({Culture:"ru-RU",id:1,name:"ru-RU"}),r(),n.changeCurrentCulture(d.id))}),o=n.$watch("modelUa",function(e,u,l){var t=n.checkButtonExist("uk-UA");""===e?o():e&&!t&&(l.addCulture({Culture:"uk-UA",id:2,name:"uk-UA"}),o(),n.changeCurrentCulture(d.id))}),function(){$("[id^=wmd-input]").each(function(){var e=$(this).attr("id").replace("wmd-input","");MarkdownAction.init(e),MarkdownAction.initPreviewControl(e)}),n.modelRequired=u.modelRequired,n.model={},n.usedCultureList=[],n.model.LocalizedPlanInfos=[],n.allowedCultures=[],n.currentCulture=d,status?(n.model.LocalizedPlanInfos.push({Culture:"en-US",isAdded:!0}),n.model.LocalizedPlanInfos.push({Culture:"ru-RU",isAdded:!0}),n.model.LocalizedPlanInfos.push({Culture:"uk-UA",isAdded:!0})):n.model.LocalizedPlanInfos=[{Culture:"en-US"},{Culture:"ru-RU"},{Culture:"uk-UA"}];n.model.LocalizedPlanInfos[n.currentCulture.id].isAdded=!0,function(e){e.forEach(function(e,u){var l;l=e,Object.keys(l).some(function(e){return"isAdded"===e})?(n.usedCultureList.push({id:u,name:e.Culture}),n.model.LocalizedPlanInfos[u].isAdded=!0):n.allowedCultures.push({id:u,name:e.Culture})}),0===n.usedCultureList.length&&(n.usedCultureList.push(n.currentCulture),n.allowedCultures=n.allowedCultures.filter(function(e){return n.currentCulture.id!==e.id}))}(n.model.LocalizedPlanInfos)}(),n.change=function(e){"en"==e&&(n.modelEn=n.modelEn?n.modelEn:"",n.modelEnAsHtml=l.makeHtml(n.modelEn)),"ru"==e&&(n.modelRu=n.modelRu?n.modelRu:"",n.modelRuAsHtml=l.makeHtml(n.modelRu)),"ua"==e&&(n.modelUa=n.modelUa?n.modelUa:"",n.modelUaAsHtml=l.makeHtml(n.modelUa))},n.$watch("modelEn",function(e,u,l){e&&null==u&&(curElem=angular.element("#wmd-inputEn"),curElem.keyup())}),n.$watch("modelRu",function(e,u,l){e&&null==u&&(curElem=angular.element("#wmd-inputRu"),curElem.keyup())}),n.$watch("modelUa",function(e,u,l){e&&null==u&&(curElem=angular.element("#wmd-inputUa"),curElem.keyup())}),n.asHTML=function(e){return a.trustAsHtml(t(e))},n.displayTab="en",n.showPreview=!1,n.previewTitle=t("PageDown_Show_Preview"),n.togglePreview=function(){n.showPreview?n.previewTitle=t("PageDown_Show_Preview"):(n.modelEn=n.modelEn?n.modelEn:"",n.modelRu=n.modelRu?n.modelRu:"",n.modelUa=n.modelUa?n.modelUa:"",n.previewTitle=t("PageDown_Hide_Preview"),n.modelEnAsHtml=l.makeHtml(n.modelEn),n.modelRuAsHtml=l.makeHtml(n.modelRu),n.modelUaAsHtml=l.makeHtml(n.modelUa)),n.showPreview=!n.showPreview},n.toggleFormatHelp=function(e){$(e.currentTarget).toggleClass("collapsed").next(".pane-content").slideToggle()},n.checkButtonExist=function(u){var l=!1;return n.usedCultureList.forEach(function(e){e.name===u&&(l=!0)}),l},n.addCulture=function(u){n.model.LocalizedPlanInfos[u.id].isAdded=!0,n.usedCultureList.push(u),n.allowedCultures=n.allowedCultures.filter(function(e){return e.id!==u.id}),n.changeCurrentCulture(u.id)},n.changeCurrentCulture=function(u){n.currentCulture=_.find(n.usedCultureList,function(e){return e.id===u}),"en-US"===n.currentCulture.name&&(n.displayTab="en"),"ru-RU"===n.currentCulture.name&&(n.displayTab="ru"),"uk-UA"===n.currentCulture.name&&(n.displayTab="ua")},n.removeCulture=function(u){if(1!=n.usedCultureList.length){var l=n;i.open({animation:!0,windowClass:"delete-dialog",size:"md",templateUrl:"/Templates/TrainingsManagement/TrainingCreate/RemoveLocalePopup.html",controller:["$scope",function(e){e.remove=function(){l.usedCultureList=l.usedCultureList.filter(function(e){return e.id!==u.id}),l.model.LocalizedPlanInfos[u.id].isAdded=!1;var e=l.model.LocalizedPlanInfos[u.id].Culture;n.clearLocale(e),l.currentCulture=l.usedCultureList[l.usedCultureList.length-1],l.allowedCultures.push(u),l.changeCurrentCulture(d.id)}}],resolve:function(){}})}else $statusPopup({content:t("RemoveCulture_Error"),type:"error"})},n.clearLocale=function(e){"ru-RU"==e&&(n.modelRu="",n.modelRuAsHtml=l.makeHtml(n.modelRu)),"uk-UA"==e&&(n.modelUa="",n.modelUaAsHtml=l.makeHtml(n.modelUa))}}}}]);
"use strict";angular.module("rd.core").directive("modelHide",["$http",function(e){return{require:"ngModel",scope:{model:"=ngModel",isHide:"=modelHide"},link:function(d){d.tempModel,d.$watch("isHide",function(e){switch(e){case!0:d.tempModel=d.model,d.model=null;break;case!1:default:!d.model&&d.tempModel&&(d.model=d.tempModel)}})}}}]);
"use strict";!function(){var a="ngNomatch";angular.module("rd.core").directive(a,["$parse",function(o){return{link:function(n,r,t,i){if(!i)return;if(!t[a])return;function e(r){var t=u(n),e=!(r===(t=t?t.toString():""));return i.$setValidity("nomatch",e),r}var u=o(t[a]);i.$parsers.unshift(e),i.$formatters.push(e),t.$observe(a,function(){e(i.$viewValue)})},restrict:"A",require:"?ngModel"}}])}();
"use strict";angular.module("rd.core").directive("ngUpdateHidden",function(){return{restrict:"AE",scope:{model:"=ngUpdateHidden"},link:function(e,n){n.change(function(){e.model.SessionId=n[0].value||null,e.model.Id=n[0].parentNode.querySelector(".js-file-id").value||null})}}});
"use strict";angular.module("rd.core").directive("pagin",["$url","$translate",function(a,e){return{replace:!0,scope:{model:"=pagin",paginMax:"=",paginFrom:"="},templateUrl:a("/Templates/pagin.html"),link:function(g,a,p){g.pagin={};var n=p.ranges?p.ranges.split(",").map(function(a){return parseInt(a)}):null;g.$watchCollection("model",function(a,n){a&&g.initPagin()}),g.$watch("paginFrom",function(a,n){0==a&&g.resetPagin()}),g.initPagin=function(){p.paginalltext=p.paginalltext||"Show_All",g.pagin={ranges:n||[8,16,32],current:0,title:e(p.pagintitle),showall:e(p.paginalltext),type:p.pagintype},null==g.currentMax&&(g.currentMax=g.pagin.ranges[0]),g.pagin.max=g.currentMax,g.pagin.count=g.model.length,g.calculatePagin()},g.setPage=function(a){a<0||a>=g.pagin.pages||a==g.pagin.current||(g.pagin.current=a,g.calculatePagin(),g.$emit("pageChanged"))},g.setMax=function(a){a!=g.pagin.max&&(g.currentMax=a,g.pagin.max=g.currentMax,g.resetPagin(),g.calculatePagin(),g.$emit("pageChanged"))},g.calculatePagin=function(){switch(g.pagin.pages=Math.ceil(g.pagin.count/g.pagin.max),g.pagin.arr=[],g.pagin.type){case"single":g.pagin.arr.push({text:g.pagin.current+1,index:g.pagin.current});break;case"specific":for(var a=parseInt(p.pagesbefore),n=parseInt(p.pagesafter),e=g.pagin.current<a?0:g.pagin.current-a,i=g.pagin.pages-g.pagin.current<=n?g.pagin.pages:g.pagin.current+1+n,t=e;t<i;t++)g.pagin.arr.push({text:t+1,index:t});break;case"nolimit":default:for(t=0;t<g.pagin.pages;t++)g.pagin.arr.push({text:t+1,index:t})}g.pagin.start=g.pagin.max*g.pagin.current+1,g.pagin.to=g.pagin.max*(g.pagin.current+1),g.pagin.to>g.pagin.count&&(g.pagin.to=g.pagin.count),g.pagin.from=g.pagin.max*g.pagin.current,g.paginMax=g.pagin.max,g.paginFrom=g.pagin.from},g.resetPagin=function(){g.setPage(0)}}}}]);
"use strict";angular.module("rd.core").directive("rate",["$url","$translate","$timeout",function(e,r,l){return{replace:!0,scope:{rate:"=",stars:"=labels"},templateUrl:e("/Templates/rate.html"),link:function(t,e){l(function(){1240<=window.innerWidth&&$("span",e).tooltip()},0),t.stars||(t.stars=[r("Questionary_SkillLevelNovice"),r("Questionary_SkillLevelIntermediate"),r("Questionary_SkillLevelAdvanced"),r("Questionary_SkillLevelExpert")],t.starsReverse=t.stars.reverse()),t.setSkillLevel=function(e){t.rate==e?t.rate=0:t.rate=e}}}}]);
"use strict";angular.module("rd.core").directive("rwChosen",["$timeout","$translate",function(s,t){return{replace:!1,scope:{model:"=rwChosen",value:"=ngModel",disabled:"=ngDisabled"},require:"ngModel",link:function(n,o,l){if(o.chosen({inherit_select_classes:!0,search_contains:!0,disable_search:!l.rwSearch,allow_single_deselect:!1,placeholder_text_single:t("Select_option"),no_results_text:l.rwNoResultsText?t(l.rwNoResultsText):t("NoResult_Error")}),l.isotherinsearch){o.bind("chosen:no_results",function(){var e=n.value?n.model.length-1:n.model.length;$(".no-results").html('<li\n                        class="active-result no-found-result"\n                        data-option-array-index="'.concat(e,'"\n                    >\n                    ').concat(t("Other"),"\n                  </li>"))})}n.$watch("model",function(e,t){n.$$postDigest(function(){!n.value&&n.model&&null==l.noAutoInit&&(n.value=n.model[0]&&n.model[0].Value),o.trigger("chosen:updated")})},!0),n.$watch("value",function(e,t){n.$$postDigest(function(){o.trigger("chosen:updated")})},!0),n.$watch("disabled",function(e,t){s(function(){o.trigger("chosen:updated")})},!0)}}}]);
"use strict";angular.module("rd.main").directive("sameLanguageAs",function(){return{require:"ngModel",scope:{syncFieldValue:"=sameLanguageAs"},link:function(n,e,a,t){n.$watch("syncFieldValue",function(e){t.$validators.language(e),t.$validate()}),t.$validators.language=function(e){var a=/^[А-Яа-яїЇҐґІіЄєЁёў]+[-'\s]?[А-Яа-яїЇҐґІіЄєЁёў]*?$/,t=/^[a-zA-Z]+[-'\s]?[a-zA-Z]*?$/;return!e||(n.syncFieldValue?t.test(e)&&t.test(n.syncFieldValue)||a.test(e)&&a.test(n.syncFieldValue):t.test(e)||a.test(e))}}}});
"use strict";angular.module("rd.core").directive("scrollOnClick",function(){return{restrict:"A",link:function(t,l){l.on("click",function(){var t=l.closest("li");if(!t.hasClass("disable")&&!t.hasClass("active")){var i=l.closest(".group-pagination");$("body,html").animate({scrollTop:i.parent().offset().top},"normal")}})}}});
"use strict";angular.module("rd.main").directive("selectpicker",["$timeout",function(t,e){return{replace:!1,scope:{model:"=selectpicker",value:"=ngModel"},require:"ngModel",link:function(l,i,n){i.selectpicker(),l.$watch("model",function(e,c){t(function(){i.selectpicker("refresh")},0)},!0),l.$watch("value",function(e,c){t(function(){e||!l.model||n.include||(l.value=l.model[0].Value),i.selectpicker("refresh")},0)},!0)}}}]);
"use strict";angular.module("rd.core").directive("slideToggle",function(){return{restrict:"A",scope:{isOpen:"=slideToggle"},link:function(e,i){e.$watch("isOpen",function(e){e?i.stop().slideDown():i.stop().slideUp()})}}});
"use strict";angular.module("rd.main").directive("starsShow",function(){return function(a,e,n){var r,t=n.maxposition-n.currentposition;for(r=0;r<n.maxposition;r++)0<t?(e.append(angular.element("<label>")),t--):e.append(angular.element("<label>").addClass("check"))}});
"use strict";angular.module("rd.core").directive("trainingParticipantsHint",["TrainingGroupsService",function(t){return{restrict:"E",replace:!0,templateUrl:"/Templates/trainingParticipantsHintTemplate.html",scope:{trainingId:"=",participantsCount:"=",groupsStudentsCount:"=",graduationCount:"="},link:function(i){i.isLoading=!1,i.isLoaded=!1,i.initShowDetails=function(){i.isLoaded||i.isLoading||(i.isLoading=!0,t.getParticipantsStatusesCount(i.trainingId).success(function(t){i.participantsCountDetails=t}).error(function(t){i.status="Unable to load data: "+t.message,i.isLoading=!1}))}}}}]);
"use strict";angular.module("rd.core").directive("upload",["$http","$translate","$statusPopup",function(e,r,i){return{link:function(a,e){e.bind("change",function(n){a.$apply(function(){var e=n.target.files[0];if(e){var o=new XMLHttpRequest,t=new FormData;t.append("photo",e),o.onload=function(e){var o=JSON.parse(e.target.response);o.success?(a.model.PhotoSessionId=o.id,a.model.isTempPhoto=!0,a.$apply()):(i({content:r("Error_Saving_File"),type:"error"}),$("html, body").animate({scrollTop:0},"normal"))},o.open("POST","/File/NgSavePhoto",!0),o.send(t)}})})}}}]);
"use strict";angular.module("rd.core").directive("userDetailsHint",["$http","DomainService",function(i,t){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"/Templates/userDetailsHintTemplate.html",scope:{userId:"=",userName:"=",userNativeName:"=",userPhotoId:"=",userHref:"@",customClass:"=",userAvatarInList:"=",hideEnglish:"="},link:function(s){var e=t.isDomain("ru");s.isLoading=!1,s.isLoaded=!1,s.socialAccounts=["Facebook","GitHub","LinkedIn","OK","Telegram","VK"],s.socialAccounts=e?s.socialAccounts.filter(function(e){return"Facebook"!==e}):s.socialAccounts,s.initShowDetails=function(){s.isLoaded||s.isLoading||(s.isLoading=!0,i.get("/UserProfile/ProfileDialogJson",{params:{id:s.userId}}).success(function(e){s.studentDetails=e.user,s.isLoading=!1,s.isLoaded=!0}).error(function(e){s.status="Unable to load data: "+e.message,s.isLoading=!1}))}}}}]);
"use strict";!function(){angular.module("rd.main").directive("uuiSpinner",e);function e(){return{restrict:"E",scope:{isLoading:"=",customColor:"@"},replace:!0,templateUrl:"/Templates/UUISpinner.html"}}e.$inject=[]}();
"use strict";!function(){function e(C,t,n,d,i,l){return{restrict:"E",scope:{},templateUrl:"/Templates/About/aboutCenters.html",link:function(e){var a=e;a.currentLang=C.search().lang||l.getCurrentLocale()||"en";function r(e){return!(9===e.CountryId||10===e.CountryId)}function o(e){return 9!==e.CountryId}function u(e){return!(9===e.Id||10===e.Id)}function s(e){return 9!==e.Id}var c=d.isDomain("ua");a.owlCarousel={responsive:{0:{items:1},767:{items:3},992:{items:4},1540:{items:5}},loop:!1,rewind:!0},t.all([i.getLocations(),n.getPublishedCenters()]).then(function(e){var t=c?e[0].data.filter(u):e[0].data.filter(s),i=c?e[1].data.filter(r):e[1].data.filter(o),n=_.filter(t,function(t){return _.find(i,function(e){return e.CountryId===t.Id})});a.existingCenterCountries=_.sortBy(n,"Name"),d.getDomainCountryId().then(function(e){var t=C.search().CentersCountryId,n=+t||e.data;if(0<a.existingCenterCountries.length&&(a.defaultTabName=-1!==n&&_.findWhere(a.existingCenterCountries,{Id:n})?n:a.existingCenterCountries[0].Id,a.trainingCenters=i.map(function(e){var t=_.findWhere(a.existingCenterCountries,{Id:e.CountryId});return Object.assign(e,{Country:t&&t.Name,City:e.City||e.CityRegionName})})),t){var r=angular.element("#training-centers");l.scrollTo(r)}})}),a.getCenterImage=function(t){t.image||n.getCenterImage(t.Id).then(function(e){t.image="data:"+e.data.MimeType+";base64,"+e.data.ContentBase64})}}}}angular.module("rd.main").directive("aboutCenters",e),e.$inject=["$location","$q","CenterManagementService","DomainService","LocationsService","CommonService"]}();
"use strict";!function(){function n(t,r){return{restrict:"A",link:function(n,i){n.$watch(function(){return t.path()},function(t){_.find(r,function(n){return t.startsWith(n)})?i.hide():i.show()})}}}angular.module("rd.main").directive("askQuestion",n),n.$inject=["$location","DISABLED_ASK_QUESTION_ROUTES"]}();
"use strict";angular.module("rd.main").directive("breadCrumb",function(){return{restrict:"E",replace:!0,templateUrl:"/Templates/breadCrumb.html",scope:{breadCrumbs:"=",extraClass:"@"}}});
"use strict";!function(){function e(s,u,d){return{restrict:"A",scope:{serverTags:"="},link:function(e,t){function o(e){function n(){s.statusPopup(i);var e=c.serverTags.findIndex(function(e){return e.Name===o});c.serverTags.splice(e,1)}function t(){s.statusPopup(r,"error")}e.stopImmediatePropagation();var o=e.target.parentElement.innerText,a="<p>".concat(u("CreateNews_DeleteHashtagPopup").format(o).replace(o,"<span>".concat(o,"</span>")),"</p>"),i=u("CreateNews_HashtagDeleted").format(o),r=u("CreateNews_HashtagNotDeleted").format(o);s.confirmationPopup(a,function(){d.deleteTag(o).then(n,t)})}var c=e,n=t.find(".chosen-container-multi .chosen-choices li.search-field input")[0],a=$(t).find(".chosen-choices");function i(){var e=$(t).find(".chosen-results").children(".active-result");if(!!!$(t).find(".delete-tag-bin").length){var n=$("<div class='delete-tag-bin'/>").on("touchend",function(e){e.preventDefault(),o(e)}).on("mousedown",function(e){o(e)});e.append(n)}}$(n).on("keyup",i),a.on("click",i),$(t).on("chosen:showing_dropdown",i),$(t).find("#hashtag").on("chosen:updated",i),t.on("touchstart",i),t.on("click",i)}}}angular.module("rd.main").directive("deleteHashtags",e),e.$inject=["$rootScope","$translate","NewsService"]}();
"use strict";!function(){function e(t){return{restrict:"E",templateUrl:"/Templates/documentIcon.html",scope:{documentName:"@"},link:function(e){var n=e.documentName.toLowerCase().split(".").pop();e.icon=Object.keys(t).find(function(e){return t[e].includes(n)})}}}angular.module("rd.main").directive("documentIcon",e),e.$inject=["DOCUMENTS_ICONS"]}();
"use strict";!function(){function e(){return{restrict:"A",scope:{uploadFile:"=",isMaximumFilesReached:"="},link:function(e,r){var t=e;["dragenter","dragover"].forEach(function(e){r[0].addEventListener(e,function(e){e.stopPropagation(),e.preventDefault(),r.addClass("draggable-area")})}),r[0].addEventListener("dragleave",function(e){e.preventDefault(),r.removeClass("draggable-area")}),r[0].addEventListener("drop",function(e){if(e.preventDefault(),e.dataTransfer.items&&!t.isMaximumFilesReached){var a=e.dataTransfer.items[0].getAsFile();t.uploadFile([a])}r.removeClass("draggable-area")})}}}angular.module("rd.main").directive("dragFileCatcher",e),e.$inject=[]}();
"use strict";!function(){angular.module("rd.main").directive("fastFactsContent",t);function t(){return{restrict:"E",templateUrl:"/Templates/fastFactsContent.html",scope:{languageContentTab:"=",currentTab:"=",currentForm:"="},link:function(t){var e=t;function a(t){return!!t.Title||!!t.Description}e.checkFactContent=a,e.createNewFact=function(){e.languageContentTab.Facts.push({Title:"",Description:""})},e.deleteFact=function(n){e.languageContentTab.Facts=e.languageContentTab.Facts.filter(function(t){return t!==n})},e.isFieldRequired=function(t){return e.currentTab===e.languageContentTab.activeLanguage&&(a(t)||1==e.languageContentTab.Facts.length)},e.isErrorFactField=function(t,n,e){return!t&&(0===n||a(e))},e.maxFactTitleLength=10,e.maxFactDescriptionLength=100,e.languageContentTab.Facts.length||e.createNewFact()}}}t.$inject=[]}();
"use strict";!function(){angular.module("rd.main").directive("gtmEvent",e);function e(e,n){return{restrict:"E",scope:{event:"@"},link:function(e){n[e.event]()}}}e.$inject=["$sce","GtmTokenService"]}();
"use strict";angular.module("rd.main").directive("infoBanner",function(){return{restrict:"E",templateUrl:"/Templates/infoBanner.html",transclude:!0,scope:{background:"@",title:"=",description:"="}}});
"use strict";!function(){var t=angular.module("rd.main");t.directive("jeTabs",["$timeout",function(t){return{restrict:"E",scope:{tabTitle:"=",defaultTabName:"=",tabClass:"="},replace:!0,templateUrl:"/Templates/jeTabs.html",transclude:!0,controller:["$scope",function(i){i.tabs=[],this.register=function(t,e,a){i.tabs.push({name:t,title:e,tabClass:a})},this.isActive=function(t){return i.active==t}}],link:function(e){e.$watch("tabs.length",function(){e.active=e.defaultTabName||e.tabs[0].name}),e.switchTab=function(t){e.active=t.name},t(function(){window.separatorsLookUp&&separatorsLookUp()})}}}]),t.directive("jeTab",function(){return{restrict:"E",scope:{tabName:"=",tabTitle:"=",tabClass:"=",tabIsActive:"="},require:"^jeTabs",template:'<div ng-show="isVisible()" ng-transclude></div>',replace:!0,transclude:!0,link:function(t,e,a,i){i.register(t.tabName,t.tabTitle,t.tabClass),t.isVisible=function(){return t.tabIsActive=i.isActive(t.tabName),t.tabIsActive}}}})}();
"use strict";angular.module("rd.main").directive("lessThanYear",["$translate",function(s){return{restrict:"A",require:"ngModel",link:function(e,r,n,a){var t;n.$observe("lessThanEndDate",function(){a.$validate()}),n.$observe("setPlaceholder",function(e){var r=e&&"false"!==e?"":s("RegistrationPage_DatePlaceholder");n.$set("placeholder",r)}),n.$observe("lessThanYear",function(){t=n.lessThanYear.replace(/"/g,""),a.$validate()}),a.$validators.lessThanYearError=function(e){var r,a;return!e||!t||(a="number"==typeof e?(r=new Date(t).getFullYear(),e):(r=new Date(t).getTime(),new Date(e).getTime()),r<a)},a.$validators.futureYearError=function(e){if(e){var r=(new Date).getTime(),a=new Date(e).getTime();if("true"!==n.isTillNow)return a<r}return!0},a.$validators.lessThanEndDateError=function(e){var r,a,t=n.lessThanEndDate&&n.lessThanEndDate.replace(/"/g,"");return!e||!n.lessThanEndDate||"true"===n.isTillNow||((r=new Date(t)).setHours(0,0,0,0),(a=new Date(e)).setHours(0,0,0,0),a.getTime()<r.getTime())}}}}]);
"use strict";!function(){function i(n,e,r,o,c){return{restrict:"E",templateUrl:"/Templates/linkFromText.html",scope:{textOrigin:"=",isPermanentVisible:"=",hoverVisibleClipButton:"=",isNeedCutLink:"="},link:function(i){var t=i;t.copyTextToClipboard=function(){r.copyLinkHref(null,t.textOrigin),o.statusPopup(c("InformationCopiedSuccessfully"),"success")},t.cutLinkByDomain=function(i){return t.isNeedCutLink&&i?r.cutLinkByDomain(i):i},t.isValidLink=t.textOrigin&&!!t.textOrigin.match(n)[0],t.isOnlineMeeting=t.textOrigin&&!!t.textOrigin.match(e)[0]}}}angular.module("rd.main").directive("linkFromText",i),i.$inject=["LINK_PATTERN","TEAMS_LINK_PATTERN","CommonService","$rootScope","$translate"]}();
"use strict";function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){angular.module("rd.main").directive("mainHeader",e);function e(a,r,s,c,u,l,d,m,p,f,g,y,b,h){return{restrict:"E",replace:!0,templateUrl:"/Templates/Core/HeaderTemplate.html",link:function(t){var n=t;n.goToLoginPage=function(){m.login()},n.changeLanguage=function(e,t){e.preventDefault(),a.switchLocaleUrl(t)},n.isRouteEnabled=function(e){return n.permittedRoutes.includes(e)},n.showNotification=function(e){var t=f.trustAsHtml(e.Body);b.sendOpenNotificationLetter(),1===n.notifications.length&&(n.isUnreadNotificationExist=!1);d.readNotification(e.Id),g.open({animation:!0,backdrop:"static",windowClass:"inbox-message-popup",templateUrl:"/Templates/Inbox/MessagePopup.html",controller:["$scope","dialogInfo","$uibModalInstance",function(e,t,n){e.model=t,e.ok=function(){n.close()},e.cancel=function(){n.dismiss("cancel")}}],resolve:{dialogInfo:function(){return{body:t}}}})},n.markAllAsRead=function(){n.isUnreadNotificationExist=!1,d.readAllNotifications().then(function(){n.notifications=[]})},n.openNotifications=function(){b.sendClickBellNotifications(),n.isUnreadNotificationExist&&(n.isNotificationReady=!1,d.getNotifications().then(function(e){n.isNotificationReady=!0,n.notifications=e.data,t.$applyAsync()}))},n.handleClickHeaderNav=function(e){switch(e.target.dataset.name){case"Programs":b.sendClickHeaderNavPrograms();break;case"Events":b.sendClickHeaderNavEvents();break;case"Skills":b.sendClickHeaderNavSkills();break;case"Blog":b.sendClickHeaderNavBlog();break;case"AboutUs":b.sendClickHeaderNavAboutUs()}},n.handleClickProfileControl=function(e){switch(e.target.dataset.name){case"UserProfile_Profile":b.sendClickHeaderProfile();break;case"SitemapMenu_Preferences":b.sendClickHeaderSettings();break;case"LogOut":b.sendClickHeaderSignOut()}},n.handleClickAllNotifications=function(){b.sendClickAllNotifications()};var e,i,o=y.search().lang||p.getCurrentLocale();n.currentLanguage=p.getCurrentLang(),n.getLocalizedLanguage=function(e){switch(e){case"ru":return"Русский";case"ua":return"Українська";default:return"English"}},n.logoFolder=function(e){switch(e){case"com":return"com";case"ua":return"ua";default:return"default"}}(r.getDomain()),n.toggleMainMenu=function(){var e=document.getElementsByClassName("nav-menu-container dropdown open");document.body.style.overflow=e[0]?"hidden":"auto"},n.isHolidayTheme="True"===window.isHolidayTheme,n.isHolidayThemeClass=n.isHolidayTheme?"holiday-style":"",n.basicRoutes=s.map(function(e){return _objectSpread(_objectSpread({},e),{},{route:"".concat(o).concat(e.route)})}),n.userProfileRoutes=d.getProfileRoutes(),n.partialUserProfileRoutes=d.getPartialProfileRoutes(),n.managementRoutes=c,n.specialRoutes=l,n.reportsRoutes=u,n.isNotificationReady=!0,n.notifications=[],n.isAnonymousUser=!m.isLoggedUser(),n.isAvatarExist=!1,n.userName="",n.profilePhotoUrl="",n.isUnreadNotificationExist=!1,n.isUaDomain=r.isDomain("ua"),n.isComDomain=r.isDomain("com"),n.isMenuItemsReady=!1,n.permittedRoutes=[],n.isShowLangOptions=!1,n.toggleLangOptions=function(){n.isShowLangOptions=!n.isShowLangOptions},e=["training.epam.com","training.epam.ua","training.epam.kz","training.epam.am","training.epam.uz","training.by"].find(function(e){return e===window.location.host}),i=document.createElement("script"),n.isPmcAccountType="true"===localStorage.getItem(h.isPmcAccountType),i.src=e?"https://menu.epam.com/scripts/menu.js?app=training_public&noauth="+!n.isPmcAccountType:"https://globalmenu-stage.epm-ppa.projects.epam.com/scripts/menu.js?app=training_public&noauth="+!n.isPmcAccountType,i.async=!0,document.body.appendChild(i),n.isAnonymousUser||Promise.all([d.getMenuData(),d.getUserInfo()]).then(function(e){e[0]&&e[0].data&&(n.isMenuItemsReady=!0,n.permittedRoutes=e[0].data),e[1]&&e[1].data&&(n.userName=e[1].data.UserName,n.isUnreadNotificationExist=e[1].data.IsUnreadNotificationExist,n.isAvatarExist=e[1].data.HasAvatar),t.$applyAsync()}).catch(function(){n.isAnonymousUser=!0})}}}e.$inject=["$rootScope","DomainService","BASIC_HEADER_ROUTES","MANAGEMENT_HEADER_ROUTES","REPORTS_HEADER_ROUTES","SPECIAL_HEADER_ROUTES","HeaderService","LoginService","CommonService","$sce","$uibModal","$location","GtmTokenService","LOGIN_ITEMS"]}();
"use strict";angular.module("rd.main").directive("modalPreloader",function(){return{templateUrl:"/Templates/modalPreloader.html",scope:{modalPreloader:"="},link:function(e,l){e.$watch("modalPreloader",function(){e.modalPreloader&&l.hide()})}}});
"use strict";!function(){angular.module("rd.main").directive("newsCategories",e);function e(t,n){return{restrict:"E",scope:{news:"=",isNewsLoaded:"=",newsLimit:"="},templateUrl:"/Templates/News/Categories.html",link:function(e){var r=e;r.currentPage=1,r.getNewsByCategory=function(e){t.getAllNews(r.currentPage,r.newsLimit,e).then(function(e){n(function(){r.news=e.data.Items,r.isNewsLoaded=!0,r.isLastPage=e.data.IsLastPage})})},r.changeNewsCategory=function(e){sessionStorage.setItem("currentCategoryId",e),r.isNewsLoaded=!1,r.currentCategoryId=e,r.currentPage=1,r.getNewsByCategory(e)},t.getCategories().then(function(e){r.categories=e.data,n(function(){window.separatorsLookUp&&separatorsLookUp()})}).then(function(){var e=+sessionStorage.getItem("currentCategoryId"),t=_.findWhere(r.categories,{Id:e})||r.categories[0];r.currentCategoryId=t.Id,sessionStorage.setItem("currentCategoryId",r.currentCategoryId),r.getNewsByCategory(r.currentCategoryId)})}}}e.$inject=["NewsService","$timeout"]}();
"use strict";!function(){angular.module("rd.main").directive("newsContent",e);function e(a,n,i,r,o,s,d){return{restrict:"E",scope:{languageContentTabs:"=",category:"=",statusId:"=",publicationDate:"=",selectedHashtags:"=",serverHashtags:"=",linkToVideo:"=",currentForm:"=",languageTabs:"=",imageHandler:"&"},templateUrl:"/Templates/NewsManagement/NewsContent.html",link:function(e){var t=e;t.hashtagChecker=o.bind(null,t),t.videoPattern=d,t.quizPattern="(^(https://www.qzzr.com/c/quiz/).+)?",t.statuses=[{id:0,name:a("Status_Draft")},{id:1,name:a("Status_Published")}],t.maxHashtagLength=100,t.maxTitleLength=500,t.maxIntroductionLength=1e5,t.maxMetaTitleLength=255,t.maxMetaDescriptionLength=1e3,t.maxMetaKeywordsLength=1e3,t.fieldLengthErrorTitle=a("InvalidMaxFieldLength").format(t.maxTitleLength),t.fieldLengthErrorIntroduction=a("InvalidMaxFieldLength").format(t.maxIntroductionLength),t.fieldLengthErrorHashtag=a("InvalidMaxFieldLength").format(t.maxHashtagLength),t.fieldLengthErrorMetaTitle=a("InvalidMaxFieldLength").format(t.maxMetaTitleLength),t.fieldLengthErrorMetaDescription=a("InvalidMaxFieldLength").format(t.maxMetaDescriptionLength),t.fieldLengthErrorMetaKeywords=a("InvalidMaxFieldLength").format(t.maxMetaKeywordsLength),t.changeStatus=function(e){t.statusId=e},t.datePickerOptions={formatDay:"dd",formatMonth:"MMMM",formatYear:"yy",maxDate:"",minDate:"",startingDay:1,showWeeks:!1},t.datePicker={opened:!1},i(function(){t.currentTab=_.findWhere(t.languageTabs,{id:n.search().lang})}),r.getAllCategories().then(function(e){t.categories=e.data}),t.isRequiredTabField=function(){return t.currentForm.$submitted&&!_.some(t.languageContentTabs,function(e){return e.titleInput&&e.introductionContent&&e.newsEditorContent})},t.openDatePicker=function(){t.datePicker.opened=!0},t.isHashtagHintsVisible=!1,s(t)}}}e.$inject=["$translate","$location","$timeout","NewsService","HashtagChecker","ChosenSearchInputHandler","VIDEO_PATTERN"]}();
"use strict";!function(){angular.module("rd.main").directive("newsHashtags",e);function e(s,a,i,n){return{restrict:"E",scope:{},templateUrl:"/Templates/News/Hashtags.html",link:function(e){var t=e;t.isCollapsed=!0,t.hashtagsViewMoreText=i("ShowMore"),t.toggleHashtags=function(){t.isCollapsed=!t.isCollapsed,t.hashtagsViewMoreText=t.isCollapsed?i("ShowMore"):i("ShowLess")},a(function(){n.getExistingTags(s.search().lang).then(function(e){t.hashtags=e.data})})}}}e.$inject=["$location","$timeout","$translate","NewsService"]}();
"use strict";!function(){angular.module("rd.main").directive("newsImage",e);function e(n,t,i){return{restrict:"E",scope:{newsId:"=",imageName:"=",newsClass:"@",newsCategory:"="},replace:!0,templateUrl:"/Templates/newsImage.html",link:function(e){var a=e;a.imagePath="/static/news/"+a.newsId,a.currentLang=t.search().lang||i.getCurrentLocale()||"en",a.onNewsClick=n.onNewsClick,a.imageName&&~a.imageName.indexOf(".")||(a.imagePath="/Content/images/default",a.imageName="news.jpg")}}}e.$inject=["NewsService","$location","CommonService"]}();
"use strict";!function(){angular.module("rd.main").directive("newsItem",e);function e(r,c,i){return{restrict:"E",scope:{newsItem:"=",categories:"="},replace:!0,templateUrl:"/Templates/News/NewsItem.html",link:function(e){var t,n=e;n.currentLang=i.search().lang||c.getCurrentLocale()||"en",n.onNewsClick=r.onNewsClick,n.newsCategory=(t=n.newsItem.CategoryId,_.findWhere(n.categories,{Id:t}))}}}e.$inject=["NewsService","CommonService","$location"]}();
"use strict";!function(){angular.module("rd.main").directive("newsPreviewButton",e);function e(t){return{restrict:"E",templateUrl:"/Templates/NewsManagement/NewsPreviewButton.html",scope:{contentTabs:"="},link:function(e){var n=e;n.newsPreview=function(){t.open({animation:!0,size:"lg",windowTopClass:"preview-popup",templateUrl:"/Templates/NewsManagement/NewsPreviewPopup.html",controller:["$scope",function(e){e.contentTabs=n.contentTabs,e.currentTab=n.contentTabs[0]}]})}}}}e.$inject=["$uibModal"]}();
"use strict";!function(){angular.module("rd.main").directive("newsSubscribe",e);function e(t,c,r){return{restrict:"E",templateUrl:"/Templates/newsSubscribe.html",scope:{},link:function(e){var s=e;s.subscribeUserOnNews=function(e){e.$valid&&r.subscribeUser(s.userEmail).then(function(){t.successPopup(c("EmailSubscriptionCompleteMessage")),s.userEmail=null,e.$setPristine()}).catch(function(e){409==e.status?t.successPopup(c("Account_Already_Registered")):t.successPopup(c("Error_Generic"))})}}}}e.$inject=["$rootScope","$translate","NewsService"]}();
"use strict";angular.module("rd.main").directive("owlCarousel",["$timeout",function(a){return{restrict:"E",transclude:!1,link:function(n,r){n.initCarousel=function(r){var a={dots:!1,nav:!0,loop:!0,navClass:["slider-arrow slider-arrow--prev","slider-arrow slider-arrow--next"],navText:["",""]},i=n.$eval($(r).attr("options"));for(var e in i)a[e]=i[e];var o=$(r).data("owlCarousel");angular.isDefined(o)||$(r).owlCarousel(a)},a(n.initCarousel.bind(this,r))}}}]);
"use strict";angular.module("rd.main").directive("rdAutocomplete",function(){return{restrict:"A",scope:{rdAutocomplete:"="},link:function(e,t){t.easyAutocomplete({data:Array.isArray(e.rdAutocomplete)?e.rdAutocomplete:[],list:{maxNumberOfElements:5,match:{enabled:!0},sort:{enabled:!0}}})}}});
"use strict";!function(){function t(t){return{scope:{isAvatarExist:"=",userId:"=",editablePhoto:"=",noPhoto:"=",defaultPhoto:"="},link:function(e,o){function a(){e.noPhoto&&o.css("background-image","url('/Content/themes/Redesign/images/no-user-image.png')"),e.defaultPhoto&&o.css("background-image","url('/Content/themes/Redesign/images/default-photo.png')")}e.$watch("isAvatarExist",function(){e.isAvatarExist?t.get("/api/profile/photo?userId="+(e.userId||""),{responseType:"blob"}).then(function(t){var e=URL.createObjectURL(t.data);o.css("background-image","url(".concat(e,")"))}):a()}),e.$watch("editablePhoto",function(){if(e.editablePhoto){var t=URL.createObjectURL(e.editablePhoto);o.css("background-image","url(".concat(t,")"))}null===e.editablePhoto&&a()})}}}angular.module("rd.main").directive("rdAvatar",t),t.$inject=["$http"]}();
"use strict";!function(){function a(){return{templateUrl:"/Templates/rdCalendar.html",scope:{maxDate:"=",minDate:"=",calendarDate:"=",isRequired:"=",calendarCallback:"&ngChange"},link:function(a){var e=a;e.isCalendarOpened=!1,e.datePickerOptions={formatDay:"dd",formatMonth:"MMMM",formatYear:"yy",maxDate:e.maxDate||"",minDate:e.minDate||"",startingDay:1,showWeeks:!1},e.openCalendar=function(){e.isCalendarOpened=!e.isCalendarOpened},e.changeCalendarCallback=function(){_.defer(e.calendarCallback||_.noop)}}}}angular.module("rd.main").directive("rdCalendar",a),a.$inject=[]}();
"use strict";angular.module("rd.main").directive("rdCheckbox",function(){return{restrict:"A",link:function(r,c){c.addClass("rd-checkbox").after('<span class="check-mark"></span>')}}});
"use strict";!function(){function n(t){return{restrict:"A",scope:{chosenCallback:"&rdChosenExtend"},link:function(n,e){var i=n;t(function(){e.find(".chosen-container-multi .chosen-choices li.search-field input")[0].addEventListener("keyup",i.chosenCallback())})}}}angular.module("rd.main").directive("rdChosenExtend",n),n.$inject=["$timeout"]}();
"use strict";!function(){function e(s){return{restrict:"E",templateUrl:"/Templates/rdComboBox.html",require:"?ngModel",scope:{fieldName:"@",optionList:"=",countryId:"@",getDataCallback:"=",isDisabled:"=",getValueName:"=",showPreloader:"=",searchPlaceholderKey:"@"},link:function(e,o,a,n){var l=e,t="open",i=o.find('[data-id="combobox-dropdown"]'),r=o.find('[data-id="combobox-placeholder"]'),d=o.find('[data-id="combobox-search"]');function c(){l.isOpenDropdown=!1,i.hide(),o.removeClass(t),r.removeClass(t)}l.searchPlaceholder=l.searchPlaceholderKey?s(l.searchPlaceholderKey):"",l.isOpenDropdown=!1,l.toggleDropdown=function(){l.isDisabled||(l.isOpenDropdown=!l.isOpenDropdown,i.toggle(),o.toggleClass(t),r.toggleClass(t),l.isOpenDropdown&&d.focus())},l.searchCity=_.debounce(function(){l.getDataCallback(l.searchValue)},550),l.onValueChange=function(e){n.$setViewValue(e),l.fieldValue=e,c()},l.onEnterValueChange=function(e){if("Enter"===e.key){var o=l.optionList[0];n.$setViewValue(o),l.fieldValue=o,c()}},n.$render=function(){l.fieldValue=n.$modelValue,l.searchValue=""},$(document).click(function(e){o.is(e.target)||0!==o.has(e.target).length||c()})}}}angular.module("rd.main").directive("rdComboBox",e),e.$inject=["$translate"]}();
"use strict";!function(){angular.module("rd.main").directive("rdComments",e);function e(e){return{restrict:"E",templateUrl:"/Templates/StudentLearning/CommentsTemplate.html",scope:{comments:"="},link:function(t){t.openedComments=!1,t.desktopTextLimit=e.innerWidth<768?150:320,t.comments&&t.comments.length&&t.comments.forEach(function(e){e.noteMaxLength=t.desktopTextLimit}),t.showFullNoteMessage=function(e){e.noteMaxLength=e.CommentForStudent.length},t.showLessNoteMessage=function(e){e.noteMaxLength=t.desktopTextLimit},t.toggleComments=function(){t.openedComments=!t.openedComments}}}}e.$inject=["$window"]}();
"use strict";angular.module("rd.main").directive("rdCompile",["$compile",function(c){return{scope:{_resources:"=resources",_template:"=template"},link:function(e,r){Object.assign(e,e._resources);var t=e._template,s=c(t)(e);r.append(s)}}}]);
"use strict";angular.module("rd.main").directive("rdContactTooltip",["DomainService",function(i){return{restrict:"E",templateUrl:"/Templates/rdContactTooltip.html",scope:{hasLineBreaks:"=",isPerson:"=",name:"=",email:"=",phone:"=",skype:"=",info:"="},link:function(e){e.autoReplySender=i.isDomain("ua")||i.isDomain("com")?"University Program":"Training Center"}}}]);
"use strict";!function(){var t=angular.module("rd.core");t.directive("rdDate",["$translate","isCorrectDate",function(f,d){return{require:"ngModel",link:function(t,s,r,e){e.$validators.rdDate=function(t,r){if(!r)return d.set(s.context.id,!1),!0;var e=f("PatternForDate");if(r.match(e)){var n,i=r.split("-"),u=parseInt(i[0]),a=i[1],o=parseInt(i[2]),c=!(u%4);if(["Jan","Mar","May","Jul","Aug","Oct","Dec","янв","мар","май","июл","авг","окт","дек","Січ","Бер","Тра","Лип","Сер","Жов","Гру"].some(function(t){if(t==a)return n=31,!0})||["Apr","Jun","Sep","Nov","апр","июн","сен","ноя","Кві","Чер","Вер","Лис"].some(function(t){if(t==a)return n=31,!0})||(n=c?29:28),o<=n)return d.set(s.context.id,!0),!0}return d.set(s.context.id,!1),!1}}}}]),t.service("isCorrectDate",function(){var e={};return{set:function(t,r){e[t]=r},get:function(t){return null==e[t]||e[t]}}})}();
"use strict";!function(){angular.module("rd.main").directive("rdEditor",e);function e(a,e,t,l,o){return{restrict:"E",templateUrl:"/Templates/rdEditor.html",scope:{areaId:"=",content:"=",imageHandler:"&",isRequired:"&",labelClass:"@",contentLabel:"@",placeholder:"@",isLabelRequired:"=",lengthLimit:"=",isImageButtonHidden:"="},link:function(i,r){i.htmlContent=t.trustAsHtml(i.content),i.isLabelRequired=void 0===i.isLabelRequired||i.isLabelRequired,i.maxContentLength=i.lengthLimit||1e5,e(function(){var e=i.isImageButtonHidden?o:l,t=new Quill(r.find(".editor-area")[0],{modules:{toolbar:{container:e,id:i.areaId,handlers:{image:function(){i.imageHandler().call(null,t)}}}},placeholder:a(i.placeholder)||"",theme:"snow"});function n(){var e="<p><br></p>"==t.root.innerHTML?"":t.root.innerHTML;i.content=e,i.$applyAsync()}n(),t.on("text-change",n)})}}}e.$inject=["$translate","$timeout","CommonService","QUILL_OPTIONS_EXTENDED","QUILL_OPTIONS_DEFAULT"]}();
"use strict";!function(){angular.module("rd.main").directive("rdFieldCleaner",e);function e(){return{restrict:"A",require:"ngModel",link:function(e,n,i,t){var o=$("<div class='chosen-field-cross-button'/>").on("click",function(){t.$setViewValue(void 0)});$(n[0].parentElement).append(o),e.$watch(i.ngModel,function(){t.$render(),t.$modelValue?o.addClass("chosen-field-cross-button-visible"):o.removeClass("chosen-field-cross-button-visible")})}}}e.$inject=[]}();
"use strict";angular.module("rd.main").directive("rdJsonMicrodata",["$filter","$sce",function(n,r){return{restrict:"E",template:function(){return'<script type="application/ld+json" ng-bind-html="getJSON()"><\/script>'},scope:{json:"=json"},link:function(t){t.getJSON=function(){return r.trustAsHtml(n("json")(t.json))}},replace:!0}}]);
"use strict";angular.module("rd.main").directive("rdRequiredSelect",[function(){return{require:"ngModel",link:function(e,r,n,i){1==n.rdRequiredSelect&&(i.$validators.requiredSelect=function(e,r){return!(!e||"0"==e||"Unknown"==e)})}}}]);
"use strict";angular.module("rd.main").directive("rdScrollable",function(){return{restrict:"A",link:function(r,l){l.addClass("rd-scrollable")}}});
"use strict";angular.module("rd.main").directive("rdSpinner",function(){return{templateUrl:"/Templates/rdSpinner.html",scope:{isLoading:"="},link:function(n){n.isLoading=!1}}});
"use strict";angular.module("rd.main").directive("rdStripes",function(){return{templateUrl:"/Templates/rdStripes.html",scope:{color:"@",width:"@",height:"@"}}});
"use strict";angular.module("rd.main").directive("rdTable",["$filter","$location","CommonService",function(n,i,l){return{templateUrl:"/Templates/RdTable/RdTableTemplate.html",scope:{items:"=",columns:"=",noItemsMessage:"=",resources:"=",sortingProperty:"=sortedBy",isReversedOrder:"=isReversed",templateUrls:"=",itemsPerPageDesktop:"=",itemsPerPageLandscape:"=",itemsPerPagePortrait:"=",itemsPerPagePhone:"=",currentPage:"=",isDefaultSorter:"="},link:function(e){var r=e;function t(e,t){r.sortingProperty=e,r.isReversedOrder=t}function a(){return(r.currentPage.num-1)*r.getItemsPerPage()}function s(){var e=document.documentElement.clientWidth;return e<=767?r.itemsPerPagePhone:768<=e&&e<=991?r.itemsPerPagePortrait:992<=e&&e<=1239?r.itemsPerPageLandscape:r.itemsPerPageDesktop}r.currentPage={num:1},_.each(r.columns,function(e){void 0===e.isSortable&&(e.isSortable=!0)}),r.itemsPerPageDesktop=r.itemsPerPageDesktop||10,r.itemsPerPageLandscape=r.itemsPerPageLandscape||2,r.itemsPerPagePortrait=r.itemsPerPagePortrait||2,r.itemsPerPagePhone=r.itemsPerPagePhone||2,r.templateUrls=r.templateUrls||{},r.templateUrls.desktop=r.templateUrls.desktop||"Templates/RdTable/GenericTableTemplate.html",r.templateUrls.landscape=r.templateUrls.landscape||"Templates/RdTable/GenericCardsTemplate.html",r.templateUrls.portrait=r.templateUrls.portrait||"Templates/RdTable/GenericCardsTemplate.html",r.templateUrls.phone=r.templateUrls.phone||"Templates/RdTable/GenericCardsTemplate.html",t(r.sortingProperty,!r.isReversedOrder),r.sortByItemProp=t,r.getOffset=a,r.getItemsPerPage=s,r.setCurrentPage=function(e){r.currentPage.num=e},r.getCurrentItems=function(){var e=r.isDefaultSorter?n("orderBy")(r.items,r.sortingProperty,r.isReversedOrder):l.localeSensitiveSorter(r.items,r.sortingProperty,r.isReversedOrder);return n("limitTo")(e,s(),a())},r.currentLang=i.search().lang||l.getCurrentLocale()||"en"}}}]);
"use strict";!function(){angular.module("rd.main").directive("rdTabToggle",e);function e(i){return{restrict:"E",scope:{headerText:"=",headerClass:"=",headerClassActive:"=",contentClassActive:"=",deleteButton:"=",dynamicHeader:"=",currentItem:"=",items:"="},link:function(e,t){var n=e;function a(e){e.stopImmediatePropagation(),n.items=n.items.filter(function(e){return e!==n.currentItem}),n.$applyAsync()}t.addClass(n.headerClass),n.$watch("dynamicHeader",function(){_.some(n.dynamicHeader)?t.context.innerText=n.dynamicHeader.join(" | "):t.context.innerText=n.headerText?i(n.headerText):"",n.deleteButton&&$("<div>",{class:n.deleteButton}).on("click",a).appendTo(t)});$(t).on("click",function(e){e.target.classList.toggle(n.headerClassActive),e.target.nextElementSibling.classList.toggle(n.contentClassActive)})}}}e.$inject=["$translate"]}();
"use strict";angular.module("rd.main").directive("rdTooltip",function(){return{restrict:"E",templateUrl:"/Templates/rdTooltip.html",transclude:!0,scope:{iconClass:"@",textClass:"@",contentClass:"@",position:"=",text:"="}}});
"use strict";!function(){angular.module("rd.main").directive("rdVideo",e);function e(i,o){return{template:'<iframe ng-if="videoSrc" src="{{videoSrc}}" frameborder="0" allowfullscreen></iframe>',scope:{video:"@"},link:function(e){var r=o.getEmbeddedVideoUrl(e.video);e.videoSrc=i.trustAsResourceUrl(r)}}}e.$inject=["$sce","CommonService"]}();
"use strict";angular.module("rd.main").directive("routeLinkActive",["$location",function(s){return{restrict:"A",link:function(e,r,n){e.$watch(function(){return s.path()},function(e){var n=s.absUrl(),i=location.pathname,t=$(r).attr("href");e===(t=t?t.replace("#!/","/").replace("//","/"):null)||i==t||"/UserProfile/Main/"===t&&n.includes("/UserProfile#!/")&&!n.includes("/UserProfile#!/Preferences")||"/Root/Applications"===t&&n.includes("/Applications")||"/UserProfile/Preferences"===t&&n.includes("/UserProfile#!/Preferences")||"/SkillsManagement"===t&&n.includes("/SkillsManagement/")||"/CenterManagement"===t&&n.includes("/CenterManagement/")||"/Root/NewsManagement"===t&&n.includes("/NewsManagement")||"/About"===t&&n.includes("/TrainingCenter/")||"/TrainingList"===t&&n.includes("/Training/")||"/StudentLearning/Home"===t&&n.includes("/StudentLearning/")||"/Skills"===t&&n.includes("/Skills/")||"/News"===t&&n.includes("/News/")||t==="/Events"+location.search&&n.includes("/Events")?r.addClass("active-route"):r.removeClass("active-route")})}}}]);
"use strict";angular.module("rd.main").directive("shareButtons",["$location","DomainService","CommonService",function(t,c,i){return{scope:{title:"@",type:"@",entityId:"=",hideLabels:"="},templateUrl:"/Templates/shareButtons.html",transclude:!1,link:function(t){var e=t,n=i.capitalizeString(e.type),o="training"===e.type.toLowerCase(),r="".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(n).concat(o?"/Details/":"/Items/").concat(e.entityId).concat(window.location.search);e.isShowVk=function(){return c.isDomain("ua")},e.isShowFacebook=function(){return c.isDomain("ru")},e.shareVk=function(){return"http://vk.com/share.php?url="+encodeURIComponent(r)+"&title="+encodeURIComponent(e.title)},e.shareFacebook=function(){return"http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(r)},e.shareTwitter=function(){return"http://twitter.com/share?url="+encodeURIComponent(r)+"&text="+encodeURIComponent(e.title)},e.shareTelegram=function(){return"https://telegram.me/share/url?url="+encodeURIComponent(r)+"&text="+encodeURIComponent(e.title)}}}}]);
"use strict";!function(){angular.module("rd.main").directive("skillDescriptionContent",e);function e(i,t,a,r,l,o,s,d,u){return{restrict:"E",templateUrl:"/Templates/SkillDescription/SkillDescriptionContent.html",scope:{languageContentTabs:"=",banner:"=",skillName:"=",skillId:"=",statusId:"=",currentForm:"=",languageTabs:"="},link:function(e){var n=e;n.videoPattern=u,n.statuses=[{id:0,name:a("Status_Draft")},{id:1,name:a("Status_Published_Male")}],n.isEditPage=!!t.current.url.match("Edit"),r.all([s.getDescriptions(),d.getSkills()]).then(function(e){var t=_.pluck(e[0].data,"Id");n.skills=e[1].data.map(function(e){return e.Disabled=!n.isEditPage&&t.includes(e.Id),e})}),o(function(){n.currentTab=_.findWhere(n.languageTabs,{id:l.search().lang})}),n.maxTitleLength=500,n.maxEditorLength=1e5,n.maxMetaTitleLength=255,n.maxMetaDescriptionLength=1e3,n.maxMetaKeywordsLength=1e3,n.fieldLengthErrorTitle=a("InvalidMaxFieldLength").format(n.maxTitleLength),n.fieldLengthErrorEditor=a("InvalidMaxFieldLength").format(n.maxEditorLength),n.fieldLengthErrorMetaTitle=a("InvalidMaxFieldLength").format(n.maxMetaTitleLength),n.fieldLengthErrorMetaDescription=a("InvalidMaxFieldLength").format(n.maxMetaDescriptionLength),n.fieldLengthErrorMetaKeywords=a("InvalidMaxFieldLength").format(n.maxMetaKeywordsLength),n.addBanner=function(){i.oneImageCropPopup().result.then(function(e){n.banner=e})},n.deleteBanner=function(){n.banner=null},n.addImage=function(t){i.oneImageCropPopup().result.then(function(e){t.Image=e})},n.deleteCurrentImage=function(e){e.Image=null},n.updateSkillName=function(){n.skillId&&(n.skillName=_.findWhere(n.skills,{Id:n.skillId}).Name)},n.isRequiredTabField=function(){return n.currentForm.$submitted&&!_.some(n.languageContentTabs,function(e){return e.Title&&e.Description&&e.Facts.length})}}}}e.$inject=["$rootScope","$state","$translate","$q","$location","$timeout","SkillsDescriptionsService","TrainingListService","VIDEO_PATTERN"]}();
"use strict";!function(){angular.module("rd.main").directive("skillPreviewButton",t);function t(e){return{restrict:"E",templateUrl:"/Templates/SkillDescription/SkillPreviewButton.html",scope:{banner:"=",contentTabs:"="},link:function(t){var n=t;n.skillPreview=function(){e.open({animation:!0,size:"lg",windowTopClass:"preview-popup",templateUrl:"/Templates/SkillDescription/SkillPreviewPopup.html",controller:["$scope","CommonService",function(t,e){t.banner=n.banner,t.contentTabs=n.contentTabs,t.currentTab=n.contentTabs[0],t.trustAsHtml=e.trustAsHtml}]})}}}}t.$inject=["$uibModal"]}();
"use strict";!function(){function e(t,i,c){return{restrict:"E",replace:!0,scope:{currentSocialNetwork:"=",networkPlaceholder:"=",socialNetworkValue:"=",targetForm:"=",isRequired:"="},templateUrl:"/Templates/socialNetwork.html",link:function(e){var o=e,r=c.isDomain("ru");o.isOpened=!1,o.fieldMaxLengthError=i("Error_MaxLength2").format(100),o.socialNets=r?t.filter(function(e){return"Facebook"!==e.socialNet}):t,o.currentSocialNetwork=t[0].socialNet,o.networkPlaceholder=t[0].socialNetName,o.showTooltip=function(){o.isOpened=!o.isOpened},o.chooseSocialNetwork=function(e){o.isOpened=!o.isOpened,o.currentSocialNetwork=e.socialNet,o.networkPlaceholder=e.socialNetName},o.getCurrentSocialNetworkClass=function(){return"social-network-".concat(o.currentSocialNetwork," ").concat(o.isOpened?"reversed":"")},o.isSocialNetworkRequired=function(){var e=o.socialNets.map(function(e){return o.socialNetworkValue["SocialNetwork"+e.socialNet]});return!!o.isRequired&&0===_.compact(e).length}}}}angular.module("rd.main").directive("socialNetwork",e),e.$inject=["SOCIAL_NETS","$translate","DomainService"]}();
"use strict";angular.module("rd.main").directive("spaceValidator",function(){return{restrict:"A",require:"ngModel",link:function(r,e,n,t){t.$validators.spaceError=function(r){return!!r&&r.split(" ").length-1<n.numberOfSpaces}}}});
"use strict";!function(){function e(e,o,i,t,a,s){return{restrict:"A",templateUrl:"/Templates/rdTimezoneModal.html",link:function(t,n){t.$watch(function(){return i.path()},function(e){"/Preferences"==e?n.removeClass("timezone-modal--active").hide():$.cookie("isTimezoneModalClosed")||n.hasClass("timezone-modal--active")||(n.show(),t.checkUserTimezone())}),t.onTimezoneChange=function(){e.statusPopup(o("ItemSuccessfullyUpdated")),n.removeClass("timezone-modal--active"),s.saveTimezone(t.currentUserData.TimeZone)},t.onCloseTimezonePopup=function(){$.cookie("isTimezoneModalClosed",!0),n.removeClass("timezone-modal--active").hide()},t.checkUserTimezone=function(){a.isLoggedUser()&&s.getCurrentSettings().then(function(e){var o=new Date;t.currentUserData=e.data,t.currentUserData.TimeZoneOffset!==o.getTimezoneOffset()&&s.getCommonData().then(function(e){t.timeZones=e.data.timeZones,n.addClass("timezone-modal--active")})})}}}}angular.module("rd.main").directive("timezoneModal",e),e.$inject=["$rootScope","$translate","$location","CommonService","LoginService","PreferencesService"]}();
"use strict";angular.module("rd.core").directive("userNameType",["$rootScope",function(n){return{restrict:"A",replace:!0,templateUrl:"/Templates/userNameSelect.html",link:function(e,a,t){e.list=[{value:"name",name:"ShowStudentFullName"},{value:"nativeName",name:"ShowStudentNativeName"},{value:"bothNames",name:"ShowStudentBothNames"}],n.nameType=e.list[0].value,t.$observe("userNameType",function(e){n.nameType=e})}}}]),angular.module("rd.core").directive("userNameShow",["$rootScope",function(e){return{restrict:"E",transclude:!0,scope:{name:"=",nativeName:"="},template:"{{showName}}",link:function(a){e.$watch("nameType",function(e){a.showName="bothNames"===e?a.name+" / "+a.nativeName:"nativeName"===e?a.nativeName||a.name:a.name||a.nativeName})}}}]);
"use strict";!function(){function e(){return{restrict:"E",scope:{userSkills:"=",skillCategories:"=",displayedCategories:"="},templateUrl:"/Templates/userSkillsAccordion.html",link:function(e){var i=e;i.setSkillLevel=function(e){var l=_.findWhere(i.userSkills,{SkillId:e.SkillId});e.SkillLevel=l?l.SkillLevel:0},i.isShowCategory=function(e){return i.displayedCategories.includes(e)}}}}angular.module("rd.main").directive("userSkillsAccordion",e),e.$inject=[]}();
"use strict";angular.module("rd.main").directive("addressesTree",["$compile","$uibModal","$statusPopup","$translate","$timeout","DictionariesService",function(l,n,r,s,c,u){return{restrict:"E",scope:{model:"=",createPerm:"=",updatePerm:"=",deletePerm:"="},templateUrl:"/Templates/Administration/Dictionaries/Addresses/NodeTemplate.html",replace:!0,transclude:!0,link:function(o,d){o.isSave=!1;var e=$("#addresses-block").scope(),i='<div class="children"><addresses-tree model="model" create-perm="'+e.PortalAdministrationPermission+'" delete-perm="'+e.PortalAdministrationPermission+' "update-perm="'+e.PortalAdministrationPermission+'" ng-repeat="model in model.children"></addresses-tree></div>';if($(d).find(".node-info").on("click",function(e){if($(this).get(0)==$("#addresses-block").find(".node-info").first().get(0))return!1;$(this).find(".fa-caret-right, .fa-caret-down").toggleClass("fa-caret-right fa-caret-down");var t=$(d).children(".children");t.is(":visible")?t.hide("fast"):t.show("fast"),e.stopPropagation()}),o.model.children){var t=l(i)(o);d.append(t)}switch(o.model.attr.dataType){case"countries":o.addTitle=s("Country_Add"),o.editTitle=s(""),o.deleteTitle=s("");break;case"country":o.addTitle=s("City_Add"),o.editTitle=s("Country_Edit"),o.deleteTitle=s("Country_Remove");break;case"city":o.addTitle=s("Location_Add"),o.editTitle=s("City_Edit"),o.deleteTitle=s("City_Remove");break;case"location":o.addTitle=s("Faculty_Add"),o.editTitle=s("Location_Edit"),o.deleteTitle=s("Location_Remove");break;case"faculty":o.addTitle=s("Department_Add"),o.editTitle=s("Faculty_Edit"),o.deleteTitle=s("Faculty_Remove");break;case"department":o.addTitle="",o.editTitle=s("Department_Edit"),o.deleteTitle=s("Department_Remove");break;case"room":o.addTitle="",o.editTitle="",o.deleteTitle=s("Room_Remove")}function a(e,t){var n;switch(n=t?e.attr.dataType:e.attr.dataChildType){case"country":t&&u.getEditAddress(o.model.attr.dataId,null,n).success(function(e){o.country=e.Name,o.version=e.Version}),o.buttonsRight=!1;var i='<input type="text" class="country" ng-required="true" ng-model="country" maxlength="300" placeholder="'+s("Country")+'">';break;case"city":if(t){var a=$(d).parent(".children").parent(".node").scope();o.country=a.model.attr.dataId,u.getEditAddress(o.model.attr.dataId,o.country,n).success(function(e){o.city=e.Name,o.version=e.Version})}else o.country=e.attr.dataId;o.buttonsRight=!1;i='<input type="hidden" ng-model="country"><input type="text" class="city" ng-required="true" ng-model="city" maxlength="300" placeholder="'+s("City")+'">';break;case"location":if(t){a=$(d).parent(".children").parent(".node").scope();o.city=a.model.attr.dataId,u.getEditAddress(o.model.attr.dataId,o.city,n).success(function(e){o.location=e.Name,o.internal=e.Internal,o.shortName=e.ShortName,o.website=e.Website,o.hasFaculties=e.HasFaculties,o.version=e.Version,o.IsTrainingCenter=e.IsTrainingCenter,o.Telephones=e.Telephones})}else o.city=e.attr.dataId,o.IsTrainingCenter=!1,o.Telephones=[];o.buttonsRight=!0;i='<input type="hidden" ng-model="city"><input type="text" class="location" ng-model="location" maxlength="300" placeholder="'+s("Location_AddAddress")+'"><p class="checkbox-block"><input id="internal-checkbox" type="checkbox" class="pointer" ng-disabled="hasFaculties" ng-model="internal"><label for="internal-checkbox" class="pointer location-checkbox">'+s("Location_Internal")+'</label></p><div class="field-validation-error" ng-show="!location.length && isSave">'+s("RequiredField")+'</div ><div class="field-validation-error" ng-show="checkLength(location.length)">'+s("Over_250_Symbols")+'</div ><input type="text" class="shortname" ng-model="shortName" maxlength="300" placeholder="'+s("ShortName")+'"><input type="text" class="website" ng-model="website" maxlength="300" placeholder="'+s("Website")+'"><input type="text" class="telephone" ng-model="Telephones[0].PhoneNumber" maxlength="50" placeholder="'+s("Telephone")+'"><p class="checkbox-block"><input id="training-checkbox" type="checkbox" class="pointer" ng-disabled="hasFaculties" ng-model="IsTrainingCenter"><label for="training-checkbox" class="pointer location-checkbox">'+s("Location_Training_Center")+'</label></p><input type="hidden" ng-model="hasFaculties">';break;case"faculty":if(t){a=$(d).parent(".children").parent(".node").scope();o.location=a.model.attr.dataId,u.getEditAddress(o.model.attr.dataId,o.location,n).success(function(e){o.faculty=e.Name,o.shortName=e.ShortName,o.website=e.Website,o.version=e.Version})}else o.location=e.attr.dataId;o.buttonsRight=!0;i='<input type="hidden" ng-model="location"><input type="text" class="faculty" ng-model="faculty" maxlength="300" placeholder="'+s("Faculty")+'"><input type="text" class="shortname" ng-model="shortName" maxlength="300" placeholder="'+s("ShortName")+'"><input type="text" class="website" ng-model="website" maxlength="300" placeholder="'+s("Website")+'">';break;case"department":if(t){a=$(d).parent(".children").parent(".node").scope();o.faculty=a.model.attr.dataId,u.getEditAddress(o.model.attr.dataId,o.faculty,n).success(function(e){o.department=e.Name,o.version=e.Version})}else o.faculty=e.attr.dataId;o.buttonsRight=!1;i='<input type="hidden" ng-model="faculty"><input type="text" class="department" ng-model="department" maxlength="300" placeholder="'+s("Department")+'">';break;case"room":break;default:return!1}return i}o.openDialog=function(e){n.open({animation:!0,windowClass:"delete-dialog",templateUrl:"/Templates/Administration/Dictionaries/Addresses/DeletePopupTemplate.html",controller:["$scope","dialogInfo",function(e,t){e.dialogInfo=t,e.removeAddress=function(e){u.removeAddress(e).success(function(e){"success"==e.type?(r({content:e.content,type:"success"}),o.$parent.$parent.model.children.splice($(d).index(),1)):(r({content:e.content,type:"error"}),$("body").animate({scrollTop:0},"normal"))}).error(function(e){e.content;r({content:e.content,type:"error"})})}}],resolve:{dialogInfo:function(){return e}}})},o.addForm=function(e){if(o.addFormOpened)return!1;o.addFormOpened=!0;var t=e.attr.dataChildType,n='<div class="add-form">'+a(e,!1)+'<div class="buttons" ng-class="{ \'float-buttons-right\': buttonsRight }"><button class="cancel" ng-click="deleteForm()">'+s("Cancel")+'</button><button class="save" ng-click="addAddress()">'+s("Save")+"</button></div>";"city"==t&&(n+='<div class="field-validation-error" ng-show="!city.length && isSave">'+s("RequiredField")+"</div >",n+='<div class="field-validation-error" ng-show="checkLength(city.length)">'+s("Over_250_Symbols")+"</div >",n+='<div class="field-validation-error" ng-show="!checkSymbol(city)">'+s("InputSymbolsValidation")+"</div >"),"country"==t&&(n+='<div class="field-validation-error" ng-show="!country.length && isSave">'+s("RequiredField")+"</div >",n+='<div class="field-validation-error" ng-show="checkLength(country.length)">'+s("Over_250_Symbols")+"</div >",n+='<div class="field-validation-error" ng-show="!checkSymbol(country)">'+s("InputSymbolsValidation")+"</div >");var i=l(n+="</div>")(o);$(d).find(".node-content").first().after(i),c(function(){$(d).find(".add-form").first().find("input[type=text]").first().focus()})},o.editForm=function(e){if(o.editFormOpened)return!1;o.editformOpened=!0;var t=e.attr.dataType,n='<div class="add-form">'+a(e,!0)+'<div class="buttons" ng-class="{ \'float-buttons-right\': buttonsRight }"><button class="cancel" ng-click="showNodeContent(); deleteForm()">'+s("Cancel")+'</button><button class="save" ng-click="saveAddress()">'+s("Save")+"</button></div>";"city"==t&&(n+='<div class="field-validation-error" ng-show="!city.length && isSave">'+s("RequiredField")+"</div >",n+='<div class="field-validation-error" ng-show="checkLength(city.length)">'+s("Over_250_Symbols")+"</div >",n+='<div class="field-validation-error" ng-show="!checkSymbol(city)">'+s("InputSymbolsValidation")+"</div >"),"country"==t&&(n+='<div class="field-validation-error" ng-show="!country.length && isSave">'+s("RequiredField")+"</div >",n+='<div class="field-validation-error" ng-show="checkLength(country.length)">'+s("Over_250_Symbols")+"</div >",n+='<div class="field-validation-error" ng-show="!checkSymbol(country)">'+s("InputSymbolsValidation")+"</div >"),"faculty"==t&&(n+='<div class="field-validation-error" ng-show="!faculty.length && isSave">'+s("RequiredField")+"</div >",n+='<div class="field-validation-error" ng-show="checkLength(faculty.length)">'+s("Over_250_Symbols")+"</div >"),"department"==t&&(n+='<div class="field-validation-error" ng-show="!department.length && isSave">'+s("RequiredField")+"</div >",n+='<div class="field-validation-error" ng-show="checkLength(department.length)">'+s("Over_250_Symbols")+"</div >");var i=l(n+="</div>")(o);$(d).find(".node-content").first().hide().after(i),c(function(){$(d).find(".add-form").first().find("input[type=text]").first().focus()})},o.checkLength=function(e){return 250<e},o.checkSymbol=function(e){return/^([A-Za-z]+[\-\s]?)+$/.test(e)},o.addAddress=function(){var e=!(o.isSave=!0),t=o.model.attr.dataChildType;"country"==t&&o.country&&o.country.length&&o.checkSymbol(o.country)&&(e=!0),"city"==t&&o.city&&o.city.length&&o.checkSymbol(o.city)&&(e=!0),"location"==t&&o.location&&o.location.length&&(e=!0),"faculty"==t&&o.faculty&&o.faculty.length&&(e=!0),"department"==t&&o.department&&o.department.length&&(e=!0);var n=o.$eval(t).length;e&&!o.checkLength(n)&&u.addAddress(o).success(function(e){r({content:e.message,type:"success"}),u.getAddress(e.id,e.name,o.model.attr.dataChildType).success(function(e){o.model.children||(o.model.children=[]),o.model.children.unshift(e),c(function(){var e=$(d).find(".children").find(".node").first(),t=e.scope();"location"!=o.model.attr.dataChildType||o.internal||(t.model.data.icon="university",t.model.attr.dataChildType="faculty"),o.deleteForm();var n=l(i)(t);e.append(n)})})}).error(function(e){r({content:e.message,type:"error"}),$("body").animate({scrollTop:0},"normal")})},o.saveAddress=function(){var e=!(o.isSave=!0),t=o.model.attr.dataType;"country"==t&&o.country&&o.country.length&&o.checkSymbol(o.country)&&(e=!0),"city"==t&&o.city&&o.city.length&&o.checkSymbol(o.city)&&(e=!0),"location"==t&&o.location&&o.location.length&&(e=!0),"faculty"==t&&o.faculty&&o.faculty.length&&(e=!0),"department"==t&&o.department&&o.department.length&&(e=!0);var n=o.$eval(t).length;e&&!o.checkLength(n)&&u.saveAddress(o).success(function(e){r({content:e.message,type:"success"}),"location"==o.model.attr.dataType&&(o.internal?(o.model.data.icon="office",o.model.attr.dataChildType=""):(o.model.data.icon="university",o.model.attr.dataChildType="faculty")),o.model.data.title=e.name,o.showNodeContent(),o.deleteForm()}).error(function(e){r({content:e.message,type:"error"}),$("body").animate({scrollTop:0},"normal")})},o.deleteForm=function(){o.isSave=!1,$(d).find(".add-form").first().remove(),o.addFormOpened=o.editFormOpened=!1,o.country=o.city=o.location=o.faculty=o.department=o.shortName=o.website=void 0,o.internal=!1},o.showNodeContent=function(){$(d).find(".node-content").first().show()}}}}]);
"use strict";angular.module("rd.main").directive("logoChoser",["$compile","$translate","$timeout","DictionariesService",function(e,o,t,l){return{restrict:"E",scope:{model:"=",parentModel:"="},templateUrl:"/Templates/Administration/Dictionaries/Skills/logoTemplate.html",replace:!0,transclude:!0,link:function(o){o.closeLogo=function(){o.logoContainerShowed=!1},o.setLogo=function(e){o.logoContainerShowed=!1,o.parentModel.LogoId=o.parentModel.Logo.Id=e.Id,o.parentModel.Logo.Name=e.Name,o.parentModel.Logo.FileNameSmall=e.FileNameSmall}}}}]);
"use strict";!function(){function n(t,o){return{require:"ngModel",scope:{roomId:"="},link:function(i,n,e,r){r.$asyncValidators.sameroomname=function(n,e){return o(function(e,o){return r.$isEmpty(n)&&e(),t.find({name:n}).then(function(n){(n&&n.length&&i.roomId!=n[0].id?o:e)()})})}}}}angular.module("rd.main").directive("sameRoomName",n),n.$inject=["RoomService","$q"]}();
"use strict";!function(){function n(n){return{restrict:"E",scope:{container:"=",planContainer:"=",startTrainingDate:"=",show:"@show",editEnable:"=",isAssignmentContainerSaved:"="},controller:"AssignmentContainerController",templateUrl:n("Templates/AssignmentContainer/AssignmentContainer.html")}}angular.module("rd.main").directive("assignmentContainer",n),n.$inject=["$url"]}();
"use strict";!function(){function t(r,o){return{restrict:"E",scope:{status:"@resultStatus",rating:"@rating",state:"@state",passedDate:"@passedDate"},link:function(t){var e,s,n="",a=""===t.state?-1:+t.state,i=""===t.status?-1:+t.status;s=i==o.REGISTERED_BEFORE_LINKED?(n="registered-before-container-linked",e="N/A","Assignment_Container_Tooltip_Registered_Before"):i==o.WAITING_REVIEW?(n="on-review",e="R","Assignment_OnReview"):i==o.FAILED?(n="failed",e=t.rating,"Assignment_Container_Tooltip_Failed"):a==r.UNKNOWN||a==r.ASSIGNED?(n="assigned",e="A","Assignment_Container_Tooltip_Assigned"):a==r.PASSED?(n="passed",e=t.rating,"Assignment_Container_Tooltip_Passed"):(n="not-started",e="N/A","Assignment_Container_Tooltip_Not_Started"),t.ratingCssClass=n,t.resultRating=e,t.tooltipText=s},template:'<span class="assignment-container-rating {{ ratingCssClass }}" title="{{ tooltipText | translate }}">{{ resultRating }}</span><p class="assignment-container-date">{{passedDate | localDate}}</p>'}}angular.module("rd.main").directive("assignmentContainerRating",t),t.$inject=["CONTAINER_RESULT_STATES","CONTAINER_RESULT_STATUSES"]}();
"use strict";!function(){angular.module("rd.main").directive("centerChosenArea",e);function e(n,r,a){return{restrict:"E",templateUrl:"/Templates/TrainingCenter/centerChosenArea.html",scope:{isFormSubmitted:"=",countries:"=",statusId:"=",country:"=",city:"=",skills:"=",img:"=",selectedSkills:"=",imageCallback:"&",centersCityIds:"="},link:function(e){var t=e;function i(e){if(t.country)return t.showCitiesPreloader=!0,a.getTrainingCenterCities(t.country.Id,e).then(function(e){t.citiesForCountry=e.length?e:[],t.showCitiesPreloader=!1,t.citiesForCountry.forEach(function(e){e.IsDisabled=t.centersCityIds.includes(e.Id)})})}t.searchCities=i,t.changeCountry=function(){t.city=null,i("")},t.getCityName=a.getCityName,t.statuses=[{id:0,name:r("Status_Draft")},{id:1,name:r("Status_Published_Male")}],t.isEditPage=!!n.current.url.match("Edit"),t.addImage=function(){t.imageCallback()},t.deleteCurrentImage=function(){t.img=null}}}}e.$inject=["$state","$translate","LocationsService"]}();
"use strict";!function(){angular.module("rd.main").directive("centerFeedbackContent",e);function e(t){return{restrict:"E",templateUrl:"/Templates/TrainingCenter/feedbackContent.html",scope:{languageContentTab:"=currentTab",isFormSubmitted:"="},link:function(e){var r=e;Object.assign(r,t),r.singleFeedback=function(e){return 0===e&&1===r.languageContentTab.Feedbacks.length},r.checkFeedbackContent=function(e){return!!e.AuthorName||!!e.AuthorJob||!!e.Text},r.isErrorField=function(e,t){return r.checkFeedbackContent(e)&&!t&&r.isFormSubmitted},r.isErrorAuthorJobField=function(e,t,n){return r.checkFeedbackContent(e)&&n<t&&r.isFormSubmitted},r.createNewFeedback=function(){r.languageContentTab.Feedbacks.push({AuthorName:"",AuthorJob:"",Text:""})},r.languageContentTab.Feedbacks.length||r.createNewFeedback()}}}e.$inject=["CENTER_MANAGEMENT_TEXT_LENGTH"]}();
"use strict";!function(){angular.module("rd.main").directive("centerHeaderContent",e);function e(e){return{restrict:"E",templateUrl:"/Templates/TrainingCenter/headerContent.html",scope:{languageContentTab:"=currentTab",isFormSubmitted:"=",errorTextCallback:"="},link:function(t){var r=t;Object.assign(r,e),r.setFieldErrorLengthText=function(e){return t.errorTextCallback(e)},r.isErrorField=function(e){return!e&&r.isFormSubmitted}}}}e.$inject=["CENTER_MANAGEMENT_TEXT_LENGTH"]}();
"use strict";!function(){angular.module("rd.main").directive("singleCenter",e);function e(e,r,o,a,c){return{restrict:"E",templateUrl:"/Templates/TrainingCenter/SingleCenter.html",scope:{languageContentTab:"=centerContent",image:"=",skillsId:"=",cityId:"="},link:function(e){var i=e;i.isCarouselesReady=!1,i.currentskills=[],i.localizedSkillIds=[],i.currentUniversity=null,i.isNeedTrainingsLink="/CenterManagement/Preview"!==r.path(),i.setTrainingFilters=function(e,n,i){e.stopPropagation(),o.sessionStorage.setItem("City",n),i?o.sessionStorage.setItem("Skill",i):o.sessionStorage.removeItem("Skill"),o.sessionStorage.removeItem("PlanTypes"),o.sessionStorage.removeItem("ProgramLanguages"),o.sessionStorage.removeItem("PlanLevels"),o.sessionStorage.removeItem("PlanPricingTypes"),o.sessionStorage.removeItem("PlanFormats")},i.navButtonsVisibility=function(e){var n=document.documentElement.clientWidth;!s(".skill-carousel")||e&&n<=768?$(".skills .owl-nav").css("display","none"):$(".skills .owl-nav").css("display","block")},i.changeUniversityTab=function(e){i.currentUniversity=i.currentUniversity===e?null:e},i.isUniversitiesReady=function(e){return _.find(e,function(e){return i.checkUniversityContent(e)})},i.isFeedbacksReady=function(e){return _.find(e,function(e){return i.checkFeedbackContent(e)})},i.checkUniversityContent=function(e){return!!e.Name&&!!e.ShortName&&!!e.Description},i.checkFeedbackContent=function(e){return!!e.AuthorName&&!!e.Text},i.checkFactContent=function(e){return!!e.Title&&!!e.Description},i.owlSkillsCarousel={items:1,responsiveClass:!0,responsive:{0:{items:1},768:{items:2},992:{items:3},1240:{items:4},1540:{items:5}},loop:!1,rewind:!0,mouseDrag:!1,onInitialized:n,onTranslated:n,onTranslate:l,onDrag:l,onResized:n},i.owlCarousel={items:1,loop:!1,rewind:!0,dots:!0,autoHeight:!0};var t=!0;function s(e){var n=$(e);return n.find(".owl-stage").width()>n.width()}function n(){var e=document.documentElement.clientWidth;!s(".skill-carousel")||e<=768&&0<$(".skills .owl-item.active").find(".skill-active").length?$(".skills .owl-nav").css("display","none"):$(".skills .owl-nav").css("display","block")}function l(){document.documentElement.clientWidth<=768&&$(".skills .owl-nav").css("display","none")}i.$watch("skillsId",function(){i.skillsId&&(c.getActive().then(function(e){i.localizedSkillIds=e.data}),a.getSkills().then(function(e){var n;i.currentSkills=e.data.filter(function(e){return i.skillsId.includes(e.Id)}),t=1540<=window.innerWidth&&i.currentSkills.length<=5||1240<=window.innerWidth&&i.currentSkills.length<=4||992<=window.innerWidth&&i.currentSkills.length<=3||768<=window.innerWidth&&i.currentSkills.length<=2,n=!t,i.owlSkillsCarousel.touchDrag=n,i.isCarouselesReady=!0}))})}}}e.$inject=["$state","$location","$window","TrainingListService","SkillsDescriptionsService"]}();
"use strict";!function(){angular.module("rd.main").directive("centerUniversityContent",e);function e(e){return{restrict:"E",templateUrl:"/Templates/TrainingCenter/universityContent.html",scope:{languageContentTab:"=currentTab",isFormSubmitted:"=",errorTextCallback:"="},link:function(t){var n=t;Object.assign(n,e),n.singleUniversity=function(e){return 0===e&&1===n.languageContentTab.Universities.length},n.checkUniversityContent=function(e){return!!e.Name||!!e.ShortName||!!e.Description},n.isErrorField=function(e,t){return n.checkUniversityContent(e)&&!t&&n.isFormSubmitted},n.setFieldErrorLengthText=function(e){return t.errorTextCallback(e)},n.createNewUniversity=function(){n.languageContentTab.Universities.push({Name:"",ShortName:"",Description:""})},n.languageContentTab.Universities.length||n.createNewUniversity()}}}e.$inject=["CENTER_MANAGEMENT_TEXT_LENGTH"]}();
"use strict";angular.module("rd.core").directive("addFiles",["$url","$statusPopup","$translate",function(l,s,r){function a(e,i){e.on("change",function(){var n=_(this.files).map(function(e){return{file:e,name:e.name,forceLoad:!0}});i.$apply(function(e){e.newFile=n,e.Files=e.files,n=function(e,n){var i,t=[],l=!1;if(angular.forEach(n,function(n){i=!1,n.file.size<10485760?(angular.forEach(e,function(e){e.name==n.name&&(i=!0)}),i||t.push(n)):l=!0}),l){var a=r("File_Exceeds_Limit");s({content:a,type:"error"})}return t}(e.files,n),e.files=_.union(e.files,n),e.cutExcessFiles()}),$(this).val("")})}return{transclude:!0,replace:!1,scope:{files:"=addFiles"},templateUrl:l("/Templates/Core/AddFiles.html"),link:function(e,n){var i,t=n.find("input");window.FileReader?a(t,e):(i=e,t.fileupload({singleFileUploads:!0,forceIframeTransport:!0,url:l("/RavenAttachment/Post"),paramName:"file",dataType:"json"}).on("fileuploaddone",function(e,n){i.$apply(function(){i.files.push(n.result)})}).on("fileuploadfail",function(e,n){var i=JSON.parse(n.jqXHR.responseText);s({content:i.message,type:"error"})})),angular.extend(e,{maxFileCount:10,cutExcessFiles:function(){this.canAdd()||(this.files=this.files.slice(0,this.maxFileCount))},canAdd:function(){return null!=this.files&&this.files.length<this.maxFileCount},isExistFile:function(){var i;return e.Files&&0!=e.Files.length?(angular.forEach(e.newFile,function(n){i=!1,angular.forEach(e.Files,function(e){e.name==n.name&&(i=!0)})}),i):i=!1}})}}}]);
"use strict";angular.module("rd.core").directive("chosen",function(){return{require:"ngModel",link:function(e,n,t){setTimeout(function(){n.chosenajax()},1),e.$watch(t.ngModel,function(){n.trigger("liszt:updated")})}}});
"use strict";!function(){var n=angular.module("rd.core");n.directive("ngEnter",function(){return function(i,n,t){n.bind("keydown",function(n){13===n.which&&i.$apply(t.ngEnter)})}}),n.directive("ngEsc",function(){return function(i,n,t){n.bind("keydown",function(n){27===n.which&&i.$apply(t.ngEsc)})}}),n.directive("ngBlur",function(){return function(n,i,t){i.bind("blur",function(){n.$$phase||n.$apply(t.ngBlur)})}}),n.directive("ngFocus",["$timeout",function(c){return function(n,i,t){n.$watch(t.ngFocus,function(n){n&&c(function(){i.focus().select()})})}}]),n.directive("slideDown",function(){return function(n,i,t){n.$watch(t.slideDown,function(n){n&&void 0===i.childNodes?i.slideDown("fast"):i.slideUp("fast")})}})}();
"use strict";!function(){var e=angular.module("rd.core");e.directive("fileupload",["$url",function(e){return{replace:!0,scope:{attachments:"=fileupload",groupid:"="},templateUrl:e("/Templates/FileUpload.html"),controller:["$scope",function(a){a.attachmentTitle=$.i18n.prop("AttachmentDownload"),a.removeAttachment=function(e,t){a.attachments.splice(t,1),e.isAjaxRequestRunning()&&e.jqXhr.abort()}}]}}]),e.directive("fileuploadInput",["$url","$statusPopup","$translate",function(i,u,p){return{link:function(n,e,t){var a=$("<input>").attr({type:"file",name:"file"}).appendTo(e),r=n.$eval(t.fileuploadInput),o=n.$parent.$parent.groupId;if(void 0===o&&(o=n.$parent.$root.groupId),r.urlNewParam=i("/RavenAttachment/Get",{id:r.id,groupId:o}),null===r.file)return!1;if(angular.extend(r,{jqXhr:null,load:function(){var e={files:[r.file]};r.jqXhr=a.fileupload("send",e),r.loading=!0,r.progressCss={width:"0%"},r.error=!1},isAjaxRequestRunning:function(){return this.jqXhr&&4!==this.jqXhr.readyState}}),10485760<r.file.size){var l=p("File_Exceeds_Limit");u({content:l,type:"error"}),r.loading=!1,r.error=!0}else a.fileupload({autoUpload:!1,url:i("/RavenAttachment/Post"),dataType:"json",formData:{groupId:n.groupid},type:"POST",progressall:function(e,t){n.$apply(function(){var e=parseInt(t.loaded/t.total*100,10);r.progressCss={width:e+"%"}})}}).on("fileuploadalways",function(e,t){var a=n.$parent.$parent.groupId;void 0===a&&(a=n.$parent.$parent.group.groupId),r.loading=!1,r.urlNewParam=i("/RavenAttachment/Get",{id:r.id,groupId:a}),setTimeout(function(){n.$apply()})}).on("fileuploaddone",function(e,t){angular.extend(r,t.result),r.loading=!1,r.file=null,r.jqXhr=null}).on("fileuploadfail",function(e,t){if(0!==t.jqXHR.status){var a=t.jqXHR.statusText;404===t.jqXHR.status?a=p("File_Exceeds_Limit"):t.jqXHR.responseText&&(a=JSON.parse(t.jqXHR.responseText).message),u({content:a,type:"error"}),r.loading=!1,r.error=!0}}),r.forceLoad&&(r.load(),r.forceLoad=!1)}}}])}();
"use strict";angular.module("rd.core").directive("inputlimiter",["$translate","$timeout",function(l,a){return{controller:function(){},link:function(t,e,i){var n=i.maxlength||parseInt(i.ngMaxlength)||parseInt(i.inputlimiter)||null,r=i.customPostfix||(new Date).getTime();e.after('<span class="notice" id="limiterBox'+r+'"></span>'),e.inputlimiter({limit:n,startFromRest:!1,remTextHideOnBlur:!1,boxAttach:!1,remText:l("CharacterRemaining"),limitText:l("FieldLimit"),lineReturnCount:2,boxId:"limiterBox"+r,boxClass:"notice",remTextFilter:function(t,e){var i=t.remText;return 0===e&&null!==t.remFullText&&(i=t.remFullText),i=(i=i.replace(/\%n/g,"<span>"+e+"</span>")).replace(/\%s/g,t.zeroPlural?1===e?"":"s":e<=1?"":"s")},limitTextFilter:function(t){var e=t.limitText;return e=(e=e.replace(/\%n/g,"<span>"+t.limit+"</span>")).replace(/\%s/g,t.limit<=1?"":"s")}}),a(function(){e.keyup()},0)}}}]);
"use strict";!function(){function n(e){return["$document",function(n){var r={name:"form",require:"form",restrict:"E",link:function(r,e,n,u){angular.isDefined(n.button)&&$(n.button).off("click").on("click",function(){e.submit()}),e.on("submit",function(){var n=e.find("[required], [data-required]");r.$apply(function(){angular.forEach(n,function(n){var r=angular.element(n),e=r.val();if(!e&&0!==parseInt(e,10)){var t=r.attr("name");u[t]&&u[t].$setViewValue("")}})})})}};return e?angular.extend(angular.copy(r),{restrict:"EAC"}):r}]}angular.module("rd.core").directive("form",n()),angular.module("rd.core").directive("ngForm",n(!0))}();
"use strict";angular.module("rd.core").directive("placeholderIe9",["$timeout",function(e){return!$.browser.msie||10<=$.browser.version?{}:{link:function(){e(function(){$("[placeholder]").initWatermark()})}}}]);
"use strict";angular.module("rd.core").directive("sortheader",["$url",function(t){return{transclude:!0,replace:!0,scope:{text:"@",name:"@",cssClass:"@cssclass",sortingOptions:"=sortheader"},templateUrl:t("/Templates/Core/SortHeader.html"),controller:["$scope",function(e){angular.extend(e,{sort:function(){this.sortingOptions.reverse=this.sortingOptions.column==this.name&&!this.sortingOptions.reverse,this.sortingOptions.column=this.name},sortingByCurrent:function(){return this.sortingOptions.column===this.name}}),e.$watch("sortingOptions.reverse",function(t){e.reverse=e.sortingByCurrent()&&t})}]}}]);
"use strict";angular.module("rd.core").directive("tooltip",[function(){return{link:function(t,o,e){o.mouseenter(function(){o.qtip({content:e.tooltip,position:{my:"bottom center",at:"top center"}}),o.qtip("show")}).mouseleave(function(){o.qtip("destroy")})}}}]);
"use strict";angular.module("rd.core").directive("userPhoto",[function(){return{replace:!0,scope:{userId:"=userPhoto"},template:'<span ng-class="{ userPhoto: photo, noUserPhoto: !photo }" ng-style="{ backgroundImage: photo }"></span>',controller:["$scope","$filter","$url",function(r,e,t){r.$watch("userId",function(){if(!r.userId)return;var o=t(e("format")("/File/UserPhoto/{0}",[r.userId]));angular.element("<img>").prop("src",o).load(function(){r.$apply(function(){r.photo=e("format")("url({0})",[o])})})})}]}}]);
"use strict";angular.module("rd.core").directive("validateNumber",function(){function r(n){return n.prop("validity")}return{require:"ngModel",link:function(t,u,n,e){angular.isDefined(r(u))&&u.on("input",function(n){var i=r(u);i.badInput&&t.$apply(function(){e.$setValidity("number",!i.badInput)})})}}});
"use strict";angular.module("rd.core").directive("validatingSubmit",["$parse",function(u){return{restrict:"A",require:"form",link:function(t,i,n,e){var r=u(n.validatingSubmit);i.on("submit",function(i){e.$valid?t.$apply(function(){r(t,{$event:i})}):i.preventDefault()})}}}]);
"use strict";angular.module("rd.core").directive("validation",["$filter",function(e){var d=e("translate");return{require:"ngModel",link:function(r,n,o,a){var t=r.$eval(o.validation);if(angular.isObject(t)){if(t.item)u=t.item;else var u=(n.closest("[ng-form]").attr("ng-form")||n.closest("form").attr("name"))+'["'+n.attr("name")+'"]';r.$watch(u+".$valid",function(e){e&&(n.qtip("destroy"),n.off("clickoutside"))}),angular.forEach(t.validationRules,function(t,e){var i=o[e]||o["ng"+$.capitalize(e)];r.$watch(u+".$error."+e,function(e){(e&&!o.required||e&&o.required&&a.$dirty)&&c(t,i)})}),angular.isUndefined(o.required)||r.$watch(u+".$dirty",function(e){e&&a.$invalid&&a.$error.required&&c(t.validationRules.required)})}function c(e,t){var i=t?$.validator.format(d(e),t):d(e);n.qtip({content:i,show:{event:"mouseover"},hide:{delay:2500,event:"mouseout"},position:{my:"top center",at:"bottom center"}}),n.off("clickoutside").on("clickoutside",function(){n.qtip("hide")})}}}}]);
"use strict";function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){angular.module("rd.main").directive("eventDetailsAgenda",e);function e(t,a){return{restrict:"E",templateUrl:"/Templates/EventDetails/agenda.html",scope:{agendaJson:"@"},link:function(e){var i=e;i.desktopTextLimit=t.innerWidth<768?150:320,i.agendaDays=JSON.parse(e.agendaJson).reduce(function(e,t){var n=a(t.Date).format("LL"),r=e.find(function(e){return e.Date===n}),o=_objectSpread(_objectSpread({},t),{},{descriptionMaxLength:i.desktopTextLimit,Time:a(t.Date).format("HH:mm")});return r?r.EventsInfo.push(o):e.push({Date:n,EventsInfo:[o]}),e},[]).map(function(e){return _objectSpread(_objectSpread({},e),{},{EventsInfo:_.sortBy(e.EventsInfo,function(e){return e.Date})})}),i.agendaDays=_.sortBy(i.agendaDays,function(e){return a(e.Date).valueOf()}),i.showFullDescription=function(e){e.descriptionMaxLength=e.Description.length},i.showLessDescription=function(e){e.descriptionMaxLength=i.desktopTextLimit}}}}e.$inject=["$window","moment"]}();
"use strict";!function(){angular.module("rd.main").directive("availableEvents",e);function e(l){return{restrict:"E",templateUrl:"/Templates/EventDetails/availableEvents.html",scope:{skillName:"@",content:"@"},link:function(e){var t=e,n=l.getCurrentLang();t.getUrl="/Events?lang="+n+"#!?skillNames="+encodeURIComponent(t.skillName+"-skill")}}}e.$inject=["CommonService"]}();
"use strict";angular.module("rd.main").run(["$rootScope","$uibModal","$http","GtmTokenService","$location",function(n,e,a,i,c){n.cancelRegistrationOnEventPopup=function(o){return e.open({animation:!0,size:"lg",backdrop:"static",windowClass:"cancel-registration-to-event-popup",templateUrl:"/Templates/EventDetails/cancelRegistrationOnEventPopup.html",controller:["$scope","$uibModalInstance",function(n,e){var t=n;t.cancelRegistrationOnEvent=function(n){if(!n.$valid)return;c.search("doNotOpenRegistrationEventPopup"),a.post("/api/registration-wizard/event/cancel-registration",{EventId:o,Reason:t.reason,ReasonType:"AppliedByMistake"}).then(function(){i.sendSuccessfulCancelEventRegistration(o),e.close(),window.location.reload()})},t.cancel=function(){e.close()},t.reason=""}]})}}]);
"use strict";!function(){angular.module("rd.main").directive("eventCardDescription",t);function t(n){return{restrict:"E",scope:{eventStartDate:"=",eventEndDate:"=",eventLanguage:"=",eventFormat:"=",eventLocation:"="},replace:!0,templateUrl:"/Templates/EventDetails/eventCardData.html",link:function(t){var e=t;e.parsedCountries=e.eventLocation.reduce(function(t,e){var n=t.find(function(t){return t.name===e.Country});return n?e.City&&n.cities.push(e.City):t.push({name:e.Country,cities:e.City?[e.City]:[]}),t},[]),e.formattedStartDate=window.innerWidth<360?n(e.eventStartDate).format("L"):n(e.eventStartDate).format("LL"),e.startTime=n(e.eventStartDate).format("HH:mm")}}}t.$inject=["moment"]}();
"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){angular.module("rd.main").directive("eventCards",e);function e(g,b,h,D,E,T,S,j){return{restrict:"E",scope:{eventsJson:"@"},templateUrl:"/Templates/EventDetails/EventCards.html",link:function(e){j(function(){S.sendViewEventsPage()});var a=e,n=["country","skill","language","tag"],t=T.get("NotPostedEventName");if(a.events=JSON.parse(a.eventsJson).filter(function(e){return!(g(e.EndDate).format("x")<Date.now()&&2===e.Status)}),!!a.events.filter(function(e){return g(e.EndDate).format("x")>Date.now()}).length||E.statusPopup(b("Events_NoUpcomingEventsNotification"),"info"),t){var r=$.i18n.prop("Event_HasAlreadyPassed").replace("{0}",t);E.statusPopup(r,"error"),T.remove("NotPostedEventName")}a.currentLang=D.search().lang||h.getCurrentLocale()||"en",a.filters=[{filterTranslation:"Country",items:a.events.reduce(function(t,e){return e.Locations.forEach(function(e){e.Country&&!t.includes(e.Country)&&t.push(e.Country)}),t},[]).sort()},{filterTranslation:"EventFilter_Skill",items:a.events.reduce(function(t,e){return e.Skills.forEach(function(e){t.includes(e)||t.push(e)}),t},[]).sort()},{filterTranslation:"EventFilter_EventLanguage",items:a.events.reduce(function(e,t){return e.includes(t.Language)||e.push(t.Language),e},[]).sort()},{filterTranslation:"EventFilter_Tags",items:a.events.reduce(function(t,e){return e.Tags.forEach(function(e){t.includes(e)||t.push(e)}),t},[]).sort()}].map(function(e,t){return _objectSpread(_objectSpread({},e),{},{items:e.items.map(function(e){return"".concat(e,"-").concat(n[t])}),filterField:"".concat(n[t],"Names"),classToggle:"".concat(n[t],"-toggle"),listClass:"".concat(n[t],"-list")})});var i=[{id:1,class:".future",animateDirectionLeft:"left",animateDirectionTop:"top",positionLeft:"0px",positionTop:"0px"},{id:2,class:".past",animateDirectionLeft:"left",animateDirectionTop:"top",positionLeft:"200px",positionTop:"50px"}];a.filterData=v();var o=[],l=[];function s(e){a.currentTab=e}function c(e){var t,n=$(".event-filter__field-list");n.is(e.target)||0!==n.has(e.target).length||e.srcElement.className.includes("event-filter")||e.srcElement.className.includes("fa-chevron")||(n.hide(),t="active",Array.from($(".event-filter__field-title")).forEach(function(e){$(e).hasClass(t)&&$(e).removeClass("active")}))}function u(){0===Object.values(a.filterData).filter(function(e){return 0<e.length}).length&&history.pushState("",document.title,window.location.pathname)}function f(){a.allFilterFields=Object.values(a.filterData).flat(),a.tabs=a.tabs.map(function(e){var t=1===e.id?l:o;return _objectSpread(_objectSpread({},e),{},{events:t.filter(d).filter(p).filter(m).filter(m).filter(y)})}),a.currentTab=a.tabs.find(function(e){return e.id===a.currentTab.id});var e=a.tabs.every(function(e){return!e.events.length}),t=a.tabs.find(function(e){return e.id!==a.currentTab.id});a.currentTab.events.length||e||(s(t),i.forEach(function(e){e.id===a.currentTab.id&&$(".tab-background").animate(500<window.innerWidth?_defineProperty({},e.animateDirectionLeft,e.positionLeft):_defineProperty({},e.animateDirectionTop,e.positionTop),"fast")}))}function d(e){return!a.filterData.countryNames.length||a.filterData.countryNames&&e.Locations.some(function(e){return a.filterData.countryNames.map(function(e){return e.split("-").slice(0,-1).join("-")}).includes(e.Country)})||!e.Locations[0].Country?e:void 0}function p(e){return!a.filterData.skillNames.length||a.filterData.skillNames&&e.Skills.some(function(e){return a.filterData.skillNames.map(function(e){return e.split("-").slice(0,-1).join("-")}).includes(e)})?e:void 0}function m(e){return!a.filterData.languageNames.length||a.filterData.languageNames&&a.filterData.languageNames.map(function(e){return e.split("-").slice(0,-1).join("-")}).includes(e.Language)?e:void 0}function y(e){return!a.filterData.tagNames.length||a.filterData.tagNames&&e.Tags.some(function(e){return a.filterData.tagNames.map(function(e){return e.split("-").slice(0,-1).join("-")}).includes(e)})?e:void 0}function v(){return a.filters.reduce(function(e,t){return e[t.filterField]=[],e},{})}a.events.forEach(function(e){g(e.EndDate).format("x")<Date.now()?o.push(e):l.push(e)}),o.sort(function(e,t){return g(t.StartDate).diff(e.StartDate)}),a.tabs=[{id:1,title:b("Upcoming"),events:l},{id:2,title:b("PassedEvents"),events:o}],a.currentTab=a.tabs[0],a.allFilterFields=[],a.onEventClick=function(e,t){e.target.className.includes("tooltip")||e.ctrlKey||e.metaKey||(h.showGlobalPreloader(),window.location.href="/Events/Details/"+t+"?lang="+a.currentLang)},a.filterByCountry=d,a.filterBySkill=p,a.filterByLanguage=m,a.filterByTag=y,a.clearAllValues=function(e){a.filterData[e]=[],u(),f()},a.clearFoundedResult=function(r){a.filterData=Object.keys(a.filterData).reduce(function(e,t){var n=_objectSpread(_objectSpread({},e),{},_defineProperty({},t,a.filterData[t].filter(function(e){return e!==r})));return D.search(t,n[t]),n},{}),u(),f()},a.clearAllFoundedResults=function(){a.allFilterFields=[],a.filterData=v(),D.search("skillNames",null),D.search("countryNames",null),D.search("languageNames",null),D.search("tagNames",null),u(),f()},a.generalCheck=function(e,t){a.filterData[e].includes(t)?(a.filterData[e]=a.filterData[e].filter(function(e){return e!==t}),D.search(e,a.filterData[e]),u()):(a.filterData[e].push(t),D.search(e,a.filterData[e]));f()},a.changeTab=s,a.checkAllValues=function(t){var e=a.filters.find(function(e){return e.filterField===t[0]}).items;a.filterData[t]=_toConsumableArray(e),D.search(t,a.filterData[t]),f()},a.toggleActiveField=_.debounce(function(e){var t=e.target.closest(".event-filter__field-title");$(t).hasClass("active")?($(".event-filter__field-title").removeClass("active"),$(".event-filter__field-list").slideUp()):($(".event-filter__field-title").removeClass("active"),$(".event-filter__field-list").hide(),$(t).addClass("active"),$(t.nextElementSibling).slideToggle("slow"))},300),function(){var t={countryNames:"Country",skillNames:"EventFilter_Skill",languageNames:"EventFilter_EventLanguage",tagNames:"EventFilter_Tags"};for(var n in D.$$search){var r=a.filters.filter(function(e){return e.filterTranslation===t[n]});"object"===_typeof(D.$$search[n])?D.$$search[n].forEach(function(e){0<e.length&&r[0].items.includes(e)&&a.filterData[n].push(e.replace(/&/g,""))}):D.$$search[n]&&0<D.$$search[n].length&&r[0].items.includes(D.$$search[n])&&a.filterData[n].push(D.$$search[n])}f()}(),document.addEventListener("click",c),a.$on("$destroy",function(){document.removeEventListener("click",c)}),i.forEach(function(e){$(e.class).on("click",function(){$(".tab-background").animate(500<window.innerWidth?_defineProperty({},e.animateDirectionLeft,e.positionLeft):_defineProperty({},e.animateDirectionTop,e.positionTop),"slow")})})}}}e.$inject=["moment","$translate","CommonService","$location","$rootScope","$cookies","GtmTokenService","$timeout"]}();
"use strict";!function(){angular.module("rd.main").directive("eventDetailsMenuDescription",e);function e(i){return{restrict:"E",scope:{startDate:"@",eventName:"@",endDate:"@",eventId:"@",userRegistrationStatus:"@",userId:"@"},replace:!0,templateUrl:"/Templates/EventDetails/eventDetailsMenuDescription.html",link:function(e){var t=e,a=JSON.parse(t.startDate),n=JSON.parse(t.endDate);t.formattedStartDate=i(a).format("LL"),t.startTime=i(a).format("HH:mm"),t.formattedEndDate=i(n).format("LL"),t.dateDuration=t.formattedStartDate===t.formattedEndDate,window.onscroll=function(){490<=window.pageYOffset?($(".navigation__menu-description").addClass("show-menu-description"),$(".navigation").addClass("show-menu")):($(".navigation__menu-description").removeClass("show-menu-description"),$(".navigation").removeClass("show-menu")),window.pageYOffset>=$(".event-details").height()+$("nav").height()-$(window).height()?$("nav").addClass("fix-item"):$("nav").removeClass("fix-item")}}}}e.$inject=["moment"]}();
"use strict";!function(){angular.module("rd.main").directive("eventNavRecordingItem",e);function e(t){return{restrict:"E",scope:{isUserRejected:"@"},templateUrl:"/Templates/EventDetails/eventNavRecordingItem.html",link:function(e){e.parsedIsUserRejected=t.parseStringBoolean(e.isUserRejected)}}}e.$inject=["CommonService"]}();
"use strict";!function(){angular.module("rd.main").directive("eventRecording",e);function e(o,r){return{restrict:"E",templateUrl:"/Templates/EventDetails/eventRecording.html",scope:{eventRecordLinks:"@",isUserRejected:"@"},link:function(e){var t=e;function n(){localStorage.getItem("scrollToVideo")&&setTimeout(function(){window.scrollTo({top:520,behavior:"smooth"}),localStorage.removeItem("scrollToVideo")},500)}$('[data-id="event-record-links-carousel"]').owlCarousel(),t.parsedEventRecordLinks=JSON.parse(t.eventRecordLinks),t.parsedIsUserRejected=r.parseStringBoolean(t.isUserRejected),t.linkNames=t.parsedEventRecordLinks.map(function(e){return e.Name}),t.currentLinkName=t.linkNames[0],t.EventRecordLinkslinksToContent=t.parsedEventRecordLinks.map(function(e){return r.getEmbeddedVideoUrl(e.RecordLink)}),t.recordLinks=t.EventRecordLinkslinksToContent.map(function(e){return o.trustAsResourceUrl(e)}),t.allowfullscreen=t.isVideoLink?"allowfullscreen":"",t.content=o.trustAsResourceUrl(t.linkToContent),t.isMultiLinks=1<t.EventRecordLinkslinksToContent.length,t.owlCarousel={items:1,loop:!1,rewind:!0,onTranslated:function(e){var n=e.item.index;t.currentLinkName=t.linkNames[n],t.$apply()}},window.addEventListener("load",n),t.$on("$destroy",function(){window.removeEventListener("click",n)})}}}e.$inject=["$sce","CommonService"]}();
"use strict";!function(){angular.module("rd.main").directive("eventDetailsHeader",e);function e(o,r,i,s,c){return{restrict:"E",templateUrl:"/Templates/EventDetails/eventDetailsHeader.html",scope:{eventCustomPicturePath:"@",eventName:"@",startDate:"@",endDate:"@",eventFormat:"@",eventLanguage:"@",eventId:"@",userRegistrationStatus:"@",userId:"@",hasEditPermission:"@",isRegistered:"@",isUserRejected:"@",linkToEvent:"@",locationsJson:"@",applicantStatus:"@",eventStatus:"@",eventRecordLinks:"@"},link:function(e){var t=e,a=JSON.parse(t.startDate),n=JSON.parse(t.endDate);t.canEdit=r.parseStringBoolean(t.hasEditPermission),t.formattedStartDate=i(a).format("LL"),t.startTime=i(a).format("HH:mm"),t.formattedEndDate=i(n).format("LL"),t.imageUrl='url("'.concat(t.eventCustomPicturePath,'")'),t.dateDuration=t.formattedStartDate===t.formattedEndDate,c(function(){s.sendViewEventsDetailPage()}),localStorage.getItem("autoreplyMessage")&&(o.successPopup(localStorage.getItem("autoreplyMessage")),localStorage.removeItem("autoreplyMessage")),t.parsedLocations=JSON.parse(e.locationsJson).reduce(function(e,t){var a=e.find(function(e){return e.name===t.Country});return a?t.City&&a.cities.push(t.City):e.push({name:t.Country,cities:t.City?[t.City]:[]}),e},[]).map(function(e){return"".concat(e.name).concat(e.cities.length?" ("+e.cities.join(", ")+")":"")}).join(", "),t.currentLocation="null"===t.parsedLocations?"Global":t.parsedLocations,$(document).ready(function(){$("#main-placeholder").hide(),$("#main-content").show()})}}}e.$inject=["$rootScope","CommonService","moment","GtmTokenService","$timeout"]}();
"use strict";!function(){angular.module("rd.main").directive("eventDetailsRegistrationButton",e);function e(e,d,c,t,v,l){return{restrict:"E",templateUrl:"/Templates/EventDetails/registrationButton.html",scope:{eventId:"@",eventStatus:"@",isRegistered:"@",userId:"@",startDate:"@",endDate:"@",linkToEvent:"@",positionOnPage:"@",eventFormat:"@",isUserRejected:"@",applicantStatus:"@",eventRecordLinks:"@"},link:function(e){var n=e,t=a(JSON.parse(n.startDate)),i=a(JSON.parse(n.endDate)),o=JSON.parse(n.eventRecordLinks),s="openEventRegPopup",r=localStorage.getItem(s);function a(e){return moment(e).format("x")}n.userIsLogged="0"!==n.userId&&!!n.userId,n.isUserRegistered=c.parseStringBoolean(n.isRegistered),n.parsedIsUserRejected=c.parseStringBoolean(n.isUserRejected),n.isNewApplicant="New"===n.applicantStatus,n.isStaffedStatus="Staffed"===n.eventStatus,n.timeToEventMin=(t-Date.now())/6e4,n.duration=(i-t)/6e4,n.necessaryTimeToShowJoinButtonMin=60,n.showCancelRegistrationButton=i>Date.now()&&n.isUserRegistered&&!n.parsedIsUserRejected,n.isEventEnded=i<Date.now(),n.showRecordingButtom=n.isEventEnded&&!!o.length,n.showJoinEventButton=0<n.timeToEventMin+n.duration&&n.timeToEventMin<=n.necessaryTimeToShowJoinButtonMin&&n.isUserRegistered&&n.linkToEvent&&!n.parsedIsUserRejected&&!n.isNewApplicant,n.isOfflineEvent="Offline"===n.eventFormat,n.redirectToLogin=function(){var e="?lang="+c.getCurrentLang(),t="/Events/Details/"+n.eventId+e+"&forceOpenRegistrationPopup";localStorage.setItem(s,!0),l.login(t)},n.registerOnEvent=function(){localStorage.removeItem(s),d.registerOnEventPopup(n.eventId,n.isEventEnded,n.isOfflineEvent,n.positionOnPage)},n.cancelRegistrationOnEvent=function(){d.cancelRegistrationOnEventPopup(n.eventId)},n.joinOnlineHandler=function(){v.sendEventJoinOnline(n.eventId)},r&&!n.isUserRegistered&&l.isLoggedUser()&&(localStorage.removeItem(s),d.registerOnEventPopup(n.eventId,n.isEventEnded,n.isOfflineEvent)),n.isStaffedStatus||!window.location.search.includes("key")||window.location.href.includes("doNotOpenRegistrationEventPopup")||n.isUserRegistered||!n.userIsLogged||(localStorage.removeItem(s),d.registerOnEventPopup(n.eventId,n.isEventEnded,n.isOfflineEvent))}}}e.$inject=["$location","$rootScope","CommonService","$http","GtmTokenService","LoginService"]}();
"use strict";function ownKeys(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}!function(){angular.module("rd.main").directive("eventDetailsSpeakers",e);function e(){return{restrict:"E",templateUrl:"/Templates/EventDetails/speakers.html",scope:{speakersJson:"@"},link:function(e){var r=e;r.speakers=JSON.parse(r.speakersJson).sort(function(e,r){return e.OrderNumber-r.OrderNumber}).map(function(e){return _objectSpread(_objectSpread({},e),{},{Avatar:e.Avatar?_objectSpread(_objectSpread({},e.Avatar),{},{Path:'"'.concat(e.Avatar.Path,'"')}):null})}),r.owlCarousel={items:1,responsive:{0:{items:1},768:{items:2},992:{items:3},1240:{items:4},1540:{items:4}},loop:!1,rewind:!0};var t,n=1240<=window.innerWidth&&r.speakers.length<=4||992<=window.innerWidth&&r.speakers.length<=3||768<=window.innerWidth&&r.speakers.length<=2;t=!n,r.owlCarousel.mouseDrag=t,r.owlCarousel.touchDrag=t}}}e.$inject=[]}();
"use strict";angular.module("rd.main").directive("toggleCardBackground",function(){return{restrict:"A",scope:{mainPicture:"@",cardPicture:"@"},link:function(t,e){var i=t;i.cardPicture=i.cardPicture||"https://"+window.location.host+"/Content/images/default/events-card-mobile.jpg",i.mainPicture=i.mainPicture||"https://"+window.location.host+"/Content/images/default/events.jpg",i.getBackgroundPath=$(window).width()<767?i.mainPicture:i.cardPicture,$(e).css("background-image",'url("'.concat(i.getBackgroundPath,'")'))}}});
"use strict";!function(){angular.module("rd.main").directive("newsArticleImage",e);function e(a){return{restrict:"E",scope:{newsId:"@",imageName:"@",newsClass:"@",newsCategory:"@",newsCulture:"@"},replace:!0,templateUrl:"/Templates/News/NewsArticleImage.html",link:function(e){var t=e;t.imagePath="/static/news/"+t.newsId,t.getLinkToNews=a.getLinkToNews(t.newsId)+t.newsCulture,t.imageName&&~t.imageName.indexOf(".")||(t.imagePath="/Content/images/default",t.imageName="news.jpg")}}}e.$inject=["NewsService"]}();
"use strict";!function(){angular.module("rd.main").directive("newsDetailsContent",e);function e(i,t){return{restrict:"E",templateUrl:"/Templates/News/NewsDetailsContent.html",scope:{link:"@",linkType:"@"},link:function(e){var n=e;n.isVideoLink="video"===n.linkType,n.linkToContent=n.isVideoLink?t.getEmbeddedVideoUrl(n.link):t.getEmbeddedQuizUrl(n.link),n.allowfullscreen=n.isVideoLink?"allowfullscreen":"",n.content=i.trustAsResourceUrl(n.linkToContent)}}}e.$inject=["$sce","CommonService"]}();
"use strict";angular.module("rd.main").directive("newsImages",function(){return{restrict:"E",templateUrl:"/Templates/News/NewsImages.html",scope:{images:"@",id:"@",subject:"@"},link:function(e){var s=e;s.imagesLinks=JSON.parse(s.images),s.isCarouselReady=!0,s.owlCarousel={items:1,loop:!1,rewind:!0}}}});
"use strict";!function(){angular.module("rd.main").directive("newsLikes",e);function e(t,l){return{restrict:"E",templateUrl:"/Templates/News/NewsLikes.html",scope:{likes:"@",newsId:"@"},link:function(e){var n=e;function s(){return t.get("newsLikes")||[]}function i(){return s().includes(n.newsId)}n.isLike=i(),n.addLike=function(){i()||l.addLike(n.newsId).then(function(e){var i=s();n.likes=e.data.likesTotal,n.isLike=!0,i.push(n.newsId),t.set("newsLikes",i),$(".news-item__like").addClass("news-item__like--active"),$(".likes-counter").text(n.likes)})}}}}e.$inject=["localStorageService","NewsService"]}();
"use strict";angular.module("rd.main").directive("newsPublishedDate",function(){return{restrict:"E",templateUrl:"/Templates/News/PublishedDate.html",scope:{publishedDate:"@"}}});
"use strict";angular.module("rd.main").run(["$rootScope","$state","$uibModal",function(e,t,l){e.bulletDescriptionPopup=function(n,o,i){return l.open({animation:!0,windowClass:"bullet-description-popup",templateUrl:"/Templates/Psy/BulletDescriptionPopupTemplate.html",controller:["$scope","$uibModalInstance",function(e,t){e.title=n,e.description=o,e.headerColor=i,e.cancel=function(){t.dismiss("cancel")}}]})}}]);
"use strict";function ownKeys(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}!function(){angular.module("rd.main").directive("bulletsDescribingValues",e);function e(n,e,t){return{restrict:"E",templateUrl:"/Templates/Psy/BulletsDescribingValues.html",scope:{profile:"@",tendencyDescriptions:"@"},link:function(e){var r=e;r.openDescription=function(e,r,t){n.bulletDescriptionPopup(e,r,t)},r.parsedtendencyDescriptions=JSON.parse(r.tendencyDescriptions),r.parsedProfile=JSON.parse(r.profile),r.PSY_TEST_RESULT_COLORS=t,r.parsedProfile=r.parsedProfile.map(function(e,t){return _objectSpread(_objectSpread({},e),{},{title:r.parsedtendencyDescriptions.find(function(e,r){return t===r}).Title,description:r.parsedtendencyDescriptions.find(function(e,r){return t===r}).Desc})})}}}e.$inject=["$rootScope","$translate","PSY_TEST_RESULT_COLORS"]}();
"use strict";!function(){angular.module("rd.main").directive("encodedResult",e);function e(t,o,c){return{restrict:"E",templateUrl:"/Templates/Psy/EncodedResult.html",scope:{encData:"@"},link:function(e){var n=e;n.link=window.location.href,n.copyResultLink=function(e){c.copyLinkHref(e,n.link),t.statusPopup(o("InformationCopiedSuccessfully"),"success")}}}}e.$inject=["$rootScope","$translate","CommonService"]}();
"use strict";!function(){angular.module("rd.main").directive("psyBanner",e);function e(n,t){return{restrict:"E",templateUrl:"/Templates/Psy/TestBanner.html",link:function(e){e.bannerContent=n("CareerTestBanner_Text"),e.careerTestHandler=t.sendClickCareerTestEvent}}}e.$inject=["$translate","GtmTokenService"]}();
"use strict";function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(){angular.module("rd.main").directive("psyCardLearnMore",e);function e(a,c,l){return{restrict:"E",templateUrl:"/Templates/Psy/PsyCardLearnMore.html",scope:{careerGuidance:"@",professions:"@",encData:"@"},link:function(e){var t=e,r=JSON.parse(t.professions),n=["PsyTestResult_CardFullDesc_softwareengineer_frontend","PsyTestResult_CardFullDesc_softwareengineer_backend","PsyTestResult_CardFullDesc_testing","PsyTestResult_CardFullDesc_set","PsyTestResult_CardFullDesc_systemsengineer","PsyTestResult_CardFullDesc_design","PsyTestResult_CardFullDesc_businessanalysis","PsyTestResult_CardFullDesc_dataanalysis"];t.imagePath=window.location.origin+"/Content/images/default/psyTestCard.jpg",t.careerCards=JSON.parse(t.careerGuidance).map(function(t){return _objectSpread(_objectSpread({},t),{},{skills:i(t).map(function(e){return e.Name}).join(", "),skillsIds:i(t).map(function(e){return e.Id}).join(","),fullDescription:n.find(function(e){return e.includes(t.PositionKey)})})});var s=localStorage.getItem("testCodedData");if(s&&s===e.encData&&localStorage.getItem("psy-answers")){var o=t.careerCards.map(function(t){return{ProfessionId:r.find(function(e){return e.PositionKey.includes(t.PositionKey)}).Id,Compatibility:t.Compatibility}});localStorage.removeItem("psy-answers"),c.post("SaveAnswers",o)}function i(t){return r.find(function(e){return e.PositionKey.includes(t.PositionKey)}).Skills}t.showFullDescription=function(e){a.psyLearnMorePopup(e)},t.linkHandler=l.sendClickLinkProfessionsCard}}}e.$inject=["$rootScope","$http","GtmTokenService"]}();
"use strict";angular.module("rd.main").run(["$rootScope","$state","$uibModal","GtmTokenService",function(n,e,o,a){n.psyLearnMorePopup=function(r){return o.open({animation:!0,size:"lg",windowClass:"psy-test-learn-more-popup",templateUrl:"/Templates/Psy/PsyLearnMorePopup.html",controller:["$scope","$uibModalInstance",function(n,e){var o=n;o.card=r,n.cancel=function(){e.dismiss("cancel")},o.linkHandler=a.sendClickLinkProfessionsCard}]})}}]);
"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=r[t];return a}!function(){angular.module("rd.main").directive("psySpiderChart",n);n.$inject=["PSY_TEST_RESULT_COLORS"];var r=window.location.search,e=new URLSearchParams(r),t=e.get("encdata"),a=e.get("lang");function n(o){return{restrict:"E",templateUrl:"/Templates/Psy/PsySpiderChart.html",scope:{tendencies:"@",profile:"@"},link:function(n){$(document).ready(function(){var r=n,e=JSON.parse(r.profile),t=Object.values(o);r.profileValues=_toConsumableArray(e.map(function(r){return r.Value}));var a=document.getElementById("spider-chart").getContext("2d");new Chart(a,{type:"radar",data:{labels:JSON.parse(r.tendencies),datasets:[{fill:!0,pointBorderColor:_toConsumableArray(t),pointBackgroundColor:_toConsumableArray(t),data:r.profileValues,backgroundColor:["rgba(201,179,179,0.35)"],borderColor:["rgba(201,179,179,0.53)"]}]},options:{plugins:{legend:!1},responsive:!0,maintainAspectRatio:!0}})})}}}t&&(window.location.href="/"+(a||"en")+"/career-test/result/"+t)}();
"use strict";!function(){angular.module("rd.main").directive("startTestButton",t);function t(t,e,a){return{restrict:"E",templateUrl:"/Templates/Psy/StartTestButton.html",scope:{encData:"@"},link:function(t){var e=t;e.sameUser=localStorage.getItem("testCodedData")===e.encData,e.buttonHandler=e.sameUser?a.sendClickRestartTestEvent:a.sendClickStartTestEvent}}}t.$inject=["$rootScope","$translate","GtmTokenService"]}();
"use strict";!function(){angular.module("rd.main").directive("anchorButton",n);function n(o,i,e){return{restrict:"E",templateUrl:"/Templates/TrainingDetails/anchorButtonTemplate.html",scope:{isShowTrainerEditorButtonsBack:"@",anchorName:"@"},link:function(n){var t=n;t.isShowTrainerEditorButtons=o.parseStringBoolean(n.isShowTrainerEditorButtonsBack),t.copyAnchorLink=function(n,t){var r=o.createTrainingAnchorLink(t);o.copyLinkHref(n,r),i.statusPopup(e("LinkCopiedSuccessfully"),"success")}}}}n.$inject=["CommonService","$rootScope","$translate"]}();
"use strict";!function(){angular.module("rd.main").directive("contactItem",e);function e(t){return{restrict:"E",templateUrl:"/Templates/TrainingDetails/contactItemTemplate.html",scope:{isPersonBack:"@",name:"@",email:"@",phone:"@",contactId:"@",isMobile:"=",description:"@"},link:function(e){e.isPerson=t.parseStringBoolean(e.isPersonBack)}}}e.$inject=["CommonService"]}();
"use strict";!function(){angular.module("rd.main").directive("descriptionBlock",e);function e(o,i,r,n){return{restrict:"E",templateUrl:"/Templates/TrainingDetails/descriptionBlockDirectiveTemplate.html",scope:{trainingId:"@",blockContentBack:"@",blockType:"@",isShowTrainerEditorButtonsBack:"@",technicalRequirementsAttachmentId:"@",orderNumber:"=",name:"@",blockColor:"@",blockHeader:"@",headerColor:"@"},link:function(e){var t=e;t.trustAsHtml=i.trustAsHtml,t.Id=e.trainingId,t.isShowTrainerEditorButtons=i.parseStringBoolean(e.isShowTrainerEditorButtonsBack),t.blockContent=e.blockContentBack&&"<p><br></p>"!=e.blockContentBack&&"<br>"!=e.blockContentBack?i.replaceUnicodeSpaces(e.blockContentBack):null,t.video=t.blockContent&&n.trustAsResourceUrl(t.blockContent),t.copyAnchorLink=function(e,t){var n=i.createTrainingAnchorLink(t);i.copyLinkHref(e,n),o.statusPopup(r("LinkCopiedSuccessfully"),"success")},t.headerColor=t.headerColor||"#000000",t.blockTemplate=function(){switch(e.blockType){case"RequiredSkills":return"/Templates/TrainingDetails/requiredSkillsContent.html";case"NotMeetRequirements":return"/Templates/TrainingDetails/additionalSkillsContent.html";case"ChooseTraining":return"/Templates/TrainingDetails/whoContent.html";case"TrainingProgram":return"/Templates/TrainingDetails/moreDetailsContent.html";case"HowToJoin":return"/Templates/TrainingDetails/joinContent.html";case"PaidConsultation":return"/Templates/TrainingDetails/paidConsultationContent.html";case"VideoLink":return"/Templates/TrainingDetails/videoBlockContent.html";case"Custom":return"/Templates/TrainingDetails/customBlockContent.html";default:return null}}()}}}e.$inject=["$rootScope","CommonService","$translate","$sce"]}();
"use strict";!function(){angular.module("rd.main").directive("trainingDetailsFooter",e);function e(t,r,a,e,s){return{restrict:"E",templateUrl:"/Templates/TrainingDetails/footerBlockDirectiveTemplate.html",scope:{trainingId:"@",isUserRegisteredOnTrainingBack:"@",isTemporaryRejectedBack:"@",isAllowedToCancelRegistrationBack:"@",isAllowedToReRegisterBack:"@",isUserCanceledRegistrationBack:"@",rejectionExpirationDate:"@",mainSkillId:"@",planPricingTypeId:"=",externalTrainingLink:"@",name:"@",subscribeCityId:"=",price:"@",currency:"@",publicOfferAttachmentId:"@",taxValue:"@",statusId:"=",trainingCountriesJson:"@"},link:function(e){var n=e;function i(e){var i=e.split(".");return 1<i.length?0<Number(i[1])?i[0]+"."+i[1].substring(0,2):i[0]:e}n.Id=e.trainingId,n.isUserRegisteredOnTraining=a.parseStringBoolean(e.isUserRegisteredOnTrainingBack),n.isTemporaryRejected=a.parseStringBoolean(e.isTemporaryRejectedBack),n.isAllowedToCancelRegistration=a.parseStringBoolean(e.isAllowedToCancelRegistrationBack),n.isAllowedToReRegister=a.parseStringBoolean(e.isAllowedToReRegisterBack),n.isUserCanceledRegistration=a.parseStringBoolean(e.isUserCanceledRegistrationBack),n.trainingCountries=s.countriesAdapter(n.trainingCountriesJson),n.isPaidTraining=function(){return n.planPricingTypeId===t.PAID},n.isExternalTraining=function(){return!!n.externalTrainingLink},n.isRegistrationClosed=function(){return[r.DRAFT,r.FORM_GROUP,r.STARTED,r.FINISHED,r.CANCELED,r.REGISTRATION_CLOSED].includes(n.statusId)},n.isPlannedTraining=function(){return n.statusId===r.PLANNED},n.isClosedTraining=function(){return[r.DRAFT,r.FORM_GROUP,r.STARTED,r.FINISHED,r.CANCELED,r.REGISTRATION_CLOSED].includes(n.statusId)},n.submitCancelRegistration=function(){var e=a.getCurrentLocale(),i=e?"?lang="+e:"";window.location.href="/Training/Details/"+n.Id+i},n.formattedPrice=n.price,n.formattedTax=n.taxValue,n.price&&(n.formattedPrice=i(n.price)),n.taxValue&&(n.formattedTax=i(n.taxValue)),$(document).ready(function(){$("#main-placeholder").hide(),$("#main-content").show()})}}}e.$inject=["PRICE_TYPES","PLAN_STATUSES","CommonService","$location","TrainingDetailService"]}();
"use strict";!function(){angular.module("rd.main").directive("trainingDetailsHeader",i);function i(r,s,o,l,c,g,i,T,d,u,p){return{restrict:"E",templateUrl:"/Templates/TrainingDetails/headerBlockDirectiveTemplate.html",scope:{trainingId:"=",isUserRegisteredOnTrainingBack:"@",isTemporaryRejectedBack:"@",isAutoRejectedBack:"@",isAllowedToCancelRegistrationBack:"@",isAllowedToReRegisterBack:"@",isUserCanceledRegistrationBack:"@",rejectionExpirationDate:"@",mainSkillId:"=",planPricingTypeId:"=",workFlowStatusId:"=",planPricingType:"@",planPricingTranslation:"@",planFormatType:"@",planFormatTranslation:"@",externalTrainingLink:"@",name:"@",planProgramTranslation:"@",planLevelTranslation:"@",isShowTrainerEditorButtonsBack:"@",subscribeCityId:"=",price:"@",currency:"@",statusId:"=",planOwnerId:"=",assignmentContainerId:"=",isShowAssignmentContainerLinkBack:"@",isShowEnglishTestLinkBack:"@",trainingCountriesJson:"@"},link:function(i){var e=i;function n(){return e.isShowAssignmentContainerLink&&0!==e.assignmentContainerId&&0!==e.planOwnerId}if(e.Id=i.trainingId,e.englishTest=c("TrainingDetails_EnglishTest"),e.registrationTest=c("TrainingDetails_RegistrationTest"),e.notificationOneTest=c("TrainingDetails_NotificationOneTest"),e.forceOpenCancelRegistration=window.location.search.includes("forceOpenCancelRegistration"),e.trainingCountries=l.countriesAdapter(e.trainingCountriesJson),e.isAutoRejected=d.parseStringBoolean(i.isAutoRejectedBack),e.isUserRegisteredOnTraining=d.parseStringBoolean(i.isUserRegisteredOnTrainingBack),e.isTemporaryRejected=d.parseStringBoolean(i.isTemporaryRejectedBack),e.isAllowedToCancelRegistration=d.parseStringBoolean(i.isAllowedToCancelRegistrationBack),e.isAllowedToReRegister=d.parseStringBoolean(i.isAllowedToReRegisterBack),e.isUserCanceledRegistration=d.parseStringBoolean(i.isUserCanceledRegistrationBack),e.isShowTrainerEditorButtons=d.parseStringBoolean(i.isShowTrainerEditorButtonsBack),e.isShowAssignmentContainerLink=d.parseStringBoolean(i.isShowAssignmentContainerLinkBack),e.isShowEnglishTestLink=d.parseStringBoolean(i.isShowEnglishTestLinkBack),e.isShowFreemiumBanner=function(){return e.isUserRegisteredOnTraining&&e.planPricingTypeId===r.FREEMIUM&&[s.ACCEPTED,s.STUDENT].includes(e.workFlowStatusId)},e.isExternalTraining=function(){return!!e.externalTrainingLink},e.isPaidTraining=function(){return e.planPricingTypeId===r.PAID},e.isRegistrationClosed=function(){return[o.DRAFT,o.FORM_GROUP,o.STARTED,o.FINISHED,o.CANCELED,o.REGISTRATION_CLOSED].includes(e.statusId)},e.isPlannedTraining=function(){return e.statusId===o.PLANNED},e.isClosedTraining=function(){return[o.DRAFT,o.FORM_GROUP,o.STARTED,o.FINISHED,o.CANCELED,o.REGISTRATION_CLOSED].includes(e.statusId)},e.submitCancelRegistration=function(){var i=d.getCurrentLocale(),n=i?"?lang="+i:"";window.location.href="/Training/Details/"+e.Id+n},e.isShowNotificationBanner=function(){return $.cookie("isLogged")&&!g.forceOpenCancelRegistration&&(e.isShowAssignmentContainerLink||e.isShowEnglishTestLink)},e.isUserNeedRegistrationTest=n,e.takeTest=function(i){i.preventDefault(),i.target.classList.contains("english-link")?T.confirmationPopup(c("RedirectToEnglishTest"),function(){u.open(i.target.href)}):i.target.classList.contains("test-link")&&T.confirmationPopup(c("RedirectToRegistrationTest"),function(){u.open(i.target.href)})},e.breadCrumbs=[{text:"Home",link:"/"},{text:"TrainingList",link:"/training"}],p.sendTrainingDetailsEvent(e.trainingId,e.name,e.trainingCountries),e.forceOpenCancelRegistration&&e.isAllowedToCancelRegistration&&T.cancelRegistrationPopup(e.Id,e.submitCancelRegistration),e.formattedPrice=e.price,e.price&&(e.formattedPrice=function(i){var n=i.split(".");if(1<n.length)return 0<Number(n[1])?n[0]+"."+n[1].substring(0,2):n[0];return i}(e.price)),e.isShowNotificationBanner()){window.innerWidth<768&&$("#mobileNotification").modal("show");var t='<a href="/UserProfile/StartEnglishTest" class="english-link" target="_blank">'+e.englishTest+"</a>",a='<a href="/api/AssignmentContainer/'+e.assignmentContainerId+"/"+e.planOwnerId+'/link" class="test-link" target="_blank">'+e.registrationTest+"</a>";n()&&e.isShowEnglishTestLink?e.trainingNotification=c("TrainingDetails_Notification").format(t,a):n()?e.trainingNotification=c("TrainingDetails_NotificationOneTest").format(a):e.isShowEnglishTestLink&&(e.trainingNotification=c("TrainingDetails_NotificationOneTest").format(t))}}}}i.$inject=["PRICE_TYPES","WORKFLOW_STATUSES","PLAN_STATUSES","TrainingDetailService","$translate","$stateParams","$location","$rootScope","CommonService","BlankWindowService","GtmTokenService"]}();
"use strict";!function(){angular.module("rd.main").directive("recommendedTrainings",i);function i(e){return{restrict:"E",templateUrl:"/Templates/TrainingDetails/recommendedTrainingCardTemplate.html",scope:{disabledTrainingsBack:"@",registeredTrainingsBack:"@",recommendedTrainingsBack:"@"},link:function(i){var n=i;n.disabledTrainings=n.disabledTrainingsBack?JSON.parse(n.disabledTrainingsBack):[],n.registeredTrainings=n.registeredTrainingsBack?JSON.parse(n.registeredTrainingsBack):[],n.recommendedTrainings=n.recommendedTrainingsBack?JSON.parse(n.recommendedTrainingsBack):[],n.viewMoreTrainings=function(){n.limitViewTrainings=n.recommendedTrainings.length},n.limitTrainingCards=function(){var i=e.screen.width;n.limitViewTrainings=1540<=i||i<1540&&1240<=i?4:i<1240&&992<=i?3:i<992&&767<=i?2:6},n.limitTrainingCards()}}}i.$inject=["$window"]}();
"use strict";!function(){angular.module("rd.main").directive("timeInfo",e);function e(n,a){return{restrict:"E",templateUrl:"/Templates/TrainingDetails/timeInfoTemplate.html",scope:{statusId:"=",endDate:"@",startDate:"@",showPreciseDatesBack:"@",expectedFrequency:"@"},link:function(e){var t=e;t.showPreciseDates=a.parseStringBoolean(e.showPreciseDatesBack),t.trainingDurationInDays=(new Date(t.endDate)-new Date(t.startDate))/1e3/86400,t.isPlannedTraining=function(){return t.statusId===n.PLANNED},t.formatTrainingDate=function(e){return t.showPreciseDates?moment(e).format("D MMMM YYYY"):moment(e).format("MMMM YYYY")},t.getWeeksTrainingDuration=function(){return Math.abs(Math.ceil(t.trainingDurationInDays/7))}}}}e.$inject=["PLAN_STATUSES","CommonService"]}();
"use strict";!function(){angular.module("rd.main").directive("trainingButton",i);function i(e,i,t,r,n,a,o,s){return{restrict:"E",templateUrl:"/Templates/TrainingDetails/buttonContent.html",scope:{isExternalTraining:"=",isPlannedTraining:"=",isClosedTraining:"=",isUserRegistered:"=",isUserTemporaryRejected:"=",isAllowedToCancelRegistration:"=",isAllowedToReRegister:"=",isUserCanceledRegistration:"=",isAutoRejected:"=",rejectionDate:"=",trainingId:"=",externalLink:"=",skillId:"=",cityId:"=",submitCancelRegistration:"&",trainingCountries:"="},link:function(i){var n=i;n.externalRegisterOnTraining=function(){window.location.href=n.externalLink},n.registerOnTraining=function(){s.sendTrainingRegisterClickEvent(n.trainingId);var i="/Root#!/TrainingRegistration/"+n.trainingId;a.isLoggedUser()?window.location.href=i:a.login(i)},n.reRegisterOnTraining=function(){var i=t("date")(n.rejectionDate,"dd.MM.yyyy HH:mm");e.successPopup(r("RegistrationClosedUntil")+" "+i+" (UTC+0).")},n.subscribeOnTraining=function(){e.subscribeTrainingPopup(n.cityId,n.skillId,n.trainingId,n.trainingCountries)},n.showCancelRegistrationPopup=function(){e.cancelRegistrationPopup(n.trainingId,n.submitCancelRegistration())}}}}i.$inject=["$rootScope","$state","$filter","$translate","TrainingDetailService","LoginService","$http","GtmTokenService"]}();
"use strict";!function(){angular.module("rd.main").directive("trainingLanguage",n);function n(n){return{restrict:"E",templateUrl:"/Templates/TrainingDetails/trainingLanguageTemplate.html",scope:{languageId:"@"},link:function(a){var e=a;e.languages=n,e.getTrainingLanguageName=function(){var n=_.findWhere(e.languages,{id:a.languageId});return n?n.title:""}}}}n.$inject=["LANGUAGES"]}();
"use strict";angular.module("rd.main").directive("tabs",function(){return{restrict:"E",scope:{tabs:"=",currentTab:"="},templateUrl:"/Templates/Tabs/Tabs.html",link:function(t){var a=t;a.changeTab=function(t){a.currentTab=t}}}});
"use strict";angular.module("rd.main").directive("centerSkillCard",["$state",function(i){return{restrict:"E",replace:!0,scope:!0,templateUrl:"/Templates/TrainingList/CenterSkillCard.html",link:function(i){var l=i;l.isOpened=!1,l.onSkillCardClick=function(i,e){l.localizedSkillIds.includes(i)?window.location.href="/Skills/"+e:(l.isOpened=!l.isOpened,l.navButtonsVisibility(l.isOpened))}}}}]);
"use strict";angular.module("rd.main").directive("skillsList",["$rootScope","$state","$q","TrainingListService","SkillsDescriptionsService",function(i,e,l,t,s){return{restrict:"E",replace:!0,scope:{},templateUrl:"/Templates/TrainingList/SkillsList.html",link:function(i){var e=i;l.all([s.getActive(),t.getSkills()]).then(function(i){e.localizedSkillIds=i[0].data,e.skills=i[1].data.map(function(i){return i.isLinked=e.localizedSkillIds.includes(i.Id),i})})}}}]);
"use strict";angular.module("rd.main").directive("trainingCard",["$rootScope","$location","$translate","$state","$filter","TrainingDetailService","CommonService","LoginService","GtmTokenService","PRICE_TYPES","TRAINING_FORMATS","PLAN_STATUSES","WORKFLOW_STATUSES","LANGUAGES","$http",function(t,r,a,n,o,i,s,g,l,c,d,u,e,T,I){return{restrict:"E",replace:!0,scope:{registeredTrainings:"=",disabledTrainings:"=",trainingItem:"="},templateUrl:"/Templates/TrainingList/TrainingCard.html",link:function(n){var e=n;e.currentLang=r.search().lang||s.getCurrentLocale()||"en",e.externalRegisterOnTraining=function(){window.location.href=e.trainingItem.ExternalTrainingLink},e.registerOnTraining=function(){var n="/Root#!/TrainingRegistration/"+e.trainingItem.Id;l.sendTrainingCardRegisterClickEvent(e.trainingItem.Id),g.isLoggedUser()?window.location.href=n:g.login(n)},e.reRegisterOnTraining=function(){var n=_.find(e.registeredTrainings,{PlanId:e.trainingItem.Id}),i=o("date")(n.RejectionExpirationDate,"dd.MM.yyyy HH:mm");t.successPopup(a("RegistrationClosedUntil")+" "+i+" (UTC+0).")},e.cancelTraining=function(){window.location.href="/Training/Details/"+e.trainingItem.Id+"?lang="+r.search().lang+"&forceOpenCancelRegistration=true"},e.subscribeOnTraining=function(){var n=1==e.trainingItem.PlanLocations.length?e.trainingItem.PlanLocations[0].CityId:null;t.subscribeTrainingPopup(n,e.trainingItem.MainSkillId,e.trainingItem.Id,e.trainingItem.PlanLocations)},e.isExternalTraining=function(){return!!e.trainingItem.ExternalTrainingLink},e.isRegisteredTraining=function(){var n=_.find(e.registeredTrainings,{PlanId:e.trainingItem.Id});return n&&n.IsUserRegisteredOnTraining},e.isDisabledTraining=function(){return!!_.find(e.disabledTrainings,{PlanId:e.trainingItem.Id})},e.isPlannedTraining=function(){return u.PLANNED==e.trainingItem.Status},e.isEndlessTraining=function(){return e.trainingItem.IsEndless},e.isUserTemporaryRejected=function(){var n=_.find(e.registeredTrainings,{PlanId:e.trainingItem.Id});return n&&n.IsTemporaryRejected},e.isAllowReRegister=function(){var n=_.find(e.registeredTrainings,{PlanId:e.trainingItem.Id});return n&&n.IsAllowedToReRegister},e.isAllowCancelRegistration=function(){var n=_.find(e.registeredTrainings,{PlanId:e.trainingItem.Id});return n&&n.IsAllowedToCancelRegistration},e.formatTrainingDate=function(n){return n.IsEndless?a("Training_Ongoing"):n.ShowPreciseDates?moment(n.DateStarted).format("D MMMM YYYY"):s.capitalizeString(moment(n.DateStarted).format("MMMM YYYY"))},e.setTooltipLocations=function(n){n.GroupedLocations=s.getTooltipMultiLocations(n.PlanLocations)},e.getLocation=function(n){return s.getMultiLocationText(n.PlanLocations)},e.isShowTooltipCountry=function(n){return 1<_.size(n.GroupedLocations)},e.isShowLocationTooltip=function(n){var i=n.PlanLocations,e=_.groupBy(n.PlanLocations,"Country");return 1<_.size(e)||1==_.size(e)&&1<_.size(i)},e.getPriceType=function(i){return _.findKey(c,function(n){return n===i}).toLowerCase()},e.getTrainingFormat=function(i){return _.findKey(d,function(n){return n===i}).toLowerCase()},e.getTrainingLanguage=function(n){var i=_.findWhere(T,{id:n});return i?i.key.toUpperCase():""},e.onCardClick=function(n,i){n.target.className.includes("tooltip")||n.ctrlKey||n.metaKey||(s.showGlobalPreloader(),window.location.href="/Training/Details/"+i+"?lang="+r.search().lang,l.sendTrainingCardClickEvent(e.trainingItem.Id))}}}}]);
"use strict";angular.module("rd.main").directive("trainingFilterArea",["$controller","CommonService",function(o,t){return{restrict:"E",replace:!0,scope:{checkedCitiesList:"=selectedLocationList",dropDownActive:"=activeDropDown",dropDownMobileActive:"=activeDropDownMobile",selectedSkills:"=",locationNames:"=",trainingsNames:"=",selectedTypeList:"="},templateUrl:"/Templates/TrainingList/TrainingFilterArea.html",link:function(e){var i=e;i.changeTab=function(e){i.searchFilter="",i.activeTab=e},i.checkTab=function(e){return i.activeTab===e},i.setMobileTab=function(e,o){i.activeMobileTab===o?i.activeMobileTab=null:i.activeMobileTab=o},i.openChoose=function(){i.dropDownActive=!i.dropDownActive,i.searchFilter=""},i.openChooseMobile=function(){i.dropDownMobileActive=!i.dropDownMobileActive},i.collapseFilter=function(e){t.closestByClass(e.target,"filter-toggle")||i.dropDownActive&&(i.dropDownActive=!1,i.$applyAsync());t.closestByClass(e.target,"filter-toggle-mobile")||i.dropDownMobileActive&&(i.dropDownMobileActive=!1,i.$applyAsync())},i.activeMobileTab=null,i.activeTab="Location",o("TrainingTypeTabController",{$scope:e}),o("SkillsTabController",{$scope:e}),o("LocationTabController",{$scope:e}),i.searchFilter="",i.dropDownActive=!1,i.dropDownMobileActive=!1,i.notChoosenCountry=!0,i.loadSkills(),i.loadLocations(),i.loadTypes(),document.addEventListener("click",i.collapseFilter),i.$on("$destroy",function(){document.removeEventListener("click",i.collapseFilter)})}}}]);
"use strict";function _defineProperty(n,i,e){return i in n?Object.defineProperty(n,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[i]=e,n}angular.module("rd.main").directive("trainingFilterList",["$rootScope","$state","$timeout","$window","TrainingListService","CommonService","LoginService","PRICE_TYPES","TRAINING_FORMATS","PLAN_STATUSES",function(e,n,t,r,s,i,a,c,g,u){return{restrict:"E",replace:!0,scope:{selectedSkills:"=selectedSkills"},templateUrl:"/Templates/TrainingList/TrainingFilterList.html",link:function(n){var l=n;function d(n){return n.Status==u.PLANNED?Number.MAX_SAFE_INTEGER:0}function i(n){var i,e,t,r,s,a,o=[];switch(l.sortingType=n){case"hot":o=function(n){for(var i=[],e=_.where(n,{IsEndless:!0,Status:u.REGISTRATION_OPEN}),t=_.where(n,{IsEndless:!1,Status:u.REGISTRATION_OPEN}),r=_.where(n,{Status:u.PLANNED}),s=Math.min(e.length,t.length),a=0;a<s;a++)i.push(t[a],e[a]);return i.concat(e.slice(s),t.slice(s),r)}(o=_.sortBy(l.trainings,function(n){return d(n)||moment(n.DateStarted).unix()}));break;case"planned":_defineProperty(s={},u.DRAFT,0),_defineProperty(s,u.PLANNED,1),_defineProperty(s,u.REGISTRATION_OPEN,2),_defineProperty(s,u.FORM_GROUP,3),_defineProperty(s,u.STARTED,4),_defineProperty(s,u.FINISHED,5),_defineProperty(s,u.CANCELED,6),_defineProperty(s,u.REGISTRATION_CLOSED,7),a=s,o=_.sortBy(l.trainings,function(n){return a[n.Status]||a[u.CANCELED]});break;case"paid":_defineProperty(t={},c.PAID,1),_defineProperty(t,c.FREEMIUM,2),_defineProperty(t,c.FREE,3),r=t,o=_.sortBy(l.trainings,function(n){return d(n)||r[n.PricingId]});break;case"online":_defineProperty(i={},g.ONLINE,1),_defineProperty(i,g.BLENDED,2),_defineProperty(i,g.FACETOFACE,3),e=i,o=_.sortBy(l.trainings,function(n){return d(n)||e[n.FormatId]})}l.trainings=o}l.sortingTypes=[{id:"hot",text:"TrainingList_DateSort",hasTrainings:!0},{id:"planned",text:"TrainingList_PlannedSort",hasTrainings:!1},{id:"online",text:"TrainingList_FormatSort",hasTrainings:!1},{id:"paid",text:"TrainingList_PriceSort",hasTrainings:!1}],l.sortingType=l.sortingTypes[0].id,l.sortTrainings=i,l.limitTrainingCards=function(){var n=r.screen.width;l.limitViewTrainings=1540<=n?30:n<1540&&1240<=n?24:n<1240&&992<=n?12:n<992&&767<=n?8:16},l.viewMoreTrainings=function(){l.limitViewTrainings=l.trainings.length},l.showTrainingBySkills=function(i){var n=l.selectedSkills.find(function(n){return n.Id===i.MainSkillId||i.AdditionalSkillsIds.includes(n.Id)});return l.selectedSkills&&!l.selectedSkills.length||n},l.showTrainingByLocation=function(n){var i=n.PlanLocations.filter(function(n){return null==n.CityId}).map(function(n){return n.CountryId}),e=n.PlanLocations.filter(function(n){return null!==n.CityId}).map(function(n){return n.CityId}),t=_.map(_.keys(_.groupBy(l.selectedLocationList,"CountryId")),function(n){return+n}),r=_.pluck(l.selectedLocationList,"Id"),s=0==n.PlanLocations.length,a=_.intersection(t,i).length,o=_.intersection(r,e).length;return l.selectedLocationList&&!l.selectedLocationList.length||s||a||o},l.showTrainingByType=function(e){var n=["Type","Pricing","Level","Format"];return["PlanTypes","PlanPricingTypes","PlanLevels","PlanFormats"].map(function(n){return l.selectedTypeList&&l.selectedTypeList[n]||[]}).filter(function(n){return 0<n.length}).every(function(i){return n.some(function(n){return _.findWhere(i,{Name:e[n]})})})},l.showTrainingByLanguage=function(n){var i=l.selectedTypeList&&_.pluck(l.selectedTypeList.ProgramLanguages,"Id")||[];return!i.length||0<_.intersection(n.ProgramLanguages,i).length},l.subscribeOnTraining=function(){e.subscribeTrainingPopup()},r.addEventListener("orientationchange",function(){t(l.limitTrainingCards)},!1),s.getTrainings().then(function(n){l.trainings=n.data,_.findWhere(l.sortingTypes,{id:"planned"}).hasTrainings=l.trainings.some(function(n){return u.PLANNED==n.Status}),_.findWhere(l.sortingTypes,{id:"online"}).hasTrainings=l.trainings.some(function(n){return g.ONLINE==n.FormatId}),_.findWhere(l.sortingTypes,{id:"paid"}).hasTrainings=l.trainings.some(function(n){return c.PAID==n.PricingId}),i(l.sortingType),l.limitTrainingCards()}),a.isLoggedUser()?(s.getRegisteredTrainings().then(function(n){l.registeredTrainings=n.data}),s.getDisabledTrainings().then(function(n){l.disabledTrainings=n.data})):(l.registeredTrainings=[],l.disabledTrainings=[])}}}]);
"use strict";angular.module("rd.main").directive("rdUserRoles",["$timeout",function(o){return{controller:function(){},link:function(n,e){o(function(){console.log(e),new UserRoles(e[0])},0)}}}]);
"use strict";!function(){angular.module("rd.main").directive("resume",e);function e(u,o,t,e,c,d,l,i){return{restrict:"E",templateUrl:"/Templates/resume.html",scope:{isRequired:"=",resumeObject:"=",immediateUpdate:"="},link:function(e){var r=e;r.userId=t.params.userId,r.isLoading=!1,r.addFiles=function(e,t){if(3<r.resumeObject.files.length+e.length)return void u.successPopup(o("ResumeUploadCountError"));t.length&&u.statusPopup(o(a[t[0].$error]),"error");var n=_.reject(e,s);n.length!==e.length&&u.statusPopup(o("FileAlreadyUploaded"),"error");r.isLoading=!0;var i=n.map(function(n){return d.postFile(n,"ResumeAttachment").then(function(e){var t={AttachmentId:e.data,CreatedDate:null,FileFormat:n.type,FileName:n.name,FileSize:n.size};r.resumeObject.addedFiles.push(t)}).catch(function(e){u.statusPopup(e.data.Message,"error")})});c.all(i).then(function(){r.isLoading=!1}),r.immediateUpdate&&0<i.length&&c.all(i).then(function(){0<r.resumeObject.addedFiles.length&&l.createResumes(_.pluck(r.resumeObject.addedFiles,"AttachmentId")).then(function(){r.resumeObject.files=r.resumeObject.files.concat(r.resumeObject.addedFiles),r.resumeObject.addedFiles=[],u.statusPopup(o("FileUploaded"))}).catch(function(e){r.resumeObject.addedFiles=[],u.statusPopup(e.data.Message,"error")})})},r.removeFile=function(e,t){u.confirmationPopup(o("Resume_Delete_Warning"),function(){r.resumeObject.removedFiles.push(e),r.resumeObject.files.splice(t,1),0<r.resumeObject.removedFiles.length&&l.deleteResumes(_.pluck(r.resumeObject.removedFiles,"AttachmentId")).then(function(e){r.resumeObject.removedFiles=[]}).catch(function(){u.statusPopup(o("Error_Generic"),"error")})})},r.removeAddedFile=function(e,t){u.confirmationPopup(o("Resume_Delete_Warning"),function(){r.resumeObject.addedFiles.splice(t,1)})},r.getBtnTranslation=function(e){return o(e)},r.downloadResume=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";i.downloadFile(e,"/api/attachment?attachmentId="+t,n)};var a={maxSize:"Upload_Invalid_Filesize",pattern:"Upload_Invalid_Extension"};function s(t){return _.find([].concat(r.resumeObject.files,r.resumeObject.addedFiles),function(e){return e.FileName===t.name})}}}}e.$inject=["$rootScope","$translate","$state","$statusPopup","$q","AttachmentService","EditProfileService","DownloadFilesService"]}();
"use strict";!function(){var e=angular.module("rd.main"),o=/^[a-zA-Z0-9.,_%+-]+@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,4}$/;e.directive("uniqueEmail",["UsersService","$q",function(s,a){return{require:"ngModel",link:function(r,e,n,i){i.$asyncValidators.uniqueEmail=function(n,e){var i=a.defer();return o.test(n)?s.checkEmailUnique(n).success(function(e){e?i.resolve():i.reject(),function(e){{if(!e.match(/@epam.com$/))return r.passwordRequired=!0;r.passwordRequired=!1}r.loadingPmcCredentials='<span class="loading-small"></span>',s.getInfoPmcUser(e).success(function(s,e,n){s&&(!1!==s.authenticated?(r.model=s,$(".addressField").each(function(e,n){var i=$(n).find("select.js-chosen");i.val(s.Address),i.trigger("chosen:updated"),i.trigger("liszt:updated")}),r.model.PhotoSessionId=s.PhotoSessionId):$(document).trigger("openLoginDialog",s))}).finally(function(e,n,i){r.loadingPmcCredentials=""})}(n)}):i.resolve(),i.promise}}}}])}();
"use strict";angular.module("rd.main").directive("location",["$http","$translate","$statusPopup",function(t,i,r){return{scope:{location:"=",index:"=",root:"=",locations:"=",useSpinner:"=",UpdateTaleoLocationsAdministrationPermission:"=updatePermission"},templateUrl:"/Templates/Administration/Dictionaries/StaffingDeskLocations/location.html",link:function(n){function o(t){n.editForm.$setPristine(),n.editForm.$setUntouched(),t.editing=!1,n.root.current=null}n.temp=null,n.editLocation=function(t){n.root.current&&o(n.root.current);n.temp=angular.copy(t),t.editing=!0,n.root.current=t},n.saveChanges=function(e){if(n.editForm.$setSubmitted(),!n.editForm.$valid)return;n.useSpinner.show(),t({url:"/Integration/UpdateLocation",method:"post",data:{id:e.Id,location:{Id:n.temp.Id,Name:n.temp.locationName}}}).success(function(t){n.useSpinner.hide(),e.Id=n.temp.Id,e.locationName=n.temp.locationName,o(e),r({content:t.content,type:"success"})}).error(function(t){$("body").animate({scrollTop:0},"normal"),r({content:i("StaffingDesk_Location_Saved_Error"),type:"error"}),n.useSpinner.hide()})},n.cancelEditing=o}}}]);
"use strict";angular.module("rd.main").filter("ChangeSpaces",function(){return function(n){return n.split(" ").join(" ")}});
"use strict";angular.module("rd.core").filter("localDate",["$filter","$translate",function(a,r){var e=r("Angular_Date_Format"),n=r("Angular_Time_Format");return function(r,t){return a("date")(r,e+(t?" "+n:""))}}]);
"use strict";angular.module("rd.main").filter("MaxCharacters",["$filter",function(n){return function(t,r,i){return t?t&&t.length<=i?t:!0===r?n("limitTo")(t,i=!1):n("limitTo")(t,i)+"...":""}}]);
"use strict";angular.module("rd.main").filter("notificationsFilter",function(){return function(n,r){return"read"===r?n.filter(function(n){return n.Viewed}):"unread"===r?n.filter(function(n){return!n.Viewed}):n}});
"use strict";angular.module("rd.main").filter("propsFilter",function(){return function(r,i){var o=[];if(angular.isArray(r)){var u=Object.keys(i);r.forEach(function(r){for(var e=!1,t=0;t<u.length;t++){var a=u[t],n=i[a].toLowerCase();if(-1!==r[a].toString().toLowerCase().indexOf(n)){e=!0;break}}e&&o.push(r)})}else o=r;return o}});
"use strict";angular.module("rd.main").filter("formatText",function(){return function(r,e,n){return r.replace("{0}",e).replace("{1}","<strong>"+n+"</strong>").replace("{2}",'<span style="color:#FF0000">*</span>')}});
"use strict";angular.module("rd.core").filter("resource",["$translate",function(n){return function(r,t){return n(t+"_"+r)}}]).filter("format",["utils",function(n){return function(r,t){return n.format(r,t)}}]);
"use strict";!function(){function t(i){function t(t){t&&this.fill(t)}return t.prototype.fill=function(t){return angular.extend(this,t),this},t.prototype.fillCountry=function(t){var n=this;return i.findById(n.countryId).then(function(t){n.country=t})},t}angular.module("rd.main").factory("City",t),t.$inject=["CountryService"]}();
"use strict";angular.module("rd.main").factory("Country",function(){function t(t){t&&this.fill(t)}return t.prototype.fill=function(t){return angular.extend(this,t),this},t});
"use strict";!function(){function t(t,n){function i(t){this._groupTitle=n("Department"),t&&this.fill(t)}return i.prototype.fill=function(t){angular.extend(this,t)},i.prototype.fillFaculty=function(n){var i=this;return t.findById(i.facultyId).then(function(t){if(i.faculty=t,n)return i.faculty.fillLocation(!0)})},i.prototype.ViewName=function(){return this.name+", "+(this.faculty.shortName||this.faculty.name)+", "+this.faculty.location.city.name+", "+this.faculty.location.city.country.name},i.prototype.GroupTitle=function(){return this._groupTitle},i}angular.module("rd.main").factory("Department",t),t.$inject=["FacultyService","$translate"]}();
"use strict";!function(){function t(t,i){function n(t){this._groupTitle=i("Location_Address"),t&&this.fill(t)}return n.prototype.fill=function(t){return angular.extend(this,t),this},n.prototype.fillLocation=function(i){var n=this;return t.findById(n.locationId).then(function(t){if(n.location=t,i)return n.location.fillCity(!0)})},n.prototype.ViewName=function(){return(this.shortName||this.name)+", "+this.location.city.name+", "+this.location.city.country.name},n.prototype.GroupTitle=function(){return this._groupTitle},n}angular.module("rd.main").factory("Faculty",t),t.$inject=["LocationService","$translate"]}();
"use strict";!function(){function t(t,i){function n(t){this._groupTitle=i("Location_Address"),t&&this.fill(t)}return n.prototype.fill=function(t){return angular.extend(this,t),this},n.prototype.fillCity=function(i){var n=this;return t.findById(n.cityId).then(function(t){if(n.city=t,i)return n.city.fillCountry(!0)})},n.prototype.ViewName=function(){return(this.shortName||this.name)+", "+this.city.name+", "+this.city.country.name},n.prototype.GroupTitle=function(){return this._groupTitle},n}angular.module("rd.main").factory("Location",t),t.$inject=["CityService","$translate"]}();
"use strict";!function(){function t(i,n,e,t,o,a){function s(t){t&&this.fill(t)}return s.prototype.fill=function(t){return angular.extend(this,t),this},s.prototype.fillAddress=function(i){var n=this;return n.departmentId?t.findById(n.departmentId).then(function(t){if(n.department=t,i)return n.department.fillFaculty(!0).then(function(){return n.faculty=n.department.faculty,n.department.faculty.fillLocation(!0).then(function(){n.location=n.department.faculty.location,n.cityName=n.location.city.name})})}):n.facultyId?o.findById(n.facultyId).then(function(t){if(n.faculty=t,i)return n.faculty.fillLocation(!0).then(function(){n.location=n.faculty.location,n.cityName=n.location.city.name})}):a.findById(n.locationId).then(function(t){if(n.location=t,i)return n.location.fillCity(!0).then(function(t){n.cityName=n.location.city.name})})},s.prototype.fillFromEditModel=function(t){return this.id=t.id,this.name=t.name,this.number=t.roomNumber,this.seatsCount=t.seatsCount,this.text=t.text,this.version=t.version,this.location=null,this.faculty=null,this.department=null,t.address instanceof i&&(this.location=t.address,this.cityName=this.location.city.name),t.address instanceof n&&(this.faculty=t.address,this.location=this.faculty.location,this.cityName=this.location.city.name),t.address instanceof e&&(this.department=t.address,this.faculty=this.department.faculty,this.location=this.department.faculty.location,this.cityName=this.location.city.name),this},s.prototype.toSavingModel=function(){return{id:this.id,name:this.name,roomNumber:this.number,seatsCount:this.seatsCount,text:this.text,version:this.version,location:this.location.id,faculty:this.faculty?this.faculty.id:null,department:this.department?this.department.id:null}},s.prototype.toEditModel=function(){return{id:this.id,name:this.name,roomNumber:this.number,seatsCount:this.seatsCount,text:this.text,version:this.version,address:this.department||this.faculty||this.location}},s}angular.module("rd.main").factory("Room",t),t.$inject=["Location","Faculty","Department","DepartmentService","FacultyService","LocationService"]}();
"use strict";var dialogModule=angular.module("rd.core");dialogModule.factory("dialog",["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$injector","$url",function(i,e,r,l,s,a,p,c,t){e.find("body");var u=void 0;function n(e){var o={modal:!0,width:"auto",resizable:!1,minHeight:"auto",closeText:$.i18n.prop("Close")};this.options=angular.extend({},o,e),this._open=!1}return n.prototype.isOpen=function(){return this._open},n.prototype.open=function(e,o,t){if(!u){var n=this;if(e&&(n.options.templateUrl=e),o&&(n.options.controller=o),!n.options.template&&!n.options.templateUrl)throw new Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");this._loadResolves().then(function(e){var o=e.$scope=n.$scope=e.$scope?e.$scope:l.$new();if(u=angular.element(e.$template),n.options.controller)s(n.options.controller,e);n.options.close=function(){u=void 0,this._open=!1},r(u)(o),o.$on("$locationChangeSuccess",function(){n.close()}),o.$$postDigest(function(){u.dialog(n.options),t&&t()})})}return this.deferred=p.defer(),this.deferred.promise},n.prototype.close=function(e){u.dialog("close"),this.deferred.resolve(e)},n.prototype._loadResolves=function(){var e,t=[],n=[],o=this;return this.options.template?e=p.when(this.options.template):this.options.templateUrl&&(e=i.get(this.options.templateUrl,{cache:a}).then(function(e){return e.data})),angular.forEach(this.options.resolve||[],function(e,o){n.push(o),t.push(angular.isString(e)?c.get(e):c.invoke(e))}),n.push("$template"),t.push(e),p.all(t).then(function(e){var t={};return angular.forEach(e,function(e,o){t[n[o]]=e}),t.dialog=o,t})},{dialog:function(e){return new n(e)},messageBox:function(e,o){return new n({templateUrl:t("/Templates/Core/Dialog/MessageBox.html"),controller:["$scope","dialog","model",function(e,o,t){e.model=t,e.close=function(){o.close()}}],resolve:{model:function(){return{title:e,message:o}}}})}}}]);
"use strict";angular.module("rd.main").service("DocsIntegrationService",["$http",function(c){return{getProcesses:function(){return c.get("api/docs-integration/processes")},getAccountsInfo:function(t,e,n){var i={userIds:e};return c.get("/api/training-management/light-weight-account/"+t+(n?"/info":"/deactivate-info"),{params:i})},actionAccounts:function(t,e,n,i,a){var r=a?{startDate:e,processId:n,users:i}:{userIds:_.pluck(i,"UserId")};return c.post("/api/training-management/light-weight-account/"+t+(a?"/send":"/deactivate"),r)},cancelAccounts:function(t,e){var n={userIds:e};return c.post("/api/training-management/light-weight-account/"+t+"/cancel",n)},getAccountsProgress:function(t){return c.get("/api/training-management/light-weight-account/"+t+"/get-progress")},isUserAllowedCreateAccounts:function(t){return c.get("/api/training-management/light-weight-account/"+t+"/permitted")}}}]);
"use strict";angular.module("rd.main").service("LearningTasksService",["$http",function(a){return{getGroups:function(){return a.get("/api/StudentLearning/tasks")},getTaskInfo:function(n,t,e,s){return a.get("/api/studentLearning/"+(t?"external-tasks/":e?"online-tasks/":"offline-tasks/")+n+"/group/"+s)},submitAnswer:function(n,t,e,s,i){var r={AssignmentId:n,TaskId:i,Comments:t,AttachedLinks:s?[{Url:s,Name:"LinkToAnswer"}]:void 0,AttachedFileIds:e.map(function(n){return n.id})};return a.post("/api/studentLearning/submit",r)}}}]);
"use strict";window,angular.module("rd.main").factory("redirectService",["$location","$window",function(i,r){return{goToOldDesign:function(n,o){n=i.absUrl().replace(/Plan#.*/,n+o),r.location.href=n},goToLink:function(n){r.location.href=n}}}]);
"use strict";angular.module("rd.core").factory("utils",[function(){return{addSyncMethod:function(n,r,t){var a=n[r]=function(){n[r]=function(){},t.apply(n,arguments).always(function(){n[r]=a})}},format:function(t,n){return 1===arguments.length&&(n=[]),2<arguments.length&&!Array.isArray(n)&&(n=$.makeArray(arguments).slice(1)),Array.isArray(n)||(n=[n]),$.each(n,function(n,r){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return r})}),t}}}]);
"use strict";!function(){function n(e){return{getPlan:function(n){return e.get("/ActionPlan/GetActionPlan",{params:n})},toExcel:function(n,t){t.working=!0,e({method:"GET",url:"/ActionPlan/ExportActionPlanToExcel",params:n,headers:{Accept:"application/x-zip-compressed"},responseType:"arraybuffer",transformResponse:function(n){return new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}}).then(function(n){t.working=!1,saveAs(n.data,"ActionPlan.xlsx")})}}}angular.module("rd.main").factory("ActionPlanService",n),n.$inject=["$http"]}();
"use strict";!function(){function t(t){return{getDiagnostics:n,startThread:function(){return t.post("/Admin/StartMessageThread").then(n)},stopThread:function(){return t.post("/Admin/StopMessageThread").then(n)}};function n(){return t.get("/Admin/Diagnostics").then(function(t){return t.data})}}angular.module("rd.main").factory("DiagnosticsService",t),t.$inject=["$http"]}();
"use strict";angular.module("rd.main").factory("DictionariesService",["$http",function(r){return{getAddresses:function(){return r.get("/Address",{params:{editMode:!0}})},loadFromPmc:function(){return r.get("/Address/MigrateFromProvider")},getAddress:function(t,e,n){return r.get("/Address/GetNode",{params:{itemId:t,itemName:e,type:n}})},getEditAddress:function(t,e,n){switch(n){case"country":return r.get("/Country/Edit",{params:{id:t}});case"city":return r.get("/City/Edit",{params:{id:t,parentId:e}});case"location":return r.get("/Location/Edit",{params:{id:t,parentId:e}});case"faculty":return r.get("/Faculty/Edit",{params:{id:t,parentId:e}});case"department":return r.get("/Department/Edit",{params:{id:t,parentId:e}});default:return!1}},addAddress:function(t){switch(t.model.attr.dataChildType){case"country":return r.post("/Country/Save",{model:{Id:0,Version:0,Name:t.country}});case"city":return r.post("/City/Save",{model:{Id:0,Version:0,Name:t.city,Country:t.country}});case"location":return r.post("/Location/Save",{model:{Id:0,Version:0,HasFaculties:!1,Name:t.location,City:t.city,Internal:t.internal,ShortName:t.shortName,Website:t.website,IsTrainingCenter:t.IsTrainingCenter,Telephones:t.Telephones}});case"faculty":return r.post("/Faculty/Save",{model:{Id:0,Version:0,Name:t.faculty,Location:t.location,ShortName:t.shortName,Website:t.website}});case"department":return r.post("/Department/Save",{model:{Id:0,Version:0,Name:t.department,Faculty:t.faculty}});case"room":default:return!1}},saveAddress:function(t){switch(t.model.attr.dataType){case"country":return r.post("/Country/Save",{model:{Id:t.model.attr.dataId,Version:t.version,Name:t.country}});case"city":return r.post("/City/Save",{model:{Id:t.model.attr.dataId,Version:t.version,Name:t.city,Country:t.country}});case"location":return r.post("/Location/Save",{model:{Id:t.model.attr.dataId,Version:t.version,HasFaculties:t.HasFaculties,Name:t.location,City:t.city,Internal:t.internal,ShortName:t.shortName,Website:t.website,IsTrainingCenter:t.IsTrainingCenter,Telephones:t.Telephones}});case"faculty":return r.post("/Faculty/Save",{model:{Id:t.model.attr.dataId,Version:t.version,Name:t.faculty,Location:t.location,ShortName:t.shortName,Website:t.website}});case"department":return r.post("/Department/Save",{model:{Id:t.model.attr.dataId,Version:t.version,Name:t.department,Faculty:t.faculty}});case"room":default:return!1}},removeAddress:function(t){switch(t.dataType){case"country":return r.post("/Country/Remove",{Id:t.dataId});case"city":return r.post("/City/Remove",{Id:t.dataId});case"location":return r.post("/Location/Remove",{Id:t.dataId});case"faculty":return r.post("/Faculty/Remove",{Id:t.dataId});case"department":return r.post("/Department/Remove",{Id:t.dataId});case"room":return r.post("/Room/Remove",{Id:t.dataId});default:return!1}},getSkills:function(){return r.get("/TrainingType")},removeSkill:function(t){return r.post("/TrainingType/Remove",{id:t})},getSkillInfo:function(t){return r.get("/TrainingType/Edit",{params:{id:t}})},createSkill:function(t){return r.post("/TrainingType/Create",{model:t})},updateSkill:function(t){return r.post("/TrainingType/Edit",{model:t})},updateSkillDescription:function(t){return r.post("/TrainingType/UpdateSkillDescription",{model:t})},getStaffingDeskStatuses:function(){return r.get("/StaffingDeskStatus")},updateStaffingDeskStatus:function(t){return r.post("/StaffingDeskStatus/Update",{model:t})},removeStaffingDeskStatus:function(t){return r.post("/StaffingDeskStatus/Delete",{id:t})},getUsersSkills:function(){return r.get("/AdminSkills/Skills")},editUsersSkill:function(t){return r.get("/AdminSkills/EditSkill",{params:{id:t}})},updateUsersSkill:function(t){return r.post("/AdminSkills/EditSkill",{model:t})},removeUsersSkill:function(t){return r.post("/AdminSkills/DeleteSkill",{id:t})},getSkillCategories:function(){return r.get("/AdminSkills/Categories")},createCategory:function(t){return r.post("/AdminSkills/CreateCategory",{model:t})},updateCategory:function(t){return r.post("/AdminSkills/EditCategory",{model:t})},removeCategory:function(t){return r.post("/AdminSkills/DeleteCategory",{id:t})},getSkillStatuses:function(){return r.get("/TrainingTypeStatus")},updateSkillStatus:function(t){return r.post("/TrainingTypeStatus/Edit",{model:t})},removeSkillStatus:function(t){return r.post("/TrainingTypeStatus/Remove",{id:t})},getLogos:function(){return r.get("/TrainingType/Logo")},addLogo:function(t){var e=new FormData;return e.append("description",t.description),e.append("imagefileSmall",t.imagefileSmall),e.append("imagefileBig",t.imagefileBig),r({url:"/TrainingType/AddLogo",method:"POST",transformRequest:angular.identity,data:e,headers:{"Content-Type":void 0}})},removeLogo:function(t){return r.post("/TrainingType/RemoveLogo",{id:t})},getWorkflowTypes:function(){return r.get("/PlanWorkflowType")},editWorkflowType:function(t){return(t?r.get("/PlanWorkflowType/Edit",{params:{trainingKindId:t}}):r.get("/PlanWorkflowType/Create")).then(function(t){return t.data})},saveWorkflowType:function(t){var e=0==t.Id?"/PlanWorkflowType/CreateKindWithStatus":"/PlanWorkflowType/EditKindWithStatus";return r.post(e,{model:t}).then(function(t){return t.data})},removeWorkflowType:function(t){return r.post("/PlanWorkflowType/Remove",{id:t})},toggleSkillActivity:function(t){return r.post("/TrainingType/ToggleSkillActivity",{id:t})},getConfigurationValues:function(){return r.get("/ConfigurationValues/ConfigurationValues")},editConfigurationValue:function(t){return r.get("/ConfigurationValues/EditConfigurationValue",{params:{configurationId:t}})},updateConfigurationValue:function(t){return r.post("/ConfigurationValues/EditConfigurationValue",{model:t})},setDefaultValue:function(t){return r.post("/ConfigurationValues/SetDefaultValue",{model:t})},getStaffingDeskStatus:function(t){return r.get("/StaffingDeskStatus/getStatus",{params:{id:t}})},editStaffingDeskStatus:function(t){return r.post("/StaffingDeskStatus/editStatus",{model:t})}}}]);
"use strict";angular.module("rd.main").factory("ApplicationsService",["$http",function(t){return{getApplicationsInfo:function(){return t.get("/api/applications")}}}]);
"use strict";!function(){function n(e){return{getAssignmentContainer:function(n){return e.get("/api/AssignmentContainer/"+n)},getActiveAssignmentContainer:function(n){return e.get("/api/AssignmentContainer/"+n+"/active")},getLinkForUser:function(n,t){return e.get("/api/AssignmentContainer/"+n+"/"+t+"/link")}}}angular.module("rd.main").factory("AssignmentContainerService",n),n.$inject=["$http"]}();
"use strict";!function(){function t(n){return{getAuditTrails:function(t){return n.get("/AuditTrail/GetAuditTrail",{params:t}).then(function(t){return{logs:t.data.BuketEntities,totalCount:t.data.FullEntityCount}})},getAuditByEntity:function(t){return n.get("/AuditTrail/GetAuditByEntity",{params:t}).then(function(t){return{logs:t.data.data,totalCount:t.data.data.FullEntityCount}})}}}angular.module("rd.main").factory("AuditTrailService",t),t.$inject=["$http"]}();
"use strict";!function(){function e(t){return{createCenter:function(e){return t.post("/api/center-management",e)},editCenter:function(e){return t.put("/api/center-management",e)},getCenter:function(e){return t.get("/api/center-management/"+e)},removeCenter:function(e){return t.delete("/api/center-management/"+e)},getCenterImage:function(e){return t.get("/api/center-management/"+e+"/Image")},getCountries:function(){return t.get("/api/center-management/countries-with-cities")},getPublishedCenters:function(){return t.get("/api/center-management/published-centers")},getCenters:function(){return t.get("/api/center-management/centers-light")}}}angular.module("rd.main").factory("CenterManagementService",e),e.$inject=["$http"]}();
"use strict";!function(){function d(a,r,i,t){var u,e;function c(n){var t,e;return t=u?(e=n)?{data:_.where(u,e)}:{data:_.compact(u)}:a.get("/City/Find",{params:angular.extend({isExtended:!0},n)}),r.when(t).then(function(n){if(n.data){var t=n.data.map(function(n){return n instanceof i?n:new i(n)}),e=t.map(d);return r.all(e).then(function(){return t})}return[]})}return{find:c,findById:function(n){var t;t=u?function(n){return{data:u[n]}}(n):a.get("/City/Find",{params:{id:n}});return r.when(t).then(function(n){return n.data?n.data instanceof i?n.data:new i(n.data):r.reject()})},makeCache:function(n){if(e)return e;e=c().then(function(n){return n.length?(u=[],n.forEach(function(n){u[n.id]=n}),u):r.reject()}),n&&(e=r.all([e,t.makeCache()]));return e},clearCache:function(){u=e=null}}}angular.module("rd.main").factory("CityService",d),d.$inject=["$http","$q","City","CountryService"]}();
"use strict";!function(){function c(e,a,u){var n,i;function t(n){var t,r;return t=i?(r=n)?{data:_.where(i,r)}:{data:_.compact(i)}:e.get("/Country/Find",{params:angular.extend({isExtended:!0},n)}),a.when(t).then(function(n){if(n.data){var t=n.data.map(function(n){return n instanceof u?n:new u(n)}),r=t.map(c);return a.all(r).then(function(){return t})}return[]})}return{find:t,findById:function(n){var t;t=i?function(n){return{data:i[n]}}(n):e.get("/Country/Find",{params:{id:n}});return a.when(t).then(function(n){return n.data?n.data instanceof u?n.data:new u(n.data):a.reject()})},makeCache:function(){if(n)return n;return n=t().then(function(n){return n.length?(i=[],n.forEach(function(n){i[n.id]=n}),i):a.reject()})},clearCache:function(){i=n=null}}}angular.module("rd.main").factory("CountryService",c),c.$inject=["$http","$q","Country"]}();
"use strict";!function(){function n(r,u,i,t){var c,e;function a(n,a){var t,e;return t=c?(e=n)?{data:_.where(c,e)}:{data:_.compact(c)}:r.get("/Department/Find",{params:angular.extend({isExtended:!0},n)}),u.when(t).then(function(n){if(n.data){var t=n.data.map(function(n){return n instanceof i?n:new i(n)});if(a&&"function"==typeof a){var e=t.map(a);return u.all(e).then(function(){return t})}return t}return[]})}return{find:a,findById:function(n){var t;t=c?function(n){return{data:c[n]}}(n):r.get("/Department/Find",{params:{id:n,isExtended:!0}});return u.when(t).then(function(n){return n.data?n.data instanceof i?n.data:new i(n.data):u.reject()})},makeCache:function(n){if(e)return e;e=a().then(function(n){return n.length?(c=[],n.forEach(function(n){c[n.id]=n}),c):u.reject()}),n&&(e=u.all([e,t.makeCache(!0)]));return e},clearCache:function(){c=e=null}}}angular.module("rd.main").factory("DepartmentService",n),n.$inject=["$http","$q","Department","FacultyService"]}();
"use strict";!function(){function n(r,u,c,t){var a,i;function e(n,e){var t,a;return t=i?(a=n)?{data:_.where(i,a)}:{data:_.compact(i)}:r.get("/Faculty/Find",{params:angular.extend({isExtended:!0},n)}),u.when(t).then(function(n){if(n.data){var t=n.data.map(function(n){return n instanceof c?n:new c(n)});if(e&&"function"==typeof e){var a=t.map(e);return u.all(a).then(function(){return t})}return t}return[]})}return{find:e,findById:function(n){var t;t=i?function(n){return{data:i[n]}}(n):r.get("/Faculty/Find",{params:{id:n,isExtended:!0}});return u.when(t).then(function(n){return n.data?n.data instanceof c?n.data:new c(n.data):u.reject()})},makeCache:function(n){if(a)return a;a=e().then(function(n){return n.length?(i=[],n.forEach(function(n){i[n.id]=n}),i):u.reject()}),n&&(a=u.all([a,t.makeCache(!0)]));return a},clearCache:function(){i=a=null}}}angular.module("rd.main").factory("FacultyService",n),n.$inject=["$http","$q","Faculty","LocationService"]}();
"use strict";!function(){function t(t){var a;return{getDropDownsData:function(n){return function(){a=a||t.get("/Plan/Filter");return a}().then(function(t){n(t.data,{status:t.status,statusText:t.statusText})})}}}angular.module("rd.main").factory("GetDropDownData",t),t.$inject=["$http"]}();
"use strict";!function(){function t(t){return{getEnglishLevelList:function(){return i().then(function(t){return t.data.AddModel.EnglishLevelList}).catch(function(t){return t})},getMilitaryAttitudeList:function(){return i().then(function(t){return t.data.AddModel.MilitaryAttitudeList}).catch(function(t){return t})}};var n;function i(){return n=n||t.get("registrationwizard/BasicUserInfo")}}angular.module("rd.main").factory("infoDLL",t),t.$inject=["$http"]}();
"use strict";!function(){function n(r,i,c,t){var e,u;function a(n,a){var t,e;return t=u?(e=n)?{data:_.where(u,e)}:{data:_.compact(u)}:r.get("/Location/Find",{params:angular.extend({isExtended:!0},n)}),i.when(t).then(function(n){if(n.data){var t=n.data.map(function(n){return n instanceof c?n:new c(n)});if(a&&"function"==typeof a){var e=t.map(a);return i.all(e).then(function(){return t})}return t}return[]})}return{find:a,findById:function(n){var t;t=u?function(n){return{data:u[n]}}(n):r.get("/Location/Find",{params:{id:n,isExtended:!0}});return i.when(t).then(function(n){return n.data?n.data instanceof c?n.data:new c(n.data):i.reject()})},makeCache:function(n){if(e)return e;e=a().then(function(n){return n.length?(u=[],n.forEach(function(n){u[n.id]=n}),u):i.reject()}),n&&(e=i.all([e,t.makeCache(!0)]));return e},clearCache:function(){u=e=null}}}angular.module("rd.main").factory("LocationService",n),n.$inject=["$http","$q","Location","CityService"]}();
"use strict";!function(){function o(s,r,t){var n={animation:!1,backdrop:!0,size:"lg",windowCssClass:"delete-dialog",templateUrl:"/Templates/Shared/Popup.html",controller:"PopupController",success:function(){},error:function(){}};return{showDialog:function(o,e){e=e||{};(function(o){o.animation=o.animation||n.animation,o.backdrop=o.backdrop||n.backdrop,o.windowCssClass=o.windowCssClass||n.windowCssClass,o.templateUrl=o.templateUrl||n.templateUrl,o.controller=o.controller||n.controller,o.size=o.size||n.size,o.success=o.success||n.success,o.error=o.error||n.error})(e),r.open({animation:e.animation,backdrop:e.backdrop,windowClass:e.windowCssClass,templateUrl:e.templateUrl,controller:e.controller,size:e.size,resolve:{resources:s.when(o)}}).result.then(e.success).catch(e.error)},showMessage:function(o,e){t({content:o,type:e})}}}angular.module("rd.core").factory("popup",o),o.$inject=["$q","$uibModal","$statusPopup"]}();
"use strict";!function(){function e(c,t){return{show:function(e,n,o){return t.open({animation:!1,backdrop:"static",windowClass:e,templateUrl:o||"/Templates/Popup.html",controller:["$scope","$uibModalInstance","resources",function(e,n,o){e.resources=o,e.ok=function(){n.close(e)},e.cancel=function(){n.dismiss("cancel")}}],resolve:{resources:c.when(n)}})}}}angular.module("rd.main").factory("PopupService",e),e.$inject=["$q","$uibModal"]}();
"use strict";!function(){function n(a,o,i,e,t,r,n){var u,c;return{find:d,findById:function(n){var e;e=u?function(n){return u[n]}(n):a.get("/Room/Find",{params:{id:n,isExtended:!0}}).when(function(n){return n.data?new i(n.data):o.reject()});return o.when(e).then(function(n){return n||o.reject()})},makeCache:function(n){if(c)return c;c=d().then(function(n){return n.length?(u=[],n.forEach(function(n){u[n.id]=n}),u):o.reject()}),n&&(c=o.all([c,e.makeCache(!0),t.makeCache(!0),r.makeCache(!0)]));return c},clearCache:function(){u=c=null},create:function(e){var t=e;return a.post("/Room/Create",e.toSavingModel()).then(function(n){return t.fill({id:n.data.id,version:n.data.version}),u&&(u[e.id]=t),n.data.room=t,n})},edit:function(e){var t=e;return a.post("/Room/Edit",t.toSavingModel()).then(function(n){return t.fill({version:n.data.version}),u&&(u[t.id]=t),n.data.room=e,n})},remove:function(n){var e=n;return a.post("/Room/Remove",{id:e.id}).then(function(n){return u&&u[e.id]&&u.splice(e.id,1),n})},createInstanse:function(){return new i}};function d(n,t){var e,r;return e=u?(r=n)?_.where(u,r):_.compact(u):a.get("/Room/Find",{params:angular.extend({isExtended:!0},n)}).then(function(n){return n.data?n.data.map(function(n){return new i(n)}):[]}),o.when(e).then(function(n){if(t&&"function"==typeof t){var e=n.map(t);return o.all(e).then(function(){return n})}return n})}}angular.module("rd.main").factory("RoomService",n),n.$inject=["$http","$q","Room","LocationService","FacultyService","DepartmentService","$translate"]}();
"use strict";!function(){function e(e,r){var i={Admin:{resource:"",sref:"",relLink:{Dictionaries:{resource:"Administration_Dictionary",sref:"admin.dictionaries",relLink:{Address:{resource:"Address",sref:"admin.dictionaries.addresses"},Trainer_Types:{resource:"Trainer_Types",sref:"admin.dictionaries.skills"},Skills:{resource:"Skills",sref:"admin.dictionaries.usersSkills"},SkillCategories:{resource:"SkillCategories",sref:"admin.dictionaries.skillCategories"},Admin_StaffingDeskStatuses:{resource:"Admin_StaffingDeskStatuses",sref:"admin.dictionaries.staffingDeskStatuses"},Lab_Labs:{resource:"Lab_Labs",sref:"admin.dictionaries.room"},Logo_management:{resource:"Logo_management",sref:"admin.dictionaries.logoManagement"},Training_type_status:{resource:"TrainingTypeStatuses",sref:"admin.dictionaries.trainingTypeStatus"},Configuration_Values:{resource:"Configuration_Values",sref:"admin.dictionaries.configurationValues"}}},Maintenance:{resource:"Administration_Maintenance",sref:"admin.maintenance",relLink:{Administration_Diagnostics:{resource:"Administration_Diagnostics",sref:"admin.maintenance.diagnostics"},Cache:{resource:"Cache",sref:"admin.maintenance.cache"},Synchronization:{resource:"Synchronization",sref:"admin.maintenance.synchronization"},Jobs_Management:{resource:"Jobs_Management",sref:"admin.maintenance.jobsManagement"}}},Roles:{resource:"Roles",sref:"admin.roles"},RavenDb:{resource:"RavenDb",sref:"admin.ravenDb"}}},TrainingsManagement:{resource:"",sref:"",relLink:{Details:{resource:"Details",sref:"trainingsManagement.planTrainingTabs.details"},Audience:{resource:"Audience",sref:"trainingsManagement.planTrainingTabs.participants"},Groups:{resource:"Groups",sref:"trainingsManagement.planTrainingTabs.groups",relLink:{Group:{resource:"",sref:"trainingsManagement.planTrainingTabs.group"}}},Distribution:{resource:"Distribution_Tab",sref:"trainingsManagement.planTrainingTabs.distribution"}}},GroupManagement:{resource:"",sref:"",relLink:{Attendances_Journal:{resource:"Attendances_Journal",sref:"training.trainingTabs.attendance"},Tasks_Journal:{resource:"Tasks_Journal",sref:"training.trainingTabs.tasks"},Students:{resource:"Students",sref:"training.trainingTabs.students"},Schedule:{resource:"Schedule",sref:"training.trainingTabs.schedule"},Graduate_Report:{resource:"Graduate_Report",sref:"training.trainingTabs.report"}}}};return{getTabs:function(e){var n=r.defer();return n.resolve(function e(n,r){if(r[n])return r[n].relLink;var i=_.pairs(r),a=0;return a<i.length?e(n,i[a][1].relLink):void 0}(e,i)),n.promise}}}angular.module("rd.main").factory("SiteMapService",e),e.$inject=["$http","$q"]}();
"use strict";!function(){function t(r){return{getAffiliateUserData:function(t){return r.get("/api/affiliate/user-data",{params:{planId:t}})},registerUserToAffiliate:function(t,e){return r.post("/api/affiliate/registration/"+t,e)},registerUserToPractice:function(t,e){var a={UserId:e.UserId,FirstName:e.FirstName,LastName:e.LastName,NativeName:e.NativeName,ContactPhone:e.ContactPhone,DepartmentId:e.Education.DepartmentId};return r.post("/api/registration-wizard/educational-practice/"+t,a)},getDepartments:function(t){return r.get("/api/registration-wizard/departments/"+t)},translit:function(t){var e={params:{username:t,mode:"RusToBy",secondStepMode:"ByToEng"}};return r.get("api/transliteration/transliterate-name",e)}}}angular.module("rd.main").factory("AffiliateRegistrationService",t),t.$inject=["$http"]}();
"use strict";angular.module("rd.main").factory("AppendScriptService",function(){return{add:function(n,e){var c=document.createElement("script");c.onload=e,c.async="async",c.src=n,document.head.appendChild(c)}}});
"use strict";angular.module("rd.main").factory("AttachmentService",["$http",function(n){return{postFile:function(t,e){var a=new FormData;return a.append("file",t),a.append("type",e),n.post("/api/attachment",a,{headers:{"Content-Type":void 0},transformRequest:angular.identity})},deleteFile:function(t){return n.delete("/api/attachment?attachmentId="+t)},getFile:function(t){return n.get("/api/attachment?attachmentId="+t)},getArchive:function(t,e){return n.get("/api/attachment/archive?name="+t+"&attachmentIds="+e)}}}]);
"use strict";angular.module("rd.main").factory("BlankWindowService",["$window",function(n){return{open:function(n){var a=window.open("about:blank","_blank");n?angular.element(a).attr("location",n):a.close()}}}]);
"use strict";!function(){function e(t,r){return{isDatePassed:function(e){var t=new Date(e),n=new Date;return t<n},replaceUnicodeSpaces:function(e){return e?e.replace(/[\u00A0\u1680\u180e\u2000-\u2009\u200a\u200b\u202f\u205f\u3000]|&nbsp;/g," "):""},capitalizeString:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},parseDate:function(e){return e?new Date(e):null},stringifyDate:function(e){return e?moment(e).set({hour:0,minute:0,second:0,millisecond:0}).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):null},parseIframeSrc:function(e){if(e){var t=e.match(/src=['|"](\S*)['|"]/),n=t&&t[1]||e;if(n){var r=n.match(/\/\/(\S*)/);if(r&&r[1])return"//"+r[1]}}return null},getEmbeddedVideoUrl:function(e){var t;return/^https:\/\/www.youtube.com\/watch\?v=/.test(e)?"https://www.youtube.com/embed/"+(t=e.match(/\?v=(\S*)/))[1].split("&")[0]:/^https:\/\/videoportal.epam.com\/video/.test(e)?"https://videoportal.epam.com/video/iframe.html?video="+(t=e.match(/video\/(\S*)/))[1].split("?")[0]:/^((http(s)?:\/\/)?(www.)?youtu(be|.be)?(.com)?).+/.test(e)?"https://www.youtube.com/embed/"+(t=e.split("/"))[t.length-1]:null},getEmbeddedQuizUrl:function(e){return/^https:\/\/www.qzzr.com\/c\/quiz/.test(e)?"https://app.qzzr.com/quiz/"+e.match(/quiz\/(\d*)\//)[1]+"/widget?networks=none":null},getMultiLocationText:function(e){var t=e[0],n=_.groupBy(e,"Country");{if(0==_.size(e))return"Global";if(1==_.size(e))return t.CityId?t.Country+", "+t.City:t.Country;if(1==_.size(n))return t.Country+", multi-location";if(1<_.size(n))return"Multi-location"}},getTooltipMultiLocations:function(e){var n=_.groupBy(e,"Country");return _.each(n,function(e,t){n[t]=e.filter(function(e){return!!e.CityId})}),n},closestByClass:function(e,t){for(;e&&!e.classList.contains(t);)if((e=e.parentNode)&&!e.classList)return null;return e},scrollTo:function(e){var t=$("#header").height()+$("#header .links-row").height()+25;e.length&&e.offset().top&&$("html, body").animate({scrollTop:e.offset().top-t},1e3)},copyLinkHref:function(e,t){var n=t||e.target.href;e&&e.preventDefault();var r=document.createElement("input");document.body.appendChild(r),r.value=n,r.select(),r.setSelectionRange(0,3e3),document.execCommand("copy"),document.body.removeChild(r)},trustAsHtml:function(e){return t.trustAsHtml(e)},cutLinkByDomain:function(e){return e.replace(/^(?:https?:)?(?:\/\/)?(?:www\.)?/i,"").split("/")[0]+"/..."},parseStringBoolean:function(e){return!["False","false","",null,void 0].includes(e)},showGlobalPreloader:function(){$("#main-content").hide(),$("#main-placeholder").show(),window.addEventListener("unload",e),window.addEventListener("visibilitychange",e),setTimeout(e,1e4)},createTrainingAnchorLink:function(e){var t=window.location.search,n=new URLSearchParams(t).get("lang");return location.href.split("?")[0]+"?lang="+n+"#"+e},getCurrentLocale:function(){var e=window.location.search,t=new URLSearchParams(e);if(t.get("lang")||!r.get("UserCurrentLocale"))return t.get("lang");var n=r.get("UserCurrentLocale");return"uk-UA"===n?"ua":n.split("-")[0]},getCurrentLang:function(){if(!r.get("UserCurrentLocale"))return"en";var e=r.get("UserCurrentLocale");return"uk-UA"===e?"ua":e.split("-")[0]},localeSensitiveSorter:function(e,n,r){return e?e.sort(function(e,t){return"string"!=typeof e[n]||"string"!=typeof t[n]?r?e[n]<t[n]?1:-1:e[n]<t[n]?-1:1:r?t[n].localeCompare(e[n]):e[n].localeCompare(t[n])}):[]}};function e(){$("#main-content").show(),$("#main-placeholder").hide(),window.scrollTo({top:0}),window.removeEventListener("unload",e),window.removeEventListener("visibilitychange",e)}}angular.module("rd.main").factory("CommonService",e),e.$inject=["$sce","$cookies"]}();
"use strict";angular.module("rd.main").factory("CsrfTokenService",["LOGIN_ITEMS",function(n){return{request:function(e){var r=localStorage.getItem(n.CSRFToken);return r&&(e.headers[n.CSRFTokenHeader]=r),e}}}]);
"use strict";angular.module("rd.main").factory("DomainService",["$http",function(n){var t=["com","by","ru","ua","kz","am","uz"];return{isDomain:function(n){return o()==n},isSupportedDomain:function(n){n=n||o();return t.includes(n)},getDomain:o,getDomainCountryId:function(){return n.get("/api/locations/get-domain-country-id",{cache:!0})}};function o(){var n=window.location.host;return n.substr(n.lastIndexOf(".")+1)}}]);
"use strict";!function(){function e(n){return{downloadFile:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";e&&e.preventDefault();n.get(t,{responseType:"blob"}).then(function(e){var t=e.headers("Content-Disposition"),n=t?decodeURI(t.split(";")[1].split("filename")[1].split("=")[1].trim().replace(/"/g,"")).split("."):[];n[n-1]="";var i=n.join("."),o=document.createElement("a");o.setAttribute("download",a||i);var r=URL.createObjectURL(e.data);o.href=r,o.setAttribute("target","_blank"),o.click(),o.remove(),URL.revokeObjectURL(r)})}}}angular.module("rd.main").factory("DownloadFilesService",e),e.$inject=["$http"]}();
"use strict";angular.module("rd.main").factory("GtmTokenService",["$location","$cookies","CommonService",function(a,e,i){var n=localStorage.getItem("GlobalUserId")||"",t=localStorage.getItem("IsPmcAccountType")||"",d=e.get("UserCurrentLocale")||"en-US",r=window.location.hostname,o={iam_user_id:n,user_status:t,current_UI_culture:d,domain_name:r};return{sendRegisterEvent:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"authentication",authentication_type:a.search().authType,method:a.search().authMethod,iam_user_id:a.search().iamUserId,user_status:t}),a.search("isAuth",null),a.search("iamUserId",null),a.search("authType",null),a.search("authMethod",null)},sendSubscribeFormOpenEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"training_click_subscribe",training_id:a||null}))},sendSubscribeFormSubmitEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"training_complete_subscribe",training_id:+a||null}))},sendTrainingCardClickEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"training_click_card",training_id:+a}))},sendTrainingCardRegisterClickEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"training_click_cardRegister",training_id:+a}))},sendTrainingDetailsEvent:function(a,e,n,t){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"training_view_detailsPage",training_title:e,training_location:i.getMultiLocationText(n),training_start_date:moment(t).format("DD.MM.YYYY"),training_id:+a}))},sendSurveyStartEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"program_view_registrationSurvey",training_id:+a}))},sendSurveySubmitEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"program_complete_registrationSurvey",training_id:+a}))},sendRegisterStartEvent:function(a,e,n,t){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"program_view_registrationPage",training_title:e,training_location:i.getMultiLocationText(n),training_start_date:moment(t).format("DD.MM.YYYY"),training_id:+a}))},sendRegistrationBasicInfoSubmitEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"program_complete_infoWizardStep",training_id:+a}))},sendRegistrationEducationInfoSubmitEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"program_complete_educationWizardStep",training_id:+a}))},sendRegistrationWorkInfoSubmitEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"program_complete_workInfoWizardStep",training_id:+a}))},sendSimplifiedRegisterStartEvent:function(a,e,n,t){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"training_view_quickRegistration",training_title:e,training_location:i.getMultiLocationText(n),training_start_date:moment(t).format("DD.MM.YYYY"),training_id:+a}))},sendSimplifiedRegistrationSubmitEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"program_complete_onePage_registration",training_id:+a}))},sendTrainingRegistrationAfterSuccessFormSubmit:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"program_complete_registration",training_id:+a}))},sendTrainingRegisterClickEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"training_click_register",training_id:+a,iam_user_id:n,user_status:t})},sendCancelRegistrationStartEvent:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"training_click_cancelRegistration",training_id:+a}))},sendCancelRegistrationSubmitEvent:function(a,e){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"training_complete_cancelRegistration",training_id:+a,cancellation_reason:e}))},sendClickEventRegistration:function(a,e){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"events_click_registration",event_id:+a,position_on_page:e}))},sendSuccessfulCancelEventRegistration:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"events_complete_cancelRegistration",event_id:+a}))},sendEventJoinOnline:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"events_complete_joinOnline",event_id:+a}))},sendSuccessfulEventRegistration:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"events_complete_registration",event_id:+a}))},sendClickBellNotifications:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"notifications_click_bell"}))},sendClickAllNotifications:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"notifications_click_allNotifications"}))},sendOpenNotificationLetter:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"notifications_view_notificationLetter"}))},sendClickCareerTestEvent:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"careerTest_click_careerTest"}))},sendClickGetResultTestEvent:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"careerTest_click_getResult"}))},sendClickRestartTestEvent:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"careerTest_click_restartTest"}))},sendClickStartTestEvent:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"careerTest_click_startTest"}))},sendViewPageResult:function(){window.dataLayer.push(Object.assign(o,{event:"careerTest_view_pageResult"}))},sendClickLinkProfessionsCard:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"careerTest_click_ProfessionCardLink"}))},sendPageReady:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"page_ready"}))},sendViewLandingPage:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"careerTest_view_landingPage"}))},sendViewSkillsPage:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"skill_view_skillsPage"}))},sendViewDetailPage:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"skill_view_detailPage"}))},sendViewAboutPage:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"about_view_aboutPage"}))},sendViewFAQPage:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"faq_view_faqPage"}))},sendViewBlogDetailPage:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"blog_view_detailPage"}))},sendViewBlogsPage:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"blog_view_blogsPage"}))},sendViewEventsDetailPage:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"events_view_detailPage"}))},sendViewEventsPage:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"events_view_eventsPage"}))},sendViewTrainingsPage:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"training_view_trainingsPage"}))},sendViewHomePage:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"home_view_homePage"}))},sendClickHeaderNavPrograms:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"header_click_programsPage"}))},sendClickHeaderNavEvents:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"header_click_eventsPage"}))},sendClickHeaderNavSkills:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"header_click_skillsPage"}))},sendClickHeaderNavBlog:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"header_click_blogsPage"}))},sendClickHeaderNavAboutUs:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"header_click_aboutPage"}))},sendClickHeaderProfile:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"header_profile_click_profilePage"}))},sendClickHeaderSettings:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"header_profile_click_settingPage"}))},sendClickHeaderSignOut:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"header_profile_click_sign_out"}))},sendClickHeaderContactUs:function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(o,{event:"header_profile_click_contact_us"}))},hasTokens:function(){return a.search().isAuth}}}]);
"use strict";angular.module("rd.main").factory("HttpErrorService",["$q",function(e){return function(r){return r.then(function(r){return r},function(r){var t=r&&r.data||{};return t.error&&$.statusPopup({type:"error",content:t.message}),e.reject(r)})}}]);
"use strict";function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}angular.module("rd.main").factory("LocationsService",["$http","$translate",function(n,e){return{getLocations:function(){return n.get("/api/locations/all-countries",{cache:!0})},getCities:function(){return n.get("/api/locations/all-countries",{cache:!0}).then(function(t){var e,n=t.data;return n.forEach(function(e){e.Cities.forEach(function(t){t.CountryId=e.Id})}),e=_.pluck(n,"Cities").reduce(function(t,e){return t.concat(e)},[]),t.data=_.sortBy(e,"Name"),t})},getUniversitiesByCity:function(t){return-1!==t&&t?n.get("/api/locations/cities/"+t+"/universities"):Promise.resolve({data:[]})},getAddresses:function(){return n.get("/api/locations/addresses",{cache:!0})},getCountries:function(){return n.get("/api/locations/all-countries",{cache:!0}).then(function(t){return t.data.map(function(t){return{Id:t.Id,Name:t.Name}})})},getCitiesForCountry:function(t){var e="/api/locations/"+t+"/cities";return n.get(e,{cache:!0}).then(function(t){return t.data.Result})},getLocationsList:function(){return n.get("/api/locations/all-countries",{cache:!0}).then(function(t){return{countries:t.data.map(function(t){return{Id:t.Id,Name:t.Name}}),allCities:t.data.map(function(t){return t.Cities}).flat(),locations:t.data}})},getCitiesByQuery:function(t,e){return n.post("/api/locations/search-city-in-countries",{SearchQuery:e,CountryIds:t?[t]:[]}).then(function(t){return t.data.Cities.map(function(t){return _objectSpread(_objectSpread({},t),{},{Name:t.Region?t.Name+", "+t.Region:t.Name})})})},getTrainingCenterCities:function(t,e){return n.post("/api/locations/search-city-in-countries",{SearchQuery:e,CountryIds:t?[t]:[]}).then(function(t){return t.data.Cities})},getCityName:function(t){if(t&&-1===t.Id)return e("Other");return t&&t.Name?t&&t.Name:e("Not_Specified_EducationCity")},getLocationsWithTrainingCenter:function(){return n.get("/api/center-management/countries")}}}]);
"use strict";!function(){function o(n){localStorage.getItem(n.accessTokenLastRefreshTime);var c={headers:{application:"monolith"}};return{login:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o="?callback="+n.loginCallback,e=location.protocol+"//"+location.host+"/api/login/link"+o;fetch(e,c).then(function(o){return o.json()}).then(function(o){var e;e=t||location.href,localStorage.setItem(n.loginRedirectUrl,e),window.location.href=o})},logout:function(){fetch("/api/login/logout",c).then(function(){fetch("/api/login/external-link-logout?callback="+n.homeUrl,c).then(function(o){return o.json()}).then(function(o){e(),window.location.href=o}).catch(function(){e(),window.location.href=n.homeUrl})})},isLoggedUser:function(){return!!$.cookie("isLogged")},clearLoginData:e};function e(){localStorage.removeItem(n.accessToken),localStorage.removeItem(n.CSRFToken),localStorage.removeItem(n.refreshToken),localStorage.removeItem(n.accessTokenLastRefreshTime),localStorage.removeItem(n.globalUserId),localStorage.removeItem(n.isPmcAccountType),document.cookie="isLogged=; Max-Age=0; path=/;"}}angular.module("rd.main").factory("LoginService",o),o.$inject=["LOGIN_ITEMS"]}();
"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){function e(e,t){var n=e.getDomain();return{addMetaTags:function(e){e.title&&(window.document.title=e.title+c());e.description&&a("name","description",e.description);e.keywords&&a("name","keywords",e.keywords);r(e)},addCanonical:function(e){var t={rel:"canonical",href:function(e){return e.split("?")[0]}(e)};o("link",'rel="canonical"'),i("link",t)},addOpenGraph:r,addTwitterCard:function(e){o("meta",'name*="twitter:"'),i("meta",{name:"twitter:card",content:"summary"}),i("meta",{name:"twitter:title",content:e.title}),i("meta",{name:"twitter:description",content:e.description}),i("meta",{name:"twitter:image",content:e.image||"/Content/themes/Redesign/images/epam-logo-primary.png"})},createTag:i,removeTags:o,getMetaDomain:c,getMetaLocation:function(){return e.isSupportedDomain(n)?t("MetaCountry_"+n):t("MetaCountry_default")}};function r(e){a("property","og:url",window.location.href),e.title&&a("property","og:title",e.title+c()),e.description&&a("property","og:description",e.description)}function a(e,t,n){var r,a="meta["+e+'="'+t+'"]';0<angular.element(a).length?angular.element(a).attr("content",n):i("meta",(_defineProperty(r={},e,t),_defineProperty(r,"content",n),r))}function i(e,t){var n=document.createElement(e);angular.forEach(t,function(e,t){n.setAttribute(t,e)}),document.head.appendChild(n)}function o(e,t){var n=document.querySelectorAll(e+"["+t+"]");angular.forEach(n,function(e){e.remove()})}function c(){return" | "+window.location.hostname}}angular.module("rd.main").factory("MetaTagsService",e),e.$inject=["DomainService","$translate"]}();
"use strict";angular.module("rd.main").factory("PermissionService",["$http",function(n){return{transformPermission:function(i,n){i.forEach(function(i){var e=i.Name.split(".").pop();n[e]=i.HasPerm})},checkUserEditOpenInformationPermission:function(i){return n.post("/Permisson/CheckUserEditOpenInformationPermission",{userId:i})},checkUserManagementPermissions:function(){return i("Administration.UserAdministrationPermission","Administration.LocalRolesUserAdministrationPermission","User.Profile.AllowUserProfileEditing","User.Profile.ProfileUserPermission")},checkAboutPermissions:function(){return i("About.AboutManagePermission")},checkFaqPermissions:function(){return i("FAQ.FaqPermission")},checkUserProfilePermissions:function(){return i("User.Profile.ProfileUserPermission","User.Profile.AllowUserProfileEditing","User.Profile.ViewSurveyAnswersPermission","User.RegisteredUserPermission","PdfExport.ExportToPdfPermission")},checkUserProfileExtendPermissions:function(){return i("User.Profile.ProfileUserPermission","User.Profile.Extend.EditOpenInformationProfileUserPermission")},checkUserEnglishTestPermissions:function(){return i("User.Profile.EnglishTest.EnglishTestManagePermission")},checkAuditTrailPermissions:function(){return i("ChangeLog.ViewChangeLogPermission")},checkNewsManagementPermissions:function(){return i("News.NewsManagePermission","ChangeLog.ViewChangeLogPermission")},checkAccessToLMS:function(){return i("Learning.ReadLearningPagePermission")},checkTrainerPermissions:function(){return i("Notifications.TeamsNotificationPermission")},checkTrainingCenterManagementPermission:function(){return i("Administration.TrainingCenter.TrainingCenterManagePermission")},checkSkillsDescriptionManagementPermission:function(){return i("Administration.Skill.SkillsDescriptionsManagePermission")},checkPortalAdministrationPermission:function(){return i("Administration.PortalAdministrationPermission")},checkGlobalSearchPermission:function(){return i("GlobalSearch.GlobalSearchPermission")}};function i(){for(var i=[],e=0;e<arguments.length;e++)i.push(arguments[e]);return n.post("/api/Permissions/permission-flags",i)}}]);
"use strict";!function(){function e(l,m){return{request:function(n){var a=localStorage.getItem(l.accessToken),e=localStorage.getItem(l.refreshToken),t=localStorage.getItem(l.accessTokenLastRefreshTime);function r(){return Math.floor(57e3*Math.random()+3e3)}function s(e){var t=localStorage.getItem(l.accessTokenLastRefreshTime),o=localStorage.getItem(l.refreshToken);localStorage.setItem(l.accessTokenLastRefreshTime,(new Date).toString());var r={headers:{authorization:l.bearerPrefix+a,application:"monolith","request-data":location.href+"; "+t+"; "+localStorage.getItem(l.accessTokenLastRefreshTime)+"; "+e+"; "+n.url}};return fetch("/api/login/refresh?refreshToken="+o,r).then(function(e){return e.json()}).then(function(e){return e?(localStorage.setItem(l.accessToken,e.AccessToken),localStorage.setItem(l.refreshToken,e.RefreshToken),localStorage.setItem(l.accessTokenLastRefreshTime,(new Date).toString()),Promise.resolve(e)):Promise.reject(e)})}function o(e){var t=localStorage.getItem(l.accessTokenLastRefreshTime),o=new Date(t);o.setTime(o.getTime()+18e5),o<new Date&&s(e).catch(function(){var e=r();setTimeout(function(){s(e).catch(function(){m.login()})},e)})}if(a&&e){var c=t&&new Date(t),i=new Date;if(c){c.setTime(c.getTime()+18e5);var f=r();c<i&&setTimeout(function(){o(f)},f)}else setTimeout(function(){o()},r())}return n}}}angular.module("rd.main").factory("RefreshTokenService",e),e.$inject=["LOGIN_ITEMS","LoginService"]}();
"use strict";!function(){function a(a,n){return{setLang:function(a){if(!n.search().lang)switch(a){case"en-US":n.search("lang","en");break;case"ru-RU":n.search("lang","ru");break;case"uk-UA":n.search("lang","ua")}}}}angular.module("rd.main").factory("UrlParamsService",a),a.$inject=["$window","$location"]}();
"use strict";angular.module("rd.main").factory("UtmTokenService",["$location","$window","$cookies",function(e,t,r){return{getTokens:m,clearTokens:function(){t.localStorage.removeItem("utmData"),t.localStorage.removeItem("url_referrer"),r.remove("UrlReferrer")},hasTokens:function(){return!!(e.search().utm_source||e.search().utm_medium||e.search().utm_campaign||e.search().utm_term||e.search().utm_content||r.get("UrlReferrer"))},getClassSuffix:function(){var e=m();return e.utmSource+"-"+e.utmMedium+"-"+e.utmCampaign+"-"+e.utmTerm+"-"+e.utmContent}};function m(){var e=JSON.parse(t.localStorage.getItem("utmData"))||{};return{utmSource:e.utm_source,utmMedium:e.utm_medium,utmCampaign:e.utm_campaign,utmTerm:e.utm_term,utmContent:e.utm_content,urlReferrer:t.localStorage.getItem("url_referrer")}}}]);
"use strict";!function(){function e(t){return{getSearch:function(e){return t.get("/api/user-search?term="+e)},changePage:function(e,r){return t.get("/api/user-search?term="+e+"&page="+r)}}}angular.module("rd.main").factory("GlobalSearchService",e),e.$inject=["$http"]}();
"use strict";angular.module("rd.main").factory("HeaderService",["$http","LoginService",function(t,e){return{getMenuData:function(){return t.get("/api/user-headers")},getUserInfo:function(){return t.get("/api/user-headers/user-info")},getNotifications:function(){return t.get("/api/user-headers/notifications")},readAllNotifications:function(){return t.put("/api/user-headers/notifications")},readNotification:function(e){return t.put("/api/user-headers/notifications/"+e)},getProfileRoutes:r,getPartialProfileRoutes:function(){return r().slice(0,-1)}};function r(){return[{name:"UserProfile_Profile",route:"/UserProfile#!/Main/"},{name:"Training_Registration_Requests",route:"/Root#!/Applications"},{name:"SitemapMenu_Preferences",route:"/UserProfile#!/Preferences"},{name:"LogOut",route:"",callback:function(){window.onbeforeunload=null,e.logout()}}]}}]);
"use strict";!function(){function e(i){var o={Id:1,SenderEmail:2,Sender:3,Body:4,Phone:5,Skype:6,Subject:7,Created:8,Viewed:9};return{getNotifications:function(e,t,n,s,r){return i.get("/api/messages",{params:{page:e,count:t,isViewed:n,sortColumn:o[s],isDescending:r}})},search:function(e,t,n,s,r,a){return i.get("/api/messages/search",{params:{term:e,page:t,count:n,isViewed:s,sortColumn:o[r],isDescending:a}})},markAsViewed:function(e){return i.post("/api/messages/mark-viewed",e)},markAsNotViewed:function(e){return i.post("/api/messages/mark-new",e)},count:function(){return i.get("/Inbox/Count")},list:function(e,t,n,s){return i.get("/Inbox/List",{params:{filter:e,searchQuery:t,offset:n,count:s}})},getMessage:function(e){return i.get("/api/messages",{params:{id:e}})},remove:function(e){return i.delete("/api/messages",{data:e,headers:{"Content-Type":"application/json"}})}}}angular.module("rd.main").factory("InboxService",e),e.$inject=["$http"]}();
"use strict";!function(){function r(i){return{getTrainerEvents:function(r){return i.get("/Schedule/TrainerEvents",{params:{trainerId:r}})},getGroups:function(r,n,e){var t={page:n,count:e};for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a]);return i.get("/Learning/GetGroupsJson",{params:t})},getFilter:function(){return i.get("/Learning/Filter")}}}angular.module("rd.main").factory("LearningService",r),r.$inject=["$http"]}();
"use strict";angular.module("rd.main").factory("MailService",["$http",function(r){return{unsubscribe:function(){return r.post("/api/mail/unsubscribe")}}}]);
"use strict";function ChosenSearchInputHandler(t){return function(e){var n=document.querySelector(".choose-field__item.hashtag");n.addEventListener("touchstart",function(n){t.closestByClass(n.target,"search-choice-close")&&(e.selectedHashtags=_.filter(e.selectedHashtags,function(e){return e.Name!==n.target.parentNode.children[0].innerHTML}),e.$applyAsync())}),$(n).on("change",function(){e.isHashtagHintsVisible=!1,e.$applyAsync()}),n.onblur=function(){e.isHashtagHintsVisible=!1,e.$applyAsync()}}}angular.module("rd.main").factory("ChosenSearchInputHandler",ChosenSearchInputHandler),ChosenSearchInputHandler.$inject=["CommonService"];
"use strict";
"use strict";angular.module("rd.main").constant("HashtagChecker",function(a,e){var t=$(e.target).closest(".chosen-container").find(".chosen-results").children();if(e.target.value=" "===e.target.value?"":e.target.value,a.invalidHashtag=e.target.value&&!e.target.value.match(/^[A-Za-z0-9.+ ]{1,100}$/g)&&!a.maxLengthTag,a.isCanAddTag=!a.invalidHashtag&&!!e.target.value&&!a.maxLengthTag,a.isCanAddNewTag=t.length&&"no-results"===t[0].className&&a.isCanAddTag,a.maxLengthTag=100<=e.target.value.length,a.isHashtagHintsVisible=!!e.target.value,(13===e.keyCode||"Enter"===e.key||" "===e.target.value[e.target.value.length-1])&&!a.invalidHashtag&&e.target.value&&!a.maxLengthTag){a.isCanAddTag=!1,a.isCanAddNewTag=!1;var s="#"+e.target.value.toUpperCase().trim(),g={Id:0,Name:s},r=_.findWhere(a.serverHashtags,{Name:s});r?(a.selectedHashtags.push(r),a.serverHashtags.push("")):(a.serverHashtags.push(g),a.selectedHashtags.push(g))}a.$applyAsync()});
"use strict";!function(){function e(i,n,a){return{getAllNews:function(e,t,n,a){var r=[];null!=e&&r.push("pageNumber="+e);null!=t&&r.push("countOfItemsPerPage="+t);null!=n&&r.push("categoryId="+n);null!=a&&(a=encodeURIComponent(a),r.push("urlHashTag="+a));return i.get("api/news/preview?"+r.join("&"),{cache:!0})},getNewsDetails:function(e,t){return i.get("api/news/"+e+"/light?cultureName="+t)},getNewsImage:function(e,t){return i.get("/api/news/get-news-image/"+e+"/"+t,{cache:!0})},getAllCategories:function(){return i.get("api/news/get-all-news-categories",{cache:!0})},getCategories:function(){return i.get("api/news/get-categories-with-news",{cache:!0})},getTagByUrlName:function(e){e=encodeURIComponent(e);return i.get("api/hashtags/get-by-url?urlName="+e)},getExistingTags:function(e){return i.get("api/hashtags/get-all-with-news?cultureName="+e,{cache:!0})},getAllServerTags:function(){return i.get("/api/hashtags/get-all")},saveNewTags:function(e){return i.post("api/hashtags/create-many",e)},deleteTag:function(e){var t=window.encodeURIComponent(e);return i.delete("api/hashtags/delete?hashtagName="+t)},getNews:function(){return i.get("api/news/get-all-old")},getAuthors:function(){return i.get("api/news/get-authors",{cache:!0})},getImageNames:function(e){return i.get("api/news/get-image-names?newsId="+e)},saveNewsImage:function(e){return i.post("api/news/save-news-image",e)},deleteNewsImage:function(e,t){return i.delete("api/news/delete-news-image/"+e+"/"+t)},deleteNews:function(e){return i.delete("api/news/"+e)},createNews:function(e){return i.post("/api/news",t(e))},addLike:function(e){return i.post("/api/news/add-like?newsId="+e)},addView:function(e){return i.post("/api/news/add-view?newsId="+e)},getEditNews:function(e){return i.get("/api/news/"+e)},editNews:function(e){return i.put("/api/news",t(e))},subscribeUser:function(e){var t={entityName:"News",entityId:null,email:e};return i.post("/api/subscriptions/add-subscription",t)},onNewsClick:function(e,t){e.ctrlKey||e.metaKey||(window.location.href=r(t)+n.search().lang,a.showGlobalPreloader())},getLinkToNews:r};function r(e){return"/News/Items/"+e+"?lang="}function t(e){var t=angular.copy(e);return["SummaryEn","SummaryRu","SummaryUa","ContentEn","ContentRu","ContentUa"].forEach(function(e){t[e]=t[e].replaceAll(/(?:href=\"https?:\/\/?(?:www\.)?training\.?(?:ru|by|epam\.?(com|kz|ua|am|uz))?)/gi,'href="')}),t}}angular.module("rd.main").factory("NewsService",e),e.$inject=["$http","$location","CommonService"]}();
"use strict";!function(){function e(n){return{getCommonData:function(){return n.get("/api/preferences/common-data")},getCurrentSettings:function(){return n.get("/api/preferences/user-data")},saveSettings:function(e){return n.post("/api/preferences/update",e)},saveTimezone:function(e){return n.post("/api/preferences/update-timezone?timezone="+e)},saveTeamsChannelLink:function(e){return n.post("/api/preferences/update-notification-links",{TeamsChannelLink:e})},getTeamsChannelLink:function(){return n.get("/api/preferences/notification-links")}}}angular.module("rd.main").factory("PreferencesService",e),e.$inject=["$http"]}();
"use strict";angular.module("rd.main").factory("RegistrationSurveyService",["$http",function(n){return{saveSurvey:function(e){return n.post("/Survey/SaveSurvey",e)},getStudentSurveyAnswers:function(e,r){return n.get("/api/training-management/survey/user-answers?planId="+e+"&userId="+r)},checkSurveyAnswers:function(e){var r={trainingId:+e};return n.post("/Survey/IsSurveyHasAnswers",r)},checkPermissionsForViewSurvey:function(e){return n.get("/Survey/IsHasPermissionToViewSurveyAnswers",{params:{trainingId:e}})},deleteSurvey:function(e){var r={surveyId:+e};return n.post("/Survey/DeleteSurvey",r)}}}]);
"use strict";!function(){function t(s){return{getSurveyQuestions:function(t){return function(t){return s.get("/api/registration-wizard/training-survey/"+t+"/questions")}(t).then(function(t){return t.data.Questions})},saveSurveyAnswers:function(t,n){return n.length?s.post("/api/registration-wizard/training-survey/"+t+"/save-answers",n):Promise.resolve(!0)},saveCancelRegistrationReason:function(t,n,i){return s.post("/api/registration-wizard/cancel-registration",{PlanId:t,CancellationComment:n,CancellationReasonId:i})},isShowSurvey:function(t){return s.get("/api/registration-wizard/training-survey/"+t).then(function(t){return!!t.data})},saveUTM:function(t,n,i,r,e,a,o){return s.post("/api/registration-wizard/save-utm",{PlanId:+t,Source:n,Medium:i,Campaign:r,Referer:e,Term:a,Content:o})},getEnglishTestLevelData:function(){return s.get("/api/registration-wizard/english-test-data")},getRegistrationInfo:function(){return s.get("/api/registration-wizard/form-info")},getRegistrationSchema:function(t){return s.get("/api/registration-wizard/"+t)},getRegistrationUserInfo:function(t){return s.get("/api/registration-wizard/info/"+t)},saveRegistrationUserInfo:function(t,n){return s.post("/api/registration-wizard/"+t,n)},registerPolicyConfirmation:function(t){return s.post("/api/registration-wizard/policy-confirmation?planId="+t)},registerPublicOfferConfirmation:function(t){return s.post("/api/registration-wizard/public-offer-confirmation?planId="+t)},getCancelRegistrationReasons:function(){return s.get("/api/registration-wizard/cancel-registration-reasons")}}}angular.module("rd.main").factory("RegistrationWizardService",t),t.$inject=["$http"]}();
"use strict";!function(){function i(t){return{createDescription:function(i){return t.post("/api/skills-descriptions",i)},editDescription:function(i){return t.put("/api/skills-descriptions",i)},getDescription:function(i){return t.get("/api/skills-descriptions/"+i)},removeDescription:function(i){return t.delete("/api/skills-descriptions?id="+i)},getDescriptions:function(){return t.get("/api/skills-descriptions")},getActive:function(){return t.get("/api/skills-descriptions/active",{cache:!0})}}}angular.module("rd.main").factory("SkillsDescriptionsService",i),i.$inject=["$http"]}();
"use strict";angular.module("rd.main").factory("StudentLearningService",["$http",function(t){return{getTrainers:function(){return t.get("/api/studentLearning/trainers")},getStudentEvents:function(){return t.get("api/studentLearning/events")},getDepartmentGroups:function(){return t.get("api/studentLearning/groups-department")},getEpamGroups:function(){return t.get("api/studentLearning/groups-epam")}}}]);
"use strict";!function(){function e(n){return{getInformation:function(e){return n.get("api/trainings/freemium?id="+e)},sendRequest:function(e){return n.post("api/trainings/freemium/send-email",e)}}}angular.module("rd.main").service("FreemiumService",e),e.$inject=["$http"]}();
"use strict";!function(){function n(t){return{getTrainingLanguage:function(n){return t.get("/api/program-language/"+n)},getUserTrainingDetails:function(n){return t.get("api/trainings/"+n+"/details/user")},countriesAdapter:function(n){return JSON.parse(n)||[]}}}angular.module("rd.main").factory("TrainingDetailService",n),n.$inject=["$http"]}();
"use strict";!function(){function t(i){return{getSkills:function(t){return i.get("/api/skills/extended?isFullList="+!!t,{cache:!0})},getTrainings:function(){return i.get("/api/trainings/active",{cache:!0})},getRegisteredTrainings:function(){return i.get("/api/trainings/registered",{cache:!0})},getDisabledTrainings:function(){return i.get("/api/trainings/disabled",{cache:!0})},getDreamLocationsNames:function(){return i.get("/api/locations/countries",{cache:!0})},getActiveLocationNames:function(){return i.get("/api/locations/active-countries",{cache:!0})},getTrainingsNames:function(t){return i.get("/api/skills/short?isFullList="+!!t,{cache:!0})},getCurrentUserLocation:function(){return i.get("/api/locations/current-user-location",{cache:!0})},getTrainingFilterData:function(t){return i.get("/api/trainings/plan-filter-data?isFullPlanTypeList="+!!t,{cache:!0})},getTrainingDetailsFilterData:function(){return i.get("/api/trainings/plan-details-filter-data",{cache:!0})},subscribeUser:function(t){return i.post("/api/dreamTraining",t)}}}angular.module("rd.main").factory("TrainingListService",t),t.$inject=["$http"]}();
"use strict";angular.module("rd.main").factory("TrainingGroupsService",["$http",function(u){return{getGroups:function(t){var n={planId:+t};return u.get("/Group/GetGroupsJson",{params:n})},deleteGroup:function(t){var n={id:+t};return u.post("/Group/Delete/",n)},addGroup:function(t){var n={PlanId:+t};return u.post("/Group/Save",n)},getGroup:function(t,n){var e={planId:+t,groupId:+n};return u.get("/Group/GetGroupJson",{params:e})},saveTrainer:function(t,n){var e={groupId:+t,userId:+n};return u.post("/Group/SaveTrainer",e)},deleteTrainer:function(t,n){var e={groupId:+t,userId:+n};return u.get("/Group/RemoveTrainer",{params:e})},saveStudent:function(t,n,e){var r={groupId:+t,planId:+n,userId:+e};return u.post("/Group/SaveStudent",r)},saveManyStudents:function(t,n,e){var r={groupId:+t,planId:+n,userIds:e};return u.post("/Group/AddStudents",r)},deleteStudent:function(t,n){var e={groupId:+t,userId:+n};return u.get("/Group/RemoveStudent",{params:e})},deleteStudents:function(t,n){var e={groupId:+t,userIds:n};return u.get("/Group/RemoveStudents",{params:e})},changeStudentStatus:function(t,n,e){var r={id:+t,userId:+n,statusId:+e};return u.post("/Plan/ChangeParticipantStatusForGroup",r)},getFreeStudents:function(t,n){var e={planId:+t,groupId:+n};return u.get("/Group/NondistributedStudents",{params:e})},getManyStudents:function(t,n){var e={planId:+t,groupId:+n};return u.get("/Group/AddStudents",{params:e})},saveGroup:function(t){var n={Id:+t.Id,PlanId:+t.PlanId,Endless:t.Endless,Name:t.Name,StartDate:t.startDate,EndDate:t.endDate,GraduationCount:t.GraduationCount,Status:t.StatusId,Version:t.Version,Rooms:t.SelectedRooms};return u.post("/Group/Save",n)},MoveToFormation:function(t){var n={id:+t};return u.post("/GroupWorkflow/MoveToFormation/",n)},MoveToLearning:function(t){var n={id:+t};return u.post("/GroupWorkflow/MoveToLearning/",n)},getPlanInfo:function(t){return u.get("/api/trainings/".concat(t,"/partial-details"))},MoveToFinished:function(t){var n={id:+t};return u.post("/GroupWorkflow/MoveToFinished/",n)},assignGroupToSubject:function(t,n,e){return u.get("/Group/AssignStudentGroupOnSubject?studentGroupId="+t+"&subjectId="+n+"&planId="+e)},removeGroupFromSubject:function(t,n){var e={subjectId:+t,studentGroupIds:n};return u.post("/Group/RemoveStudentGroupsFromSubject",e)},saveManualJoinDateStudents:function(t,n){var e={manualAssignmentDateTimeForStudent:t,targetGroupId:+n};return u.post("/api/training-management/groups/assign-join-time",e)},getGroupMentees:function(t){return u.get("/api/training-management/mentor/"+t)},saveMentorsWithMentees:function(t,n){return u.post("/api/training-management/mentor/"+t,n)},getParticipantsStatusesCount:function(t){return u.get("/api/trainings/students-statuses?planId="+t)},changeStudentGroupForStudent:function(t,n,e){var r={planId:+t,newStudentGroupId:+n,usersIds:e};return u.post("/Group/ChangeStudentGroup",r)}}}]);
"use strict";angular.module("rd.main").factory("AccountsService",["$http",function(t){return{getAccounts:function(){return t.get("/userProfile/GetAccounts")},setPrimary:function(e){return t.get("/UserProfile/SetAsPrimary",{params:{accountId:e}})},deleteAccount:function(e){return t.get("/UserProfile/DeleteAccount",{params:{accountId:e}})},changePassword:function(e){return t.post("/UserProfile/ChangePassword",{model:e})},addAccount:function(e){return t.post("/UserProfile/AddAccount",{model:e})},getCurrentUser:function(){return t.get("/MergeUser/GetCurrentUserData")},confirmEmail:function(e){return t.get("/Auth/EmailConfirmation",{params:{confirmationCode:e}})},sentConfirmationCode:function(e){return t.post("/Auth/SendConfirmationCode",{accountId:e})},assignTest:function(e){return t.get("/UserProfile/AssignTest",{params:{userId:e}})},assignTestConf:function(e){return t.post("/UserProfile/ConfirmAssignTest",{userId:e})}}}]);
"use strict";angular.module("rd.main").factory("EditProfileService",["$http","Upload",function(r,o){return{uploadPhoto:function(e,t,i){var n=a("/api/profile/update-photo",t);return e||!i?o.upload({url:n,data:{file:e}}):Promise.resolve()},getVerificationEmail:function(e){return r.get("/api/profile/verification-email?email="+e)},getOpenInformation:function(e){var t=a("/api/profile/contacts-info",e);return r.get(t)},updateOpenInformation:function(e,t){var i=a("/api/profile/contacts-info",t);return r.post(i,e)},updateBasicInfo:function(e,t){var i=a("/api/profile/basic-info",t);return r.post(i,e)},updateEducation:function(e,t){var i=a("/api/profile/educations",t);return r.post(i,e)},updateWorkExperience:function(e,t){var i=a("/api/profile/work-experiences",t);return r.post(i,e)},updateSkills:function(e,t){var i=a("/api/profile/user-skills",t);return r.post(i,e)},updateEnglishInfo:function(e,t,i){var n=a("/api/profile/save-english",i);return r.post(n,{EnglishLevel:e,HasEnglishCertificate:t})},createResumes:function(e){return r.post("/api/resume",e)},deleteResumes:function(e){return r.delete("/api/resume",{data:e,headers:{"Content-Type":"application/json"}})}};function a(e,t){return e+(t?"?userId="+t:"")}}]);
"use strict";angular.module("rd.main").factory("UserProfileFormsService",["$translate","LocationsService","CommonService",function(r,e,i){return{getUpdatedSkills:function(e,t,n){var i=_.pluck(e,"SkillId");return 0<n.length?_.chain(t).pluck("Skills").flatten().filter(function(e){return 0!==e.SkillLevel||i.includes(e.SkillId)}).value():e},isShouldAssigned:function(e,t){var n=_.find(e,{Id:t});return n&&10===n.CountryId},isShowAdmissionYear:function(e){return!(!e.Degree||2!==e.Degree&&3!==e.Degree&&4!==e.Degree&&8!==e.Degree)||(e.EducationYear=null,!1)},updateUniversities:function(t,n,i){n.EducationCityId?e.getUniversitiesByCity(n.EducationCityId).then(function(e){t[i].universities=_.sortBy(e.data,"UniversityName"),t[i].universities.unshift({UniversityId:-1,UniversityName:r("Other")}),-1===n.EducationCityId?n.EducationEstablishmentId=-1:_.findWhere(t[i].universities,{UniversityId:n.EducationEstablishmentId})||(n.EducationEstablishmentId=null),a(t,n,i)}):(t[i].universities=[],t[i].currentFaculties=[],t[i].currentDepartments=[])},updateFaculties:a,updateDepartments:u,cleanAssignment:function(e,t){var n=_.find(e,{Id:t.EducationCityId});n&&10!==n.CountryId&&(t.Assignment=null,t.IsDistributionCompanyEpam=!1,t.DistributionCompany="");return t},parseEmptyEducation:function(e){e.Assignment=e.Assignment||null,e.Degree=e.Degree||null,e.EducationForm=e.EducationForm||null,e.EducationYear=e.EducationYear||null,e.EnglishLevel=e.EnglishLevel||null},scrollToFirstError:function(){var e,t=angular.element("input.ng-invalid"),n=angular.element("rd-combo-box.ng-invalid");e=t.length||n.length?!t.length&&n.length?n.first():t:angular.element("select.ng-invalid+div").first();i.scrollTo(e)}};function a(e,t,n){var i=_.findWhere(e[n].universities,{UniversityId:t.EducationEstablishmentId})||{};e[n].currentFaculties=_.propertyOf(i)("Faculties")?_.chain(i.Faculties).clone().sortBy("FacultyName").value():[],e[n].currentFaculties.unshift({FacultyId:-1,FacultyName:r("Other")}),-1===t.EducationEstablishmentId?t.FacultyId=-1:_.findWhere(e[n].currentFaculties,{FacultyId:t.FacultyId})||(t.FacultyId=null),u(e,t,n)}function u(e,t,n){var i=_.findWhere(e[n].currentFaculties,{FacultyId:t.FacultyId})||{};e[n].currentDepartments=_.propertyOf(i)("Departments")?_.chain(i.Departments).clone().sortBy("DepartmentName").value():[],e[n].currentDepartments.unshift({DepartmentId:-1,DepartmentName:r("Other")}),-1===t.FacultyId?t.DepartmentId=-1:_.findWhere(e[n].currentDepartments,{DepartmentId:t.DepartmentId})||(t.DepartmentId=null)}}]);
"use strict";angular.module("rd.main").factory("UserProfileService",["$http",function(r){return{getBasicInfo:function(e){var t=n("/api/profile/basic-info",e);return r.get(t)},getEducationEstablishments:function(e){var t=n("/api/profile/educations",e);return r.get(t)},getSkills:function(e){var t=n("/api/profile/user-skills",e);return r.get(t)},getWorkExperience:function(e){var t=n("/api/profile/work-experiences",e);return r.get(t)},getEnglishLevel:function(e){var t=n("/api/profile/english-info",e);return r.get(t)},getResume:function(e){var t=n("/api/resume",e);return r.get(t)},getStudentGroups:function(e){var t=n("/api/profile/student-groups",e);return r.get(t)},getApplications:function(e){var t=n("/api/profile/applications",e);return r.get(t)},getCurrentTesting:function(e){var t=n("/api/profile/current-testing",e);return r.get(t)},getConfirmAssignTest:function(e){return r.post("UserProfile/ConfirmAssignTest?userId="+e)},getTestResultsLink:function(e){{if(e){var t=n("/api/profile/english-test-result",e);return r.get(t)}return Promise.resolve({data:null})}}};function n(e,t){return e+(t?"?userId="+t:"")}}]);
"use strict";angular.module("rd.main").factory("MergeUserService",["$http",function(n){return{getUser:function(e,r,t){var s={id:e,name:r,email:t};return n.post("/MergeUser/SearchUser",s)},getAllDataForMerge:function(){return n.post("/MergeUser/GetMergedData",{})},mergeUsers:function(e){return n.post("/MergeUser/MergeUser",e)},searchSourceUser:function(){return n.post("/MergeUser/CheckUserForMerge",{})},GetMergedDataForAdmin:function(e){return n.post("/MergeUser/GetMergedDataForAdmin",e)},mergeUsersFromAdmin:function(e,r,t){return n.post("/MergeUser/MergeUserForAdmin",{mergeDefaultValues:e,resolvedConflictsModel:r,isDeleteUser:t})}}}]);
"use strict";!function(){function n(a,e,u){var o,c,s=this;this.unsubscribe=function(){c(),o(),a.showPopup=null,window.onbeforeunload=null},this.checker=function(n,i){var t=n;function r(){var n=e.location.href.split("?lang=")[0],o=t.directionPage.split("?lang=")[0];s.unsubscribe(),n===o?e.history.back():e.location.href=t.directionPage}a.showPopup=function(){return i()},window.onbeforeunload=function(){if(i())return!0},o=t.$on("$locationChangeStart",function(n,o){var e=o.split("?").pop();i()&&e.includes("lang=")&&(t.directionPage=o,n.preventDefault(),a.confirmationPopup(u("Dlg_SaveChangesMessage"),r))}),c=t.$on("$destroy",function(){s.unsubscribe()})}}angular.module("rd.main").service("UserLeaveService",n),n.$inject=["$rootScope","$window","$translate"]}();
"use strict";angular.module("rd.main").factory("UsersService",["$http",function(r){return{getNewUser:function(){return r.get("/AdministrationUser/Create")},getInfoPmcUser:function(t){return r.get("/AdministrationUser/GetPmcUserData",{params:{searchEmail:t}})},checkEmailUnique:function(t){return r.get("/AdministrationUser/CheckEmailUnique",{params:{email:t}})},createUser:function(t){return r.post("/AdministrationUser/Create",{model:t})},getEditUser:function(t){return r.get("/AdministrationUser/Edit",{params:{userId:t}})},getUserLocalRoles:function(t){return r.get("/AdministrationUser/EditLocalRoles",{params:{id:t}})},saveEditUser:function(t){return r.post("/AdministrationUser/Edit",{model:t})},changeUserPassword:function(t,e){return r.post("/AdministrationUser/ResetUserPassword/",{id:t,password:e})},deleteAccount:function(t){return r.get("/AdministrationUser/DeleteUserAccount",{params:{accountId:t}})},createPmcAccount:function(t,e){return r.post("/AdministrationUser/CreatePmcAccount/"+t,{model:{Email:e}})},getLocalRoleName:function(t,e){return r.get("/AdministrationUser/GetLocalRoleName",{params:{objectId:t,type:e}})},blockUser:function(t){return r.post("/AdministrationUser/Block/"+t)},restoreUser:function(t){return r.post("/AdministrationUser/Restore/"+t)},moveAccount:function(t,e){return r.post("/AdministrationUser/MoveUserAccount",{model:{ToUserId:t,AccountId:e}})},getUserToMoveAccount:function(t,e){return r.get("/AdministrationUser/MoveAccountData",{params:{accountId:t,search:e}})},setPrimary:function(t,e){return r.post("/AdministrationUser/SetAsPrimaryAccount",{idUser:t,idAccount:e})},deleteUser:function(t){return r.post("/AdministrationUser/Delete",{id:t})},getUserGroups:function(t){return r.get("/RegistrationWizard/GetGroups",{params:{userId:t}})},obfuscateData:function(t){return r.post("/AdministrationUser/ObfuscateUserData",{userId:t})}}}]);
"use strict";!function(){function t(r){return{getItems:function(t){var e={params:{countryId:t}};return r.get("Faq/GetList",e)},getItem:function(t){var e={params:{faqId:t}};return r.get("Faq/Edit",e)},createItemPrepare:function(){return r.get("/Faq/Create")},createItem:function(t){var e={IsGlobal:!0,LocalFAQs:t};return r.post("Faq/Create",e)},updateItem:function(t,e){var a={Id:t,LocalFAQs:e};return r.put("Faq/Edit",a)},deleteItem:function(t){var e={params:{faqId:t}};return r.delete("Faq/Delete",e)},getFaqApi:function(){return r.get("api/faq")}}}angular.module("rd.main").factory("FaqService",t),t.$inject=["$http"]}();
"use strict";!function(){function n(i){return{deleteTrainingSkill:function(n){return i.post("TrainingType/Remove",{id:n})}}}angular.module("rd.main").factory("AboutTrainingsService",n),n.$inject=["$http"]}();
"use strict";angular.module("angular.translate",["ng"]),angular.module("angular.translate").provider("$translate",function(){this.$get=["$filter",function(r){return function(t,n){var a=$.i18n.prop(t);return n&&(a=r("format")(a,n)),a||t}}]}),angular.module("angular.translate").directive("translate",["$filter",function(t){var r=t("translate");return{restrict:"A",scope:!0,link:function(n,a,t){t.$observe("translate",function(t){angular.equals(t,"")?n.translationId=a.text().replace(/^\s+|\s+$/g,""):n.translationId=t}),n.$watch("translationId",function(t){t&&a.html(r(n.translationId))})}}}]),angular.module("angular.translate").filter("translate",["$translate",function(n){return function(t){return n(t)}}]);
"use strict";angular.module("StatusPopup",[]).config(["$provide",function(u){u.value("$statusPopup",function(){return $.statusPopup.apply($,arguments)})}]);
"use strict";angular.module("UrlResolver",[]).config(["$provide",function(r){r.constant("$url",function(){return $.url.get.apply($.url,arguments)})}]);
"use strict";angular.module("rd.main").config(["$stateProvider","$urlRouterProvider","$url",function(t,e,a){function n(t){return a("/Templates/Administration/Dictionaries/"+t+".html")}t.state("home",{url:"/Home",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/"}]}).state("applications",{url:"/Applications",templateUrl:"/Templates/Applications/Applications.html",controller:"ApplicationsController",data:{title:"Applications_Title"}}).state("trainings",{abstract:!0,template:"<ui-view/>"}).state("trainings.trainingList",{url:"/TrainingList",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/training"}]}).state("trainings.details",{url:"/Training/:id",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/training/"+t.id}]}).state("trainings.freemium",{url:"/Freemium/:id",templateUrl:"/Templates/Freemium/Freemium.html",controller:"FreemiumController",data:{title:"PaidConsultation"}}).state("root.registration",{url:"/TrainingRegistration/:planId",templateUrl:"/Templates/TrainingRegistration/TrainingRegistration.html",controller:"TrainingRegistrationController",data:{title:"Registration_Wizard"}}).state("centerManagement",{url:"/CenterManagement",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/"}]}).state("centerManagementCreate",{url:"/CenterManagement/Create",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/"}]}).state("centerManagementEdit",{url:"/CenterManagement/Edit/:id",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/"}]}).state("centerManagementPreview",{url:"/CenterManagement/Preview",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/"}]}).state("trainingCenter",{url:"/TrainingCenter/:id",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/"}]}).state("news",{abstract:!0,template:"<ui-view/>"}).state("skillsManagement",{url:"/SkillsManagement",onEnter:function(){window.location.replace("".concat(window.location.origin,"/Management#!/skills"))}}).state("skillsManagementCreate",{url:"/SkillsManagement/Create",onEnter:function(){window.location.replace("".concat(window.location.origin,"/Management#!/skill"))}}).state("skillsManagementEdit",{url:"/SkillsManagement/Edit/:stringId",onEnter:["$stateParams",function(t){window.location.replace("".concat(window.location.origin,"/Management#!/skill/").concat(t.stringId))}]}).state("root.newsManagement",{url:"/NewsManagement",templateUrl:"/Templates/NewsManagement/Index.html",controller:"NewsManagementController",data:{title:"NewsManagement"}}).state("root.newsManagementCreate",{url:"/NewsManagement/Create",templateUrl:"/Templates/NewsManagement/Create.html",controller:"NewsManagementCreateController",data:{title:"CreateNewsItem"}}).state("root.newsManagementEdit",{url:"/NewsManagement/Edit/:id",templateUrl:"/Templates/NewsManagement/Edit.html",controller:"NewsManagementEditController",data:{title:"EditNewsItem"}}).state("news.main",{url:"/News",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+e.search().lang+"/blog"}]}).state("news.category",{url:"/News/Category/:categoryUrl",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/blog?category="+t.categoryUrl}]}).state("news.hashtagPage",{url:"/News/Hashtag/:hashtagUrl",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/blog?tag="+t.hashtagUrl}]}).state("news.details",{url:"/News/:newsId",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/blog/"+t.id}]}).state("admin",{abstract:!0,url:"/Admin",templateUrl:"/Templates/Core/Tabs.html",controller:"TabsController",resolve:{tabsContainer:["$stateParams",function(t){return t.tabsContainer="Admin",t}]}}).state("admin.dictionaries",{url:"/Dictionaries",templateUrl:"/Templates/Core/DropDownSiteNode.html",controller:"TabsController",resolve:{tabsContainer:["$stateParams",function(t){return t.tabsContainer="Dictionaries",t}]},redirectTo:"admin.dictionaries.addresses"}).state("admin.dictionaries.addresses",{url:"/Addresses",templateUrl:"/Templates/Administration/Dictionaries/Addresses/Index.html",controller:"AddressesController",data:{title:"Address_Addresses"}}).state("admin.dictionaries.skills",{url:"/Skills",templateUrl:n("Skills/Index"),controller:"SkillsController",data:{title:"TrainingType_Types"},params:{responseData:null}}).state("admin.dictionaries.skillEdit",{url:"/Skills/Edit/:skillId",templateUrl:n("Skills/Edit"),controller:"SkillEditController",data:{title:"TrainingType_Types"}}).state("admin.dictionaries.skillCreate",{url:"/Skills/Create",templateUrl:n("Skills/Edit"),controller:"SkillEditController",data:{title:"TrainingType_Types"}}).state("admin.dictionaries.room",{url:"/Room",templateUrl:n("Labs/Index"),controller:"RoomController",data:{title:"Lab_Labs"},onExit:["RoomService","LocationService","FacultyService","DepartmentService","CountryService","CityService",function(t,e,a,n,r,l){t.clearCache(),e.clearCache(),a.clearCache(),n.clearCache(),r.clearCache(),l.clearCache()}]}).state("admin.dictionaries.skillCategories",{url:"/SkillCategories",templateUrl:n("SkillCategories/Index"),controller:"SkillCategoriesController",data:{title:"SkillCategories"}}).state("admin.dictionaries.staffingDeskStatuses",{url:"/StaffingDeskStatuses",templateUrl:n("StaffingDeskStatuses/Index"),controller:"StaffingDeskStatusesController",data:{title:"Admin_StaffingDeskStatuses"}}).state("admin.dictionaries.configurationValues",{url:"/ConfigurationValues",templateUrl:n("ConfigurationValues/Index"),controller:"ConfigurationValuesController",data:{title:"Configuration_Values"}}).state("admin.dictionaries.usersSkills",{url:"/UsersSkills",templateUrl:n("UsersSkills/Index"),controller:"UsersSkillsController",data:{title:"Skills"}}).state("admin.dictionaries.logoManagement",{url:"/LogoManagement",templateUrl:n("LogoManagement/Index"),controller:"LogoController",data:{title:"Logo_management"}}).state("admin.dictionaries.trainingTypeStatus",{url:"/TrainingTypeStatus",templateUrl:n("TrainingTypeStatus/Index"),controller:"TrainingTypeStatusController",data:{title:"TrainingTypeStatuses"}}).state("admin.dictionaries.workflowType",{url:"/PlanWorkflowType",templateUrl:n("WorkflowTypes/Index"),controller:"WorkflowTypeController",data:{title:"Training_kind_title"}}).state("admin.maintenance",{url:"/Maintenance",templateUrl:"/Templates/Core/DropDownSiteNode.html",controller:"TabsController",resolve:{tabsContainer:["$stateParams",function(t){return t.tabsContainer="Maintenance",t}]},redirectTo:"admin.maintenance.diagnostics"}).state("admin.maintenance.diagnostics",{url:"/Diagnostics",templateUrl:"/Templates/Administration/Maintenance/Diagnostics/Index.html",controller:"DiagnosticsController",controllerAs:"vm",data:{title:"Administration_Diagnostics"}}).state("admin.maintenance.cache",{url:"/Cache",template:"",controller:"",resolve:{redirect:["redirectService",function(t){t.goToLink("/Cache")}]},data:{title:"Administration_Diagnostics"}}).state("admin.maintenance.synchronization",{url:"/Synchronization",template:"",controller:"",resolve:{redirect:["redirectService",function(t){t.goToLink("/Synchronization")}]},data:{title:"Synchronization"}}).state("admin.maintenance.jobsManagement",{url:"/JobsManagement",template:"",controller:"",resolve:{redirect:["redirectService",function(t){t.goToLink("/JobsManagement")}]},data:{title:"Jobs_Management"}}).state("admin.roles",{url:"/AdministrationRole",template:"",controller:"AdminRoles"}).state("admin.ravenDb",{url:"/CheckRavenDB/CheckOnlineTask",template:"",controller:"AdminRavenDb"}).state("users",{abstract:!0,template:"<ui-view/>"}).state("users.main",{url:"/Users",templateUrl:"/Templates/Users/Index.html",controller:"UsersMainController",params:{createPromise:null},data:{title:"Users"}}).state("users.create",{url:"/Create",templateUrl:"/Templates/Users/Create.html",controller:"CreateUserController",data:{title:"User_Create"}}).state("users.edit",{url:"/EditUser/:userId",templateUrl:"/Templates/Users/Edit.html",controller:"EditUserController",data:{title:"User_Edit"}}).state("users.merge",{url:"/Users/MergeUsers",templateUrl:"/Templates/Users/Merge.html",controller:"MergeUsersController",data:{title:"User_Merge"},params:{mergeNotification:!1}}).state("auditTrail",{abstract:!0,url:"/Audit",templateUrl:"/Templates/AuditTrail/Index.html",data:{title:"ChangeLog_Title"}}).state("auditTrail.entity",{url:"/Entity?type&id",templateUrl:"/Templates/AuditTrail/Entity.html",controller:"AuditTrailEntityController"}).state("auditTrail.filter",{url:"/Filter?type",templateUrl:"/Templates/AuditTrail/Filter.html",controller:"AuditTrailFilterController"}).state("userprofile",{abstract:!0,template:"<ui-view/>"}).state("userprofile.main",{url:"/Main/:userId",templateUrl:"/Templates/UserProfile/Profile.html",controller:"MainProfileController",params:{checkEmptyProfile:!0},data:{title:"Profile"}}).state("userprofile.edit",{url:"/Edit/:userId",templateUrl:"/Templates/UserProfile/Edit.html",controller:"EditProfileController",data:{title:"Edit_Profile"}}).state("userprofile.preferences",{url:"/Preferences",templateUrl:"/Templates/UserProfile/ProfilePreferences.html",controller:"ProfilePreferences",data:{title:"SitemapMenu_Preferences"}}).state("userprofile.merge",{url:"/Merge",templateUrl:"/Templates/UserProfile/MergeAccountsTemplate.html",controller:"MergeUserController",data:{title:"Merge_Accounts"},params:{allData:null}}).state("userprofile.submit",{url:"/MergeSubmit",templateUrl:"/Templates/UserProfile/SubmitMergeTemplate.html",controller:"SubmitMergeController",data:{title:"Merge_Accounts"},params:{allData:null}}).state("trainingsManagement",{abstract:!0,template:"<ui-view/>"}).state("trainingsManagement.planTrainingTabs",{abstract:!0,url:"/TrainingsManagement/:planId",views:{"":{template:'<div id="training-management" class="content-box"><div ui-view="head"></div><div ui-view="tabs"></div></div>'},"head@trainingsManagement.planTrainingTabs":{templateUrl:"/Templates/TrainingsManagement/TrainingManagementHead.html",controller:"TrainingManagementHeadController"},"tabs@trainingsManagement.planTrainingTabs":{templateUrl:"/Templates/Core/Tabs.html",controller:"TabsController"}},params:{tabsContainer:"TrainingsManagement"},data:{title:""}}).state("root",{abstract:!0,template:"<ui-view/>"}).state("root.affiliateRegistration",{url:"/AffiliateRegistration/:planId",templateUrl:"/Templates/DepartmentAffiliate/AffiliateRegistration.html",controller:"AffiliateRegistrationController",data:{title:"DeptAffiliate_RegistrationForm"}}).state("root.practiceRegistration",{url:"/PracticeRegistration/:planId",templateUrl:"/Templates/DepartmentAffiliate/AffiliateRegistration.html",controller:"AffiliateRegistrationController",data:{title:"DeptAffiliate_RegistrationForm"}}).state("root.affiliateRegistrationEdit",{url:"/AffiliateRegistrationEdit/:planId/:userId",templateUrl:"/Templates/DepartmentAffiliate/AffiliateRegistrationEdit.html",controller:"AffiliateRegistrationEditController",data:{title:"DeptAffiliate_RegistrationForm"}}).state("inbox",{abstract:!0,template:"<ui-view/>"}).state("inbox.main",{url:"/Notifications",templateUrl:"/Templates/Inbox/InboxList.html",controller:"InboxListController",data:{title:"Inbox"}}).state("actionplan",{abstract:!0,template:"<ui-view/>"}).state("actionplan.main",{url:"/Main",templateUrl:"/Templates/ActionPlan/Index.html",controller:"ActionPlanController",data:{title:"ActionPlan"}}).state("training",{abstract:!0,template:"<ui-view/>"}).state("learning",{abstract:!0,url:"/Learning",template:"<ui-view/>"}).state("learning.main",{url:"/Main",templateUrl:"/Templates/Learning/Index.html",controller:"LearningController",data:{title:"Groups"}}).state("studentLearning",{abstract:!0,url:"/StudentLearning",templateUrl:"/Templates/StudentLearning/Index.html"}).state("studentLearning.home",{url:"/Home",templateUrl:"/Templates/StudentLearning/Home.html",controller:"LearningHomeController",data:{title:"Learning"}}).state("studentLearning.tasks",{url:"/Tasks",templateUrl:"/Templates/StudentLearning/Tasks.html",controller:"LearningTasksController",data:{title:"Tasks"}}).state("studentLearning.trainers",{url:"/Trainers",templateUrl:"/Templates/StudentLearning/Trainers.html",controller:"LearningTrainersController",data:{title:"Trainers"}}).state("about",{url:"/About",templateUrl:"/Templates/About/Index.html",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/about"}]}).state("psyTest",{url:"/Psy-test",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/career-test"}]}).state("search",{url:"/Search",onEnter:function(){window.location.replace("".concat(window.location.origin,"/Management#!/search"))}}).state("faq",{url:"/FAQ",onEnter:["$stateParams","$location",function(t,e){window.location.href="/"+(e.search().lang||"en")+"/"}]}),e.otherwise(function(t){t.invoke(["$state",function(t){/AdministrationUser/.test(window.location.pathname)?t.go("users.main"):/Admin/.test(window.location.pathname)?t.go("admin.dictionaries.addresses"):"/"==window.location.pathname&&t.go("home")}])})}]);