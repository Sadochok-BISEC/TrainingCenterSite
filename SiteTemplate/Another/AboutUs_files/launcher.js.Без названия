var T=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,U=(n,t)=>{var e={};for(var a in n)J.call(n,a)&&t.indexOf(a)<0&&(e[a]=n[a]);if(n!=null&&T)for(var a of T(n))t.indexOf(a)<0&&N.call(n,a)&&(e[a]=n[a]);return e};import{S as f,i as g,s as b,a as k,O as X,d as v,t as u,n as m,f as x,Z,_ as A,e as $,E as B,b as w,p as z,H as D,I as C,J as L,$ as I,aX as G,r as E,c as h,au as K,l as j,m as M,o as y,u as P,j as q,q as O,a9 as Q,b0 as R,ag as V,a$ as Y}from"./chunk-model.js";import{g as S}from"./chunk-index.js";/*!
Build date: Fri Sep 08 2023 15:44:52 GMT+0500 (Yekaterinburg Standard Time)
*/function tt(n){k(n,"svelte-s2bryu","div.svelte-s2bryu{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:22px;min-width:22px;padding:0 8px;border-radius:9999px;font-size:13px;background-color:#ff3b30;color:#ffffff}")}function W(n){let t,e,a;return{c(){t=$("div"),e=B(n[0]),w(t,"class","svelte-s2bryu")},m(s,r){v(s,t,r),z(t,e)},p(s,r){r&1&&D(e,s[0])},i(s){s&&(a||C(()=>{a=L(t,I,{duration:150,start:.3}),a.start()}))},o:m,d(s){s&&x(t)}}}function et(n){let t,e=n[0]>0&&W(n);return{c(){e&&e.c(),t=X()},m(a,s){e&&e.m(a,s),v(a,t,s)},p(a,[s]){a[0]>0?e?(e.p(a,s),s&1&&u(e,1)):(e=W(a),e.c(),u(e,1),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i(a){u(e)},o:m,d(a){e&&e.d(a),a&&x(t)}}}function at(n,t,e){let a;return Z(n,A,s=>e(0,a=s)),[a]}class nt extends f{constructor(t){super(),g(this,t,at,et,b,{},tt)}}const _=5*1e3,st=45*1e3,rt=5*1e3;function F(){return!!carrotquest.data.app.settings.messenger_avatar_big}function it(n){const t="ru",{isLightOnClientsColorLooksWell:e}=S();return`https://cdn.carrotquest.app/img/${t}/collapsed-animate/${e?"default":"dark"}/${n}.png`}function ot(){if(F())return`https://files.carrotquest.app/avatars/${carrotquest.data.app.settings.messenger_avatar_big}`;const n="ru",{isLightOnClientsColorLooksWell:t}=S();return`https://cdn.carrotquest.app/img/${n}/collapsed-chat/${t?"default":"dark"}/icon-collapsed-chat.png`}function ct(){if(!H())return null;const n=G(carrotquest.data.app.settings.messenger_collapsed_animations)[0];return it(n)}function H(){return!!carrotquest.data.app.settings.messenger_collapsed_animations.length}function lt(n){k(n,"svelte-sel0jm",'@charset "UTF-8";.container.svelte-sel0jm{height:60px;width:60px;border-radius:9999px;background-image:var(--background-image-url);background-size:cover;background-repeat:no-repeat;background-color:var(--accent-color);background-position:0 0;-webkit-box-shadow:0 3px 12px 1px rgba(0, 0, 0, 0.2);box-shadow:0 3px 12px 1px rgba(0, 0, 0, 0.2);-webkit-backface-visibility:hidden;backface-visibility:hidden}.container.animation.svelte-sel0jm{-webkit-animation:svelte-sel0jm-icon-animation var(--animation-duration) steps(158) 1;animation:svelte-sel0jm-icon-animation var(--animation-duration) steps(158) 1;background-image:var(--animation-url);background-size:9480px 60px}@-webkit-keyframes svelte-sel0jm-icon-animation{from{background-position:0 0}to{background-position:-9480px 0}}@keyframes svelte-sel0jm-icon-animation{from{background-position:0 0}to{background-position:-9480px 0}}')}function ut(n){let t,e=`${_}ms`,a=`url(${n[0]})`,s=`url(${n[2]})`;return{c(){t=$("div"),w(t,"class","container svelte-sel0jm"),E(t,"animation",n[1]),h(t,"--animation-duration",e),h(t,"--animation-url",a),h(t,"--background-image-url",s)},m(r,o){v(r,t,o)},p(r,[o]){o&2&&E(t,"animation",r[1]),o&1&&a!==(a=`url(${r[0]})`)&&h(t,"--animation-url",a)},i:m,o:m,d(r){r&&x(t)}}}function mt(n,t,e){const a=ot();let s="",r=!1;function o(){e(0,s=ct()),e(1,r=!0)}function l(){e(0,s=""),e(1,r=!1)}return K(()=>{if(F()||!H())return;let c,p,i,d;return c=setTimeout(()=>{o(),p=setTimeout(()=>l(),_),i=setInterval(()=>{o(),d=setTimeout(()=>l(),_)},st+_)},rt),()=>{clearTimeout(c),clearTimeout(p),clearInterval(i),clearTimeout(d)}}),[s,r,a]}class pt extends f{constructor(t){super(),g(this,t,mt,ut,b,{},lt)}}function dt(n){k(n,"svelte-15k8jsl",".container.svelte-15k8jsl{position:relative;padding:12px;cursor:pointer}.counter.svelte-15k8jsl{position:absolute;top:12px;right:12px}.sent-animated{-webkit-animation-name:svelte-15k8jsl-collapsed-on-message-animate;animation-name:svelte-15k8jsl-collapsed-on-message-animate;-webkit-animation-duration:0.57s;animation-duration:0.57s;-webkit-animation-timing-function:cubic-bezier(0.64, 0.57, 0.67, 1.53);animation-timing-function:cubic-bezier(0.64, 0.57, 0.67, 1.53)}@-webkit-keyframes svelte-15k8jsl-collapsed-on-message-animate{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}40%{-webkit-transform:scale(1.1, 1.1);transform:scale(1.1, 1.1)}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}@keyframes svelte-15k8jsl-collapsed-on-message-animate{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}40%{-webkit-transform:scale(1.1, 1.1);transform:scale(1.1, 1.1)}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}")}function ft(n){let t,e,a,s,r,o,l,c,p;return e=new pt({}),r=new nt({}),{c(){t=$("div"),j(e.$$.fragment),a=M(),s=$("div"),j(r.$$.fragment),w(s,"class","counter svelte-15k8jsl"),w(t,"class","container svelte-15k8jsl")},m(i,d){v(i,t,d),y(e,t,null),z(t,a),z(t,s),y(r,s,null),l=!0,c||(p=[P(t,"mouseenter",n[1]),P(t,"click",n[2])],c=!0)},p(i,[d]){n=i},i(i){l||(u(e.$$.fragment,i),u(r.$$.fragment,i),o||C(()=>{o=L(t,I,{duration:500,start:.4,easing:R}),o.start()}),l=!0)},o(i){q(e.$$.fragment,i),q(r.$$.fragment,i),l=!1},d(i){i&&x(t),O(e),O(r),c=!1,Q(p)}}}function gt(n){function t(e){}return[t,()=>{},()=>{V.openChat()}]}class bt extends f{constructor(t){super(),g(this,t,gt,ft,b,{},dt)}}function kt(n){let t,e;return t=new bt({}),{c(){j(t.$$.fragment)},m(a,s){y(t,a,s),e=!0},p:m,i(a){e||(u(t.$$.fragment,a),e=!0)},o(a){q(t.$$.fragment,a),e=!1},d(a){O(t,a)}}}let vt=class extends f{constructor(n){super(),g(this,n,null,kt,b,{})}};function xt(n){k(n,"svelte-z3mqeq","*{-webkit-box-sizing:border-box;box-sizing:border-box}.hidden{display:none}")}function $t(n){let t,e;return t=new vt({}),{c(){j(t.$$.fragment)},m(a,s){y(t,a,s),e=!0},p:m,i(a){e||(u(t.$$.fragment,a),e=!0)},o(a){q(t.$$.fragment,a),e=!1},d(a){O(t,a)}}}function wt(n,t,e){let{settings:a}=t,{data:s}=t,r=s,{hooks:o}=r,l=U(r,["hooks"]);return Y(o),n.$$set=c=>{"settings"in c&&e(0,a=c.settings),"data"in c&&e(1,s=c.data)},[a,s]}class ht extends f{constructor(t){super(),g(this,t,wt,$t,b,{settings:0,data:1},xt)}}window.carrotquestLauncher=(n,t,e,a)=>(window.carrotquest=a,new ht({target:n,props:{settings:t,data:e},intro:!0}));
